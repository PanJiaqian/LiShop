import{N as t,k as e}from"./index-D--6mQz1.js";const s="http://182.61.54.90:6149";function o(t){if(t)return t.startsWith("Bearer ")?t:`Bearer ${t}`;try{const t=e("user")||null,s=t&&(t.token||t.data&&t.data.token)||"";if(s)return s.startsWith("Bearer ")?s:`Bearer ${s}`}catch(s){}return""}function a(t){const e=[];return Object.keys(t||{}).forEach((s=>{const o=t[s];null!=o&&""!==o&&e.push(encodeURIComponent(s)+"="+encodeURIComponent(o))})),e.join("&")}function r(e){return new Promise(((o,a)=>{try{t({url:`${s}/api/auth/login/user`,method:"POST",header:{"Content-Type":"application/json"},data:e,success:t=>{t&&t.statusCode>=200&&t.statusCode<300?o(t.data):a(t)},fail:t=>a(t)})}catch(r){a(r)}}))}function i(e={}){const{page:r=1,page_size:i=20,sort_by:n,sort_order:d,available_product_id:u,length:c,quantity:l,color_temperature:p,token:h}=e,f=a({page:r,page_size:i,sort_by:n,sort_order:d,available_product_id:u,length:c,quantity:l,color_temperature:p}),_=`${s}/api/products/recommended${f?`?${f}`:""}`;return new Promise(((e,s)=>{const a=o(h);t({url:_,method:"GET",header:a?{Authorization:a}:{},success:t=>{let o=null==t?void 0:t.data;if("string"==typeof o)try{o=JSON.parse(o)}catch(a){}t&&t.statusCode>=200&&t.statusCode<300?e(o):s(t)},fail:t=>s(t)})}))}function n(e={}){const{page:r=1,page_size:i=20,sort_by:n="id",sort_order:d,categories_id:u,token:c}=e,l=a({page:r,page_size:i,sort_by:n,sort_order:d,categories_id:u}),p=`${s}/api/products/categories${l?`?${l}`:""}`;return new Promise(((e,s)=>{const a=o(c);t({url:p,method:"GET",header:a?{Authorization:a}:{},success:t=>{let o=null==t?void 0:t.data;if("string"==typeof o)try{o=JSON.parse(o)}catch(a){}t&&t.statusCode>=200&&t.statusCode<300?e(o):s(t)},fail:t=>s(t)})}))}function d(e={}){const{user_input:r="",page:i=1,page_size:n=20,sort_by:d,sort_order:u,available_product_id:c,length:l,quantity:p,color_temperature:h,token:f}=e,_=a({user_input:r,page:i,page_size:n,sort_by:d,sort_order:u,available_product_id:c,length:l,quantity:p,color_temperature:h}),m=`${s}/api/products/search${_?`?${_}`:""}`;return new Promise(((e,s)=>{const a=o(f);t({url:m,method:"GET",header:a?{Authorization:a}:{},success:t=>{let o=null==t?void 0:t.data;if("string"==typeof o)try{o=JSON.parse(o)}catch(a){}t&&t.statusCode>=200&&t.statusCode<300?e(o):s(t)},fail:t=>s(t)})}))}function u(e={}){const{page:r=1,page_size:i=40,sort_by:n="id",sort_order:d,category_id:u,token:c}=e,l=a({page:r,page_size:i,sort_by:n,sort_order:d,category_id:u}),p=`${s}/api/products${l?`?${l}`:""}`;return new Promise(((e,s)=>{const a=o(c);t({url:p,method:"GET",header:a?{Authorization:a}:{},success:t=>{let o=null==t?void 0:t.data;if("string"==typeof o)try{o=JSON.parse(o)}catch(a){}t&&t.statusCode>=200&&t.statusCode<300?e(o):s(t)},fail:t=>s(t)})}))}function c(e={}){const{available_product_id:r,token:i}=e,n=a({available_product_id:r}),d=`${s}/api/products/detail${n?`?${n}`:""}`;return new Promise(((e,s)=>{const a=o(i);t({url:d,method:"GET",header:a?{Authorization:a}:{},success:t=>{let o=null==t?void 0:t.data;if("string"==typeof o)try{o=JSON.parse(o)}catch(a){}t&&t.statusCode>=200&&t.statusCode<300?e(o):s(t)},fail:t=>s(t)})}))}function l(e={}){const{page:r=1,page_size:i=20,sort_by:n="id",sort_order:d,available_product_id:u,length:c,quantity:l,color_temperature:p,token:h}=e,f=a({page:r,page_size:i,sort_by:n,sort_order:d,available_product_id:u,length:c,quantity:l,color_temperature:p}),_=`${s}/api/products/get${f?`?${f}`:""}`;return new Promise(((e,s)=>{const a=o(h);t({url:_,method:"GET",header:a?{Authorization:a}:{},success:t=>{let o=null==t?void 0:t.data;if("string"==typeof o)try{o=JSON.parse(o)}catch(a){}t&&t.statusCode>=200&&t.statusCode<300?e(o):s(t)},fail:t=>s(t)})}))}function p(e={}){const{name:r,body:i={name:r},token:n}=e,d=a({name:r}),u=`${s}/api/rooms${d?`?${d}`:""}`;return new Promise(((e,s)=>{const a=o(n),r={"Content-Type":"application/json",...a?{Authorization:a}:{}};t({url:u,method:"POST",header:r,data:i,success:t=>{let o=null==t?void 0:t.data;if("string"==typeof o)try{o=JSON.parse(o)}catch(a){}t&&t.statusCode>=200&&t.statusCode<300?e(o):s(t)},fail:t=>s(t)})}))}function h(e={}){const{token:a}=e,r=`${s}/api/rooms`;return new Promise(((e,s)=>{const i=o(a);t({url:r,method:"GET",header:i?{Authorization:i}:{},success:t=>{let o=null==t?void 0:t.data;if("string"==typeof o)try{o=JSON.parse(o)}catch(a){}t&&t.statusCode>=200&&t.statusCode<300?e(o):s(t)},fail:t=>s(t)})}))}function f(e={}){const{room_id:r,room_name:i,product_id:n,length:d,quantity:u,color:c,note:l,token:p}=e,h=a({room_id:r,room_name:i,product_id:n,length:d,quantity:u,color:c,note:l}),f=`${s}/api/cart/items${h?`?${h}`:""}`;return new Promise(((e,s)=>{const a=o(p);t({url:f,method:"POST",header:a?{Authorization:a}:{},success:t=>{let o=null==t?void 0:t.data;if("string"==typeof o)try{o=JSON.parse(o)}catch(a){}t&&t.statusCode>=200&&t.statusCode<300?e(o):s(t)},fail:t=>s(t)})}))}function _(e={}){const{token:a}=e,r=`${s}/api/cart/items`;return new Promise(((e,s)=>{const i=o(a);t({url:r,method:"GET",header:i?{Authorization:i}:{},success:t=>{let o=null==t?void 0:t.data;if("string"==typeof o)try{o=JSON.parse(o)}catch(a){}t&&t.statusCode>=200&&t.statusCode<300?e(o):s(t)},fail:t=>s(t)})}))}function m(e={}){const{id:r,body:i={},token:n}=e,d=a({id:r}),u=`${s}/api/cart/items/delete${d?`?${d}`:""}`;return new Promise(((e,s)=>{const a=o(n),r={"Content-Type":"application/json",...a?{Authorization:a}:{}};t({url:u,method:"POST",header:r,data:i,success:t=>{let o=null==t?void 0:t.data;if("string"==typeof o)try{o=JSON.parse(o)}catch(a){}t&&t.statusCode>=200&&t.statusCode<300?e(o):s(t)},fail:t=>s(t)})}))}function y(e={}){const{id:r,room_id:i,product_id:n,length:d,quantity:u,color:c,note:l,token:p}=e,h=a({id:r,room_id:i,product_id:n,length:d,quantity:u,color:c,note:l}),f=`${s}/api/cart/items/update${h?`?${h}`:""}`;return new Promise(((e,s)=>{const a=o(p);t({url:f,method:"POST",header:a?{Authorization:a}:{},success:t=>{let o=null==t?void 0:t.data;if("string"==typeof o)try{o=JSON.parse(o)}catch(a){}t&&t.statusCode>=200&&t.statusCode<300?e(o):s(t)},fail:t=>s(t)})}))}function g(e={}){const{token:a}=e,r=`${s}/api/user/profile`;return new Promise(((e,s)=>{const i=o(a);t({url:r,method:"GET",header:i?{Authorization:i}:{},success:t=>{let o=null==t?void 0:t.data;if("string"==typeof o)try{o=JSON.parse(o)}catch(a){}t&&t.statusCode>=200&&t.statusCode<300?e(o):s(t)},fail:t=>s(t)})}))}function $(e={}){const{username:r,phone:i,region:n,contact_name:d,token:u}=e,c=a({username:r,phone:i,region:n,contact_name:d}),l=`${s}/api/user/profile${c?`?${c}`:""}`;return new Promise(((e,s)=>{const a=o(u);t({url:l,method:"POST",header:a?{Authorization:a}:{},success:t=>{let o=null==t?void 0:t.data;if("string"==typeof o)try{o=JSON.parse(o)}catch(a){}t&&t.statusCode>=200&&t.statusCode<300?e(o):s(t)},fail:t=>s(t)})}))}function C(e={}){const{token:a}=e,r=`${s}/api/user/security/code/send`;return new Promise(((e,s)=>{const i=o(a);t({url:r,method:"POST",header:i?{Authorization:i}:{},success:t=>{let o=null==t?void 0:t.data;if("string"==typeof o)try{o=JSON.parse(o)}catch(a){}t&&t.statusCode>=200&&t.statusCode<300?e(o):s(t)},fail:t=>s(t)})}))}function v(e={}){const{new_phone:r,code:i,token:n}=e,d=a({new_phone:r,code:i}),u=`${s}/api/user/security/phone/update${d?`?${d}`:""}`;return new Promise(((e,s)=>{const a=o(n);t({url:u,method:"POST",header:a?{Authorization:a}:{},success:t=>{let o=null==t?void 0:t.data;if("string"==typeof o)try{o=JSON.parse(o)}catch(a){}t&&t.statusCode>=200&&t.statusCode<300?e(o):s(t)},fail:t=>s(t)})}))}function O(e={}){const{new_email:r,code:i,token:n}=e,d=a({new_email:r,code:i}),u=`${s}/api/user/security/email/update${d?`?${d}`:""}`;return new Promise(((e,s)=>{const a=o(n);t({url:u,method:"POST",header:a?{Authorization:a}:{},success:t=>{let o=null==t?void 0:t.data;if("string"==typeof o)try{o=JSON.parse(o)}catch(a){}t&&t.statusCode>=200&&t.statusCode<300?e(o):s(t)},fail:t=>s(t)})}))}function P(e={}){const{addresses_id:r,token:i}=e,n=a({addresses_id:r}),d=`${s}/api/user/addresses${n?`?${n}`:""}`;return new Promise(((e,s)=>{const a=o(i);t({url:d,method:"GET",header:a?{Authorization:a}:{},success:t=>{let o=null==t?void 0:t.data;if("string"==typeof o)try{o=JSON.parse(o)}catch(a){}t&&t.statusCode>=200&&t.statusCode<300?e(o):s(t)},fail:t=>s(t)})}))}function S(e={}){const{addresses_id:r,token:i}=e,n=a({addresses_id:r}),d=`${s}/api/user/addresses/delete${n?`?${n}`:""}`;return new Promise(((e,s)=>{const a=o(i);t({url:d,method:"POST",header:a?{Authorization:a}:{},success:t=>{let o=null==t?void 0:t.data;if("string"==typeof o)try{o=JSON.parse(o)}catch(a){}t&&t.statusCode>=200&&t.statusCode<300?e(o):s(t)},fail:t=>s(t)})}))}function z(e={}){const{receiver:r,phone:i,province:n,city:d,district:u,detail_address:c,is_default:l,token:p}=e,h=a({receiver:r,phone:i,province:n,city:d,district:u,detail_address:c,is_default:l}),f=`${s}/api/user/addresses${h?`?${h}`:""}`;return new Promise(((e,s)=>{const a=o(p);t({url:f,method:"POST",header:a?{Authorization:a}:{},success:t=>{let o=null==t?void 0:t.data;if("string"==typeof o)try{o=JSON.parse(o)}catch(a){}t&&t.statusCode>=200&&t.statusCode<300?e(o):s(t)},fail:t=>s(t)})}))}function w(e={}){const{receiver:r,phone:i,province:n,city:d,district:u,detail_address:c,is_default:l,addresses_id:p,token:h}=e,f=a({receiver:r,phone:i,province:n,city:d,district:u,detail_address:c,is_default:l,addresses_id:p}),_=`${s}/api/user/addresses/update${f?`?${f}`:""}`;return new Promise(((e,s)=>{const a=o(h);t({url:_,method:"POST",header:a?{Authorization:a}:{},success:t=>{let o=null==t?void 0:t.data;if("string"==typeof o)try{o=JSON.parse(o)}catch(a){}t&&t.statusCode>=200&&t.statusCode<300?e(o):s(t)},fail:t=>s(t)})}))}function k(e={}){const{body:a={},token:r}=e,i=`${s}/api/cart`;return new Promise(((e,s)=>{const n=o(r);t({url:i,method:"POST",header:n?{Authorization:n}:{},data:a,success:t=>{let o=null==t?void 0:t.data;if("string"==typeof o)try{o=JSON.parse(o)}catch(a){}t&&t.statusCode>=200&&t.statusCode<300?e(o):s(t)},fail:t=>s(t)})}))}export{i as a,_ as b,k as c,m as d,h as e,g as f,n as g,$ as h,v as i,O as j,c as k,l,f as m,p as n,r as o,d as p,u as q,P as r,C as s,S as t,y as u,w as v,z as w};
