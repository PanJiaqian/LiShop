{"version":3,"file":"index.js","sources":["pages/profile/index.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcHJvZmlsZS9pbmRleC52dWU"],"sourcesContent":["<template>\r\n  <view class=\"page\">\r\n    <Skeleton :loading=\"loading\" :showTitle=\"true\" />\r\n    <!-- #ifdef MP-WEIXIN -->\r\n    <image class=\"page-bg\" src=\"/static/product_detail_background.jpg\" mode=\"aspectFill\" />\r\n    <!-- #endif -->\r\n    <view class=\"profile-grid\">\r\n      <view class=\"profile-main\">\r\n        <view id=\"og-profile-info\" class=\"info-card\">\r\n          <view class=\"card-header-row\">\r\n            <text class=\"card-title\">个人信息</text>\r\n          </view>\r\n          \r\n          <view class=\"user-brief\">\r\n             <view class=\"avatar-wrapper\">\r\n               <image v-if=\"profile.avatarUrl && !avatarError\" class=\"avatar\" :src=\"profile.avatarUrl\" @error=\"onAvatarError\" />\r\n               <view v-else class=\"avatar avatar-initial\">{{ avatarInitial }}</view>\r\n               <!-- #ifdef H5 -->\r\n               <input id=\"avatar-file\" type=\"file\" accept=\"image/*\" style=\"position:absolute;left:-9999px;opacity:0;width:1px;height:1px;\" @change=\"onAvatarFileChange\" />\r\n               <view class=\"avatar-edit\" @click=\"triggerAvatarPicker\">✎</view>\r\n               <!-- #endif -->\r\n               <!-- #ifdef MP-WEIXIN -->\r\n               <view class=\"avatar-edit\" @click=\"chooseAvatarWx\">✎</view>\r\n               <!-- #endif -->\r\n             </view>\r\n          </view>\r\n\r\n          <view class=\"form-grid\">\r\n            <view class=\"form-item\">\r\n              <text class=\"label\">姓名</text>\r\n              <input v-if=\"isEditing\" class=\"input-box\" v-model=\"editForm.username\" />\r\n              <view v-else class=\"input-box static\">{{ profile.username }}</view>\r\n            </view>\r\n            <view class=\"form-item\">\r\n              <text class=\"label\">手机号</text>\r\n              <!-- #ifndef MP-WEIXIN -->\r\n              <view class=\"input-box static\">{{ profile.phone }} <text v-if=\"loggedIn\" class=\"link\" @click=\"openSecurityModal('phone')\">修改</text></view>\r\n              <!-- #endif -->\r\n              <!-- #ifdef MP-WEIXIN -->\r\n              <view class=\"input-box static\">{{ profile.phone }}</view>\r\n              <view v-if=\"loggedIn\" class=\"edit-under\"><text class=\"link-under\" @click=\"openSecurityModal('phone')\">修改</text></view>\r\n              <!-- #endif -->\r\n            </view>\r\n            <view class=\"form-item\">\r\n              <text class=\"label\">邮箱</text>\r\n              <!-- #ifndef MP-WEIXIN -->\r\n              <view class=\"input-box static\">{{ profile.email }} <text v-if=\"loggedIn\" class=\"link\" @click=\"openSecurityModal('email')\">修改</text></view>\r\n              <!-- #endif -->\r\n              <!-- #ifdef MP-WEIXIN -->\r\n              <view class=\"input-box static\">{{ profile.email }}</view>\r\n              <view v-if=\"loggedIn\" class=\"edit-under\"><text class=\"link-under\" @click=\"openSecurityModal('email')\">修改</text></view>\r\n              <!-- #endif -->\r\n            </view>\r\n            <view class=\"form-item\">\r\n              <text class=\"label\">登录密码</text>\r\n              <!-- #ifndef MP-WEIXIN -->\r\n              <view class=\"input-box static\">******** <text v-if=\"loggedIn\" class=\"link\" @click=\"openSecurityModal('password')\">修改</text></view>\r\n              <!-- #endif -->\r\n              <!-- #ifdef MP-WEIXIN -->\r\n              <view class=\"input-box static\">********</view>\r\n              <view v-if=\"loggedIn\" class=\"edit-under\"><text class=\"link-under\" @click=\"openSecurityModal('password')\">修改</text></view>\r\n              <!-- #endif -->\r\n            </view>\r\n            <view class=\"form-item\">\r\n              <text class=\"label\">公司名称</text>\r\n              <input v-if=\"isEditing\" class=\"input-box\" v-model=\"editForm.company_name\" />\r\n              <view v-else class=\"input-box static\">{{ profile.companyName }}</view>\r\n            </view>\r\n            <view class=\"form-item\">\r\n              <text class=\"label\">联系人</text>\r\n              <input v-if=\"isEditing\" class=\"input-box\" v-model=\"editForm.contact_name\" />\r\n              <view v-else class=\"input-box static\">{{ profile.contactName }}</view>\r\n            </view>\r\n            <!-- <view class=\"form-item\">\r\n              <text class=\"label\">Phone Number 待定</text>\r\n              <view class=\"input-box static\">{{ profile.phone }}</view>\r\n            </view> -->\r\n            <view class=\"form-item\">\r\n              <text class=\"label\">地区</text>\r\n              <input v-if=\"isEditing\" class=\"input-box\" v-model=\"editForm.region\" />\r\n              <view v-else class=\"input-box static\">{{ profile.region }}</view>\r\n            </view>\r\n          </view>\r\n\r\n          <view class=\"form-actions\" v-if=\"loggedIn\">\r\n             <!-- <text class=\"hint\">修改资料/保存设置</text> -->\r\n             <view class=\"btns\">\r\n               <button class=\"btn-save\" @click=\"isEditing ? handleSave() : handleEdit()\">{{ isEditing ? '保存修改' : '编辑资料' }}</button>\r\n               <button class=\"btn-cancel\" @click=\"isEditing ? handleCancel() : logout()\">{{ isEditing ? '取消' : '退出登录' }}</button>\r\n             </view>\r\n          </view>\r\n          <view class=\"form-actions\" v-else>\r\n             <button class=\"btn-save\" @click=\"login\">登录</button>\r\n          </view>\r\n        </view>\r\n      </view>\r\n\r\n      <view class=\"profile-aside\">\r\n        <view class=\"right-card\">\r\n          <view class=\"preferences-section\">\r\n            <view class=\"card-header\">\r\n              <text class=\"card-title\">功能</text>\r\n            </view>\r\n            <view id=\"og-profile-menu\" class=\"menu-list\">\r\n              <navigator url=\"/pages/order/index\" class=\"menu-row\">\r\n                <text>我的订单</text>\r\n                <text class=\"arrow\">›</text>\r\n              </navigator>\r\n              <navigator url=\"/pages/cart/index\" open-type=\"switchTab\" class=\"menu-row\">\r\n                <text>我的购物车</text>\r\n                <text class=\"arrow\">›</text>\r\n              </navigator>\r\n              <navigator url=\"/pages/favorites/index\" class=\"menu-row\">\r\n                <text>我的收藏</text>\r\n                <text class=\"arrow\">›</text>\r\n              </navigator>\r\n              <navigator url=\"/pages/settings/index\" class=\"menu-row\">\r\n                <text>设置</text>\r\n                <text class=\"arrow\">›</text>\r\n              </navigator>\r\n              <!-- #ifdef MP-WEIXIN -->\r\n              <view class=\"menu-row\" @click=\"startOnboardingFromProfile\">\r\n                <text>新手教程</text>\r\n                <text class=\"arrow\">›</text>\r\n              </view>\r\n              <!-- #endif -->\r\n              <!-- #ifdef H5 -->\r\n              <view class=\"menu-row\" @click=\"openAnnouncementModalH5\">\r\n                <text>公告</text>\r\n                <text class=\"arrow\">›</text>\r\n              </view>\r\n              <!-- #endif -->\r\n              <!-- #ifndef H5 -->\r\n              <navigator url=\"/pages/announcement/index\" class=\"menu-row\">\r\n                <text>公告</text>\r\n                <text class=\"arrow\">›</text>\r\n              </navigator>\r\n              <!-- #endif -->\r\n              <navigator url=\"/pages/messages/index\" class=\"menu-row\">\r\n                <text>消息</text>\r\n                <text class=\"arrow\">›</text>\r\n              </navigator>\r\n            </view>\r\n          </view>\r\n\r\n          <view class=\"addresses-section\">\r\n            <view class=\"card-header\">\r\n              <text class=\"card-title\">收货地址</text>\r\n              <button size=\"mini\" class=\"btn-add-addr\" @click=\"goCreateAddress\">添加地址</button>\r\n            </view>\r\n            <view id=\"og-profile-addr\" class=\"addr-list\">\r\n               <view class=\"addr-item\" v-for=\"addr in addresses\" :key=\"addr.id\" @click=\"editAddress(addr)\">\r\n                 <view class=\"addr-info\">\r\n                   <text class=\"addr-txt\">{{ addr.full }}</text>\r\n                   <text class=\"addr-sub\">{{ addr.receiver }} {{ addr.phone }}</text>\r\n                 </view>\r\n                 <text class=\"arrow\">›</text>\r\n               </view>\r\n               <view v-if=\"addresses.length === 0\" class=\"empty-addr\">暂无地址</view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    <!-- #ifdef H5 -->\r\n    <FloatingNav />\r\n    <OnboardingGuide\r\n      v-if=\"showOnboarding\"\r\n      :steps=\"onboardingSteps\"\r\n      :targets=\"onboardingRects\"\r\n      :initialIndex=\"onboardingIndex\"\r\n      @advance=\"handleOnboardingNext\"\r\n      @back=\"handleOnboardingPrev\"\r\n      @close=\"closeOnboarding\"\r\n    />\r\n    <!-- 公告弹窗（H5） -->\r\n    <view v-if=\"showAnnouncementModal\" class=\"h5-mask\" @click=\"closeAnnouncementModal\">\r\n      <view class=\"h5-modal\" @click.stop>\r\n        <view class=\"modal-header\">\r\n          <text class=\"modal-title\">公告</text>\r\n          <view class=\"modal-close\" @click=\"closeAnnouncementModal\">✕</view>\r\n        </view>\r\n        <view v-if=\"announcement\" class=\"modal-body\">\r\n          <view class=\"modal-body-two\">\r\n            <view class=\"two-left\" @click=\"showAnnContent = true\">\r\n              <text class=\"two-label\">公告标题</text>\r\n              <view class=\"two-title\">{{ announcement.title }}</view>\r\n            </view>\r\n            <view class=\"two-right\">\r\n              <view v-if=\"showAnnContent\">\r\n                <text class=\"a-title\">{{ announcement.title }}</text>\r\n                <text class=\"a-time\">{{ displayTime }}</text>\r\n                <view class=\"a-content\">{{ announcement.content }}</view>\r\n              </view>\r\n              <view v-else class=\"two-hint\">点击右侧显示公告内容</view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n        <view v-else class=\"modal-body\">\r\n          <text>暂无公告</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    <view class=\"floating-back\" @click=\"goBack\">←</view>\r\n    <!-- #endif -->\r\n    <!-- #ifndef H5 -->\r\n    <OnboardingGuide\r\n      v-if=\"showOnboarding\"\r\n      :steps=\"onboardingSteps\"\r\n      :targets=\"onboardingRects\"\r\n      :initialIndex=\"onboardingIndex\"\r\n      @advance=\"handleOnboardingNext\"\r\n      @back=\"handleOnboardingPrev\"\r\n      @close=\"closeOnboarding\"\r\n    />\r\n    <!-- #endif -->\r\n\r\n    <!-- 安全验证弹窗 -->\r\n    <view v-if=\"showSecurityModal\" class=\"modal-mask\" @click=\"closeSecurityModal\">\r\n      <view class=\"modal-content\" @click.stop>\r\n        <view class=\"modal-header\">\r\n          <text class=\"modal-title\">{{ securityTitle }}</text>\r\n        </view>\r\n        <view class=\"modal-body\">\r\n          <input class=\"modal-input\" v-model=\"securityForm.value\" :placeholder=\"securityPlaceholder\" />\r\n          <view class=\"code-box\">\r\n            <input class=\"modal-input code\" v-model=\"securityForm.code\" placeholder=\"请输入验证码\" />\r\n            <button size=\"mini\" class=\"btn-code\" :disabled=\"countdown > 0\" @click=\"sendCode\">\r\n              {{ countdown > 0 ? `${countdown}s` : '获取验证码' }}\r\n            </button>\r\n          </view>\r\n        </view>\r\n        <view class=\"modal-footer\">\r\n          <button class=\"modal-btn cancel\" @click=\"closeSecurityModal\">取消</button>\r\n          <button class=\"modal-btn confirm\" @click=\"confirmSecurityEdit\">确认</button>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    <LoginPrompt :visible=\"showLoginModal\" @close=\"closeLoginModal\" @confirm=\"goLogin\" />\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport FloatingNav from '@/components/FloatingNav.vue'\r\nimport Skeleton from '@/components/Skeleton.vue'\r\nimport OnboardingGuide from '@/components/OnboardingGuide.vue'\r\nimport LoginPrompt from '@/components/LoginPrompt.vue'\r\nimport { getUserProfile, updateUserProfile, sendSecurityCode, updateUserPhone, updateUserEmail, getAddresses, updateUserAvatar, getCurrentAnnouncement } from '../../api/index.js'\r\nexport default {\r\n  components: { FloatingNav, Skeleton, OnboardingGuide, LoginPrompt },\r\n  data() { return { \r\n    loading: true,\r\n    loggedIn: false, displayName: '', fetchedProfile: {}, isEditing: false, editForm: {},\r\n    showSecurityModal: false, securityType: '', securityForm: { value: '', code: '' }, countdown: 0, timer: null,\r\n    addresses: [],\r\n    avatarError: false,\r\n    showAnnouncementModal: false,\r\n    announcementLoading: false,\r\n    announcement: null,\r\n    showAnnContent: false,\r\n    showOnboarding: false, onboardingRects: [], onboardingSteps: [], onboardingIndex: 0,\r\n    onboardingStepsH5: [\r\n      '顶部搜索可快速查找商品与店铺',\r\n      '左侧分类导航支持展开子分类',\r\n      '轮播图可直达热门商品',\r\n      '猜你喜欢展示为你推荐的商品',\r\n      '我的与购物车提供快捷入口',\r\n      '商品详情页查看规格与加入购物车',\r\n      '房间选择，购物车根据房间名进行分组',\r\n      '订单页面查看物流与支付进度',\r\n      '个人信息管理',\r\n      '功能区',\r\n      '收货地址管理'\r\n    ],\r\n    onboardingStepsMp: [\r\n      '顶部搜索定位商品',\r\n      '横向分类导航查看子分类',\r\n      '轮播图快捷入口',\r\n      '猜你喜欢推荐区',\r\n      '商品详情页查看规格与加入购物车',\r\n      '房间选择，购物车根据房间名进行分组',\r\n      '订单页面查看物流与支付进度',\r\n      '个人信息管理',\r\n      '功能区',\r\n      '收货地址管理'\r\n    ],\r\n    showLoginModal: false\r\n  } },\r\n  computed: {\r\n    profile() {\r\n      try {\r\n        const u = this.fetchedProfile.user_id ? this.fetchedProfile : (uni.getStorageSync('user') || null)\r\n        return {\r\n          username: u?.username || '未设置',\r\n          phone: u?.phone || '未设置',\r\n          email: u?.email || '未设置',\r\n          companyName: u?.company_name || u?.companyName || '未设置',\r\n          contactName: u?.contact_name || u?.contactName || '未设置',\r\n          region: u?.region || '未设置',\r\n          avatarUrl: (typeof (u?.avatar || u?.avatar_url) === 'string' ? (u.avatar || u.avatar_url).replace(/`/g, '').trim() : '')\r\n        }\r\n      } catch (e) { return { username: '未设置', phone: '未设置', email: '未设置', companyName: '未设置', contactName: '未设置', region: '未设置', avatarUrl: '' } }\r\n    },\r\n    displayTime() {\r\n      try {\r\n        const t = this.announcement?.created_at || this.announcement?.timestamp || ''\r\n        if (!t) return ''\r\n        const d = new Date(t)\r\n        if (isNaN(d.getTime())) return String(t)\r\n        const y = d.getFullYear()\r\n        const m = String(d.getMonth() + 1).padStart(2, '0')\r\n        const day = String(d.getDate()).padStart(2, '0')\r\n        const h = String(d.getHours()).padStart(2, '0')\r\n        const mm = String(d.getMinutes()).padStart(2, '0')\r\n        return `${y}-${m}-${day} ${h}:${mm}`\r\n      } catch (e) { return '' }\r\n    },\r\n    securityTitle() {\r\n      const map = { phone: '更换手机号', email: '更换邮箱', password: '修改登录密码' }\r\n      return map[this.securityType] || '安全验证'\r\n    },\r\n    securityPlaceholder() {\r\n      const map = { phone: '请输入新手机号', email: '请输入新邮箱', password: '请输入新密码' }\r\n      return map[this.securityType] || ''\r\n    },\r\n    avatarInitial() {\r\n      try {\r\n        const name = (this.profile.contactName || this.profile.username || '').trim()\r\n        return name ? name.charAt(0) : 'U'\r\n      } catch (e) { return 'U' }\r\n    }\r\n  },\r\n  onShow() {\r\n    // #ifdef MP-WEIXIN\r\n    try {\r\n      const u = uni.getStorageSync('user') || null\r\n      const exp = uni.getStorageSync('token_expiration') || 0\r\n      const ok = !!u && (!exp || Date.now() < exp)\r\n      if (!ok) {\r\n        this.showLoginModal = true\r\n        return\r\n      }\r\n    } catch (e) {}\r\n    // #endif\r\n    this.loadAddresses()\r\n    // #ifdef H5\r\n    try { uni.hideTabBar({ animation: false }) } catch (e) { }\r\n    try {\r\n      const cur = (typeof location !== 'undefined' && location.href) ? location.href : ''\r\n      const ref = (typeof document !== 'undefined' && document.referrer) ? document.referrer : ''\r\n      if (ref && (!cur || ref !== cur)) {\r\n        uni.setStorageSync('last_profile_back', ref)\r\n      }\r\n    } catch (e) {}\r\n    // #endif\r\n    try {\r\n      const cont = !!uni.getStorageSync('onboarding_continue')\r\n      const sel = uni.getStorageSync('onboarding_target_selector') || ''\r\n      const idx = Number(uni.getStorageSync('onboarding_index') || 0)\r\n      const stepsStored = uni.getStorageSync('onboarding_steps') || []\r\n      if (cont && sel) {\r\n        if (Array.isArray(stepsStored) && stepsStored.length) this.onboardingSteps = stepsStored\r\n        const safeIdx = Math.max(0, Math.min(idx, this.onboardingSteps.length - 1))\r\n        this.onboardingIndex = safeIdx\r\n        this.$nextTick(() => {\r\n          let isH5 = false\r\n          try { isH5 = typeof window !== 'undefined' } catch (e) { isH5 = false }\r\n          const targetMapH5 = { 8: '#og-profile-info', 9: '#og-profile-menu', 10: '#og-profile-addr' }\r\n          const targetMapMp = { 7: '#og-profile-info', 8: '#og-profile-menu', 9: '#og-profile-addr' }\r\n          const tSel = isH5 ? (targetMapH5[safeIdx] || sel) : (targetMapMp[safeIdx] || sel)\r\n          try { uni.setStorageSync('onboarding_target_selector', tSel) } catch (e) {}\r\n          this.refreshOnboardingRect(tSel)\r\n        })\r\n      }\r\n    } catch (e) {}\r\n    try {\r\n      const u = uni.getStorageSync('user') || null\r\n      this.loggedIn = !!u\r\n      this.displayName = u?.username || ''\r\n      if (this.loggedIn) {\r\n        const token = (u && (u.token || (u.data && u.data.token))) || ''\r\n        this.loadUserProfile(token).finally(() => this.loading = false)\r\n      } else {\r\n        this.loading = false\r\n      }\r\n    } catch (e) { this.loading = false }\r\n  },\r\n  onLoad() {\r\n    try {\r\n      const h = () => { this.showLoginModal = true }\r\n      this._globalLoginHandler = h\r\n      uni.$on('global-login-prompt', h)\r\n    } catch (e) {}\r\n  },\r\n  onUnload() {\r\n    try {\r\n      if (this._globalLoginHandler) uni.$off('global-login-prompt', this._globalLoginHandler)\r\n      this._globalLoginHandler = null\r\n    } catch (e) {}\r\n  },\r\n  methods: {\r\n    closeLoginModal() {\r\n      this.showLoginModal = false\r\n      try {\r\n        let isH5 = false\r\n        try { isH5 = typeof window !== 'undefined' } catch (e) { isH5 = false }\r\n        if (!isH5) {\r\n          if (uni && uni.switchTab) { uni.switchTab({ url: '/pages/home/index' }); return }\r\n          if (uni && uni.navigateTo) { uni.navigateTo({ url: '/pages/home/index' }); return }\r\n        }\r\n      } catch (e) {}\r\n    },\r\n    goLogin() { this.showLoginModal = false; uni.navigateTo({ url: '/pages/login/index' }) },\r\n    startOnboardingFromProfile() {\r\n      try {\r\n        let isH5 = false\r\n        try { isH5 = typeof window !== 'undefined' } catch (e) { isH5 = false }\r\n        const steps = isH5 ? this.onboardingStepsH5 : this.onboardingStepsMp\r\n        this.onboardingSteps = steps\r\n        uni.setStorageSync('onboarding_steps', steps)\r\n        uni.setStorageSync('onboarding_index', 0)\r\n        uni.setStorageSync('onboarding_continue', true)\r\n        uni.setStorageSync('onboarding_target_selector', '#og-search')\r\n      } catch (e) {}\r\n      try {\r\n        if (uni && uni.switchTab) { uni.switchTab({ url: '/pages/home/index' }); return }\r\n        if (uni && uni.navigateTo) { uni.navigateTo({ url: '/pages/home/index' }); return }\r\n      } catch (e) {}\r\n    },\r\n    refreshOnboardingRect(sel) {\r\n      let isH5 = false\r\n      try { isH5 = typeof window !== 'undefined' } catch (e) { isH5 = false }\r\n      const total = this.onboardingSteps.length || 0\r\n      const arr = new Array(total).fill(null)\r\n      if (isH5) {\r\n        const el = typeof document !== 'undefined' ? document.querySelector(sel) : null\r\n        if (el) {\r\n          const r = el.getBoundingClientRect()\r\n          arr[this.onboardingIndex] = { left: r.left, top: r.top, width: r.width, height: r.height }\r\n        }\r\n        this.onboardingRects = arr\r\n        this.showOnboarding = true\r\n      } else {\r\n        const tryMp = (attempt = 0) => {\r\n          const q = uni.createSelectorQuery().in(this)\r\n          try {\r\n            uni.pageScrollTo({ selector: sel, duration: 250 })\r\n          } catch (e) {}\r\n          setTimeout(() => {\r\n            q.select(sel).boundingClientRect()\r\n            q.exec(res => {\r\n              const r = (res || [])[0]\r\n              if (r) {\r\n                arr[this.onboardingIndex] = { left: r.left, top: r.top, width: r.width, height: r.height }\r\n                this.onboardingRects = arr\r\n                this.showOnboarding = true\r\n              } else if (attempt < 3) {\r\n                setTimeout(() => tryMp(attempt + 1), 140)\r\n              }\r\n            })\r\n          }, 260)\r\n        }\r\n        tryMp(0)\r\n      }\r\n    },\r\n    handleOnboardingNext(nextIndex) {\r\n      const idx = Number(nextIndex || 0)\r\n      this.onboardingIndex = idx\r\n      try {\r\n        uni.setStorageSync('onboarding_index', idx)\r\n        if (Array.isArray(this.onboardingSteps) && this.onboardingSteps.length) {\r\n          uni.setStorageSync('onboarding_steps', this.onboardingSteps)\r\n        }\r\n        uni.setStorageSync('onboarding_continue', true)\r\n      } catch (e) {}\r\n      const isH5 = typeof window !== 'undefined'\r\n      if (isH5) {\r\n        if (idx <= 4) {\r\n          const map = ['#og-search', '#og-cate', '#og-banner', '#og-guess', '#og-quick']\r\n          const sel = map[idx] || '#og-search'\r\n          uni.setStorageSync('onboarding_target_selector', sel)\r\n          if (uni.switchTab) uni.switchTab({ url: '/pages/home/index' })\r\n          else uni.navigateTo({ url: '/pages/home/index' })\r\n          return\r\n        }\r\n        if (idx === 5) {\r\n          uni.setStorageSync('onboarding_target_selector', '#og-product-add')\r\n          uni.navigateTo({ url: '/pages/product/index' })\r\n          return\r\n        }\r\n        if (idx === 6) {\r\n          uni.setStorageSync('onboarding_target_selector', '#og-room-modal-list')\r\n          uni.navigateTo({ url: '/pages/product/index' })\r\n          return\r\n        }\r\n        if (idx === 7) {\r\n          uni.setStorageSync('onboarding_target_selector', '#og-order-tabs')\r\n          uni.navigateTo({ url: '/pages/order/index' })\r\n          return\r\n        }\r\n        if (idx === 8) {\r\n          this.$nextTick(() => { this.refreshOnboardingRect('#og-profile-info') })\r\n          return\r\n        }\r\n        if (idx === 9) {\r\n          this.$nextTick(() => { this.refreshOnboardingRect('#og-profile-menu') })\r\n          return\r\n        }\r\n        if (idx === 10) {\r\n          this.$nextTick(() => { this.refreshOnboardingRect('#og-profile-addr') })\r\n          return\r\n        }\r\n      } else {\r\n        if (idx <= 3) {\r\n          const map = ['#og-search', '#og-mp-cate', '#og-banner', '#og-mp-guess']\r\n          const sel = map[idx] || '#og-search'\r\n          uni.setStorageSync('onboarding_target_selector', sel)\r\n          if (uni.switchTab) uni.switchTab({ url: '/pages/home/index' })\r\n          else uni.navigateTo({ url: '/pages/home/index' })\r\n          return\r\n        }\r\n        if (idx === 4) {\r\n          uni.setStorageSync('onboarding_target_selector', '#og-product-add')\r\n          uni.navigateTo({ url: '/pages/product/index' })\r\n          return\r\n        }\r\n        if (idx === 5) {\r\n          uni.setStorageSync('onboarding_target_selector', '#og-room-modal-list')\r\n          uni.navigateTo({ url: '/pages/product/index' })\r\n          return\r\n        }\r\n        if (idx === 6) {\r\n          uni.setStorageSync('onboarding_target_selector', '#og-order-tabs')\r\n          uni.navigateTo({ url: '/pages/order/index' })\r\n          return\r\n        }\r\n        if (idx === 7) {\r\n          this.$nextTick(() => { this.refreshOnboardingRect('#og-profile-info') })\r\n          return\r\n        }\r\n        if (idx === 8) {\r\n          this.$nextTick(() => { this.refreshOnboardingRect('#og-profile-menu') })\r\n          return\r\n        }\r\n        if (idx === 9) {\r\n          this.$nextTick(() => { this.refreshOnboardingRect('#og-profile-addr') })\r\n          return\r\n        }\r\n      }\r\n    },\r\n    handleOnboardingPrev(prevIndex) {\r\n      const idx = Number(prevIndex || 0)\r\n      if (idx < 0) return\r\n      this.onboardingIndex = idx\r\n      try {\r\n        uni.setStorageSync('onboarding_index', idx)\r\n        uni.setStorageSync('onboarding_continue', true)\r\n      } catch (e) {}\r\n      const isH5 = typeof window !== 'undefined'\r\n      if (isH5) {\r\n        if (idx <= 4) {\r\n          const map = ['#og-search', '#og-cate', '#og-banner', '#og-guess', '#og-quick']\r\n          const sel = map[idx] || '#og-search'\r\n          uni.setStorageSync('onboarding_target_selector', sel)\r\n          if (uni.switchTab) uni.switchTab({ url: '/pages/home/index' })\r\n          else uni.navigateTo({ url: '/pages/home/index' })\r\n          return\r\n        }\r\n        if (idx === 5) {\r\n          uni.setStorageSync('onboarding_target_selector', '#og-product-add')\r\n          uni.navigateTo({ url: '/pages/product/index' })\r\n          return\r\n        }\r\n        if (idx === 6) {\r\n          uni.setStorageSync('onboarding_target_selector', '#og-room-modal-list')\r\n          uni.navigateTo({ url: '/pages/product/index' })\r\n          return\r\n        }\r\n        if (idx === 7) {\r\n          uni.setStorageSync('onboarding_target_selector', '#og-order-tabs')\r\n          uni.navigateTo({ url: '/pages/order/index' })\r\n          return\r\n        }\r\n        if (idx === 8) {\r\n          this.$nextTick(() => { this.refreshOnboardingRect('#og-profile-info') })\r\n          return\r\n        }\r\n        if (idx === 9) {\r\n          this.$nextTick(() => { this.refreshOnboardingRect('#og-profile-menu') })\r\n          return\r\n        }\r\n        if (idx === 10) {\r\n          this.$nextTick(() => { this.refreshOnboardingRect('#og-profile-addr') })\r\n          return\r\n        }\r\n      } else {\r\n        if (idx <= 3) {\r\n          const map = ['#og-search', '#og-mp-cate', '#og-banner', '#og-mp-guess']\r\n          const sel = map[idx] || '#og-search'\r\n          uni.setStorageSync('onboarding_target_selector', sel)\r\n          if (uni.switchTab) uni.switchTab({ url: '/pages/home/index' })\r\n          else uni.navigateTo({ url: '/pages/home/index' })\r\n          return\r\n        }\r\n        if (idx === 4) {\r\n          uni.setStorageSync('onboarding_target_selector', '#og-product-add')\r\n          uni.navigateTo({ url: '/pages/product/index' })\r\n          return\r\n        }\r\n        if (idx === 5) {\r\n          uni.setStorageSync('onboarding_target_selector', '#og-room-modal-list')\r\n          uni.navigateTo({ url: '/pages/product/index' })\r\n          return\r\n        }\r\n        if (idx === 6) {\r\n          uni.setStorageSync('onboarding_target_selector', '#og-order-tabs')\r\n          uni.navigateTo({ url: '/pages/order/index' })\r\n          return\r\n        }\r\n        if (idx === 7) {\r\n          this.$nextTick(() => { this.refreshOnboardingRect('#og-profile-info') })\r\n          return\r\n        }\r\n        if (idx === 8) {\r\n          this.$nextTick(() => { this.refreshOnboardingRect('#og-profile-menu') })\r\n          return\r\n        }\r\n        if (idx === 9) {\r\n          this.$nextTick(() => { this.refreshOnboardingRect('#og-profile-addr') })\r\n          return\r\n        }\r\n      }\r\n    },\r\n    goHome() {\r\n      if (uni && uni.switchTab) { uni.switchTab({ url: '/pages/home/index' }); return }\r\n      if (uni && uni.navigateTo) { uni.navigateTo({ url: '/pages/home/index' }); return }\r\n    },\r\n    closeOnboarding() {\r\n      this.showOnboarding = false\r\n      try {\r\n        uni.removeStorageSync('onboarding_continue')\r\n        uni.removeStorageSync('onboarding_target_selector')\r\n        uni.removeStorageSync('onboarding_step_text')\r\n        uni.removeStorageSync('onboarding_steps')\r\n        uni.removeStorageSync('onboarding_index')\r\n        uni.reLaunch({ url: '/pages/home/index' })\r\n      } catch (e) {}\r\n    },\r\n    openAnnouncementModalH5() {\r\n      this.announcementLoading = true\r\n      try {\r\n        const u = uni.getStorageSync('user') || null\r\n        const token = (u && (u.token || (u.data && u.data.token))) || ''\r\n        getCurrentAnnouncement({ token }).then(res => {\r\n          const ok = !!(res && res.success)\r\n          const data = res?.data || null\r\n          if (ok && data) {\r\n            this.announcement = {\r\n              id: data.announcement_id || data.id || '',\r\n              title: data.title || '',\r\n              content: data.content || '',\r\n              created_at: data.created_at || res.timestamp || ''\r\n            }\r\n          } else {\r\n            this.announcement = null\r\n          }\r\n        }).catch(() => { this.announcement = null })\r\n        .finally(() => {\r\n          this.announcementLoading = false\r\n          this.showAnnouncementModal = true\r\n          this.showAnnContent = true\r\n        })\r\n      } catch (e) {\r\n        this.announcement = null\r\n        this.announcementLoading = false\r\n        this.showAnnouncementModal = true\r\n        this.showAnnContent = true\r\n      }\r\n    },\r\n    closeAnnouncementModal() {\r\n      this.showAnnouncementModal = false\r\n      this.showAnnContent = false\r\n    },\r\n    goBack() { this.goHome() },\r\n    loadAddresses() {\r\n      const u = uni.getStorageSync('user')\r\n      const token = (u && (u.token || (u.data && u.data.token))) || ''\r\n      if (!token) return\r\n      getAddresses({ token }).then(res => {\r\n        const raw = Array.isArray(res?.data?.items) ? res.data.items : (Array.isArray(res?.items) ? res.items : [])\r\n        this.addresses = raw.map(a => ({\r\n          id: a.addresses_id || a.id || '',\r\n          receiver: a.receiver || '',\r\n          phone: a.phone || '',\r\n          full: [a.province, a.city, a.district, a.detail_address].filter(Boolean).join(' '),\r\n          is_default: a.is_default === 1\r\n        }))\r\n      }).catch(() => { this.addresses = [] })\r\n    },\r\n    goCreateAddress() {\r\n      uni.navigateTo({ url: '/pages/address/edit?mode=create' })\r\n    },\r\n    editAddress(addr) {\r\n      const id = (addr && (addr.id || addr.addresses_id)) || ''\r\n      uni.navigateTo({ url: '/pages/address/edit' + (id ? ('?id=' + id) : '') })\r\n    },\r\n    loadUserProfile(token) {\r\n      if (!token) return Promise.resolve()\r\n      return getUserProfile({ token }).then(res => {\r\n        if (res && res.success) {\r\n          this.fetchedProfile = res.data\r\n          if (res.data.username) this.displayName = res.data.username\r\n          this.avatarError = false\r\n        }\r\n      }).catch(err => {\r\n        console.error('Fetch user profile failed', err)\r\n      })\r\n    },\r\n    login() {\r\n      uni.navigateTo({ url: '/pages/login/index' })\r\n    },\r\n    logout() {\r\n      try { uni.removeStorageSync('user') } catch (e) { }\r\n      this.loggedIn = false\r\n      this.displayName = ''\r\n      this.fetchedProfile = {}\r\n      uni.showToast({ title: '已退出登录', icon: 'success' })\r\n      setTimeout(() => {\r\n        uni.navigateTo({ url: '/pages/login/index' })\r\n      }, 500)\r\n    },\r\n    onAuthButton() {\r\n      if (this.loggedIn) this.logout()\r\n      else this.login()\r\n    },\r\n    handleEdit() {\r\n      this.editForm = {\r\n        username: this.profile.username,\r\n        company_name: this.profile.companyName,\r\n        contact_name: this.profile.contactName,\r\n        region: this.profile.region,\r\n        phone: this.profile.phone // Pass phone as required by some APIs, though not edited\r\n      }\r\n      this.isEditing = true\r\n    },\r\n    handleCancel() {\r\n      this.isEditing = false\r\n      this.editForm = {}\r\n    },\r\n    handleSave() {\r\n      const u = uni.getStorageSync('user')\r\n      const token = (u && (u.token || (u.data && u.data.token))) || ''\r\n      if (!token) {\r\n        uni.showToast({ title: '请先登录', icon: 'none' })\r\n        return\r\n      }\r\n      \r\n      uni.showLoading({ title: '保存中' })\r\n      updateUserProfile({\r\n        ...this.editForm,\r\n        token: token\r\n      }).then(res => {\r\n        uni.hideLoading()\r\n        if (res && res.success) {\r\n            uni.showToast({ title: '更新成功', icon: 'success' })\r\n            this.isEditing = false\r\n            \r\n            // 更新本地 fetchedProfile\r\n            this.fetchedProfile = {\r\n              ...this.fetchedProfile,\r\n              username: this.editForm.username,\r\n              company_name: this.editForm.company_name,\r\n              contact_name: this.editForm.contact_name,\r\n              region: this.editForm.region\r\n            }\r\n            \r\n            // 重新获取最新信息\r\n            this.loadUserProfile(token)\r\n        } else {\r\n            uni.showToast({ title: res.message || '更新失败', icon: 'none' })\r\n        }\r\n      }).catch(err => {\r\n        uni.hideLoading()\r\n        console.error(err)\r\n        uni.showToast({ title: '更新出错', icon: 'none' })\r\n      })\r\n    },\r\n    openSecurityModal(type) {\r\n      this.securityType = type\r\n      this.securityForm = { value: '', code: '' }\r\n      this.showSecurityModal = true\r\n    },\r\n    closeSecurityModal() {\r\n      this.showSecurityModal = false\r\n      this.securityForm = { value: '', code: '' }\r\n      if (this.timer) { clearInterval(this.timer); this.timer = null }\r\n      this.countdown = 0\r\n    },\r\n    sendCode() {\r\n      if (this.countdown > 0) return\r\n      const u = uni.getStorageSync('user')\r\n      const token = (u && (u.token || (u.data && u.data.token))) || ''\r\n      if (!token) { uni.showToast({ title: '请先登录', icon: 'none' }); return }\r\n      \r\n      // 验证手机号或邮箱格式\r\n      const val = this.securityForm.value\r\n      if (this.securityType === 'phone') {\r\n        if (!/^1[3-9]\\d{9}$/.test(val)) {\r\n          uni.showToast({ title: '请输入正确的手机号', icon: 'none' })\r\n          return\r\n        }\r\n      } else if (this.securityType === 'email') {\r\n        if (!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/.test(val)) {\r\n          uni.showToast({ title: '请输入正确的邮箱', icon: 'none' })\r\n          return\r\n        }\r\n      }\r\n\r\n      uni.showLoading({ title: '发送中' })\r\n      sendSecurityCode({ token }).then(res => {\r\n        uni.hideLoading()\r\n        if (res && res.success) {\r\n          uni.showToast({ title: '已发送至安全邮箱', icon: 'none', duration: 2000 })\r\n          this.countdown = 60\r\n          this.timer = setInterval(() => {\r\n            this.countdown--\r\n            if (this.countdown <= 0) { clearInterval(this.timer); this.timer = null }\r\n          }, 1000)\r\n        } else {\r\n          uni.showToast({ title: res.message || '发送失败', icon: 'none' })\r\n        }\r\n      }).catch(err => {\r\n        uni.hideLoading()\r\n        console.error(err)\r\n        uni.showToast({ title: '发送出错', icon: 'none' })\r\n      })\r\n    },\r\n    confirmSecurityEdit() {\r\n      const { value, code } = this.securityForm\r\n      if (!value) { uni.showToast({ title: this.securityPlaceholder, icon: 'none' }); return }\r\n      if (!code) { uni.showToast({ title: '请输入验证码', icon: 'none' }); return }\r\n      \r\n      const u = uni.getStorageSync('user')\r\n      const token = (u && (u.token || (u.data && u.data.token))) || ''\r\n      if (!token) { uni.showToast({ title: '请先登录', icon: 'none' }); return }\r\n\r\n      uni.showLoading({ title: '提交中' })\r\n      let promise\r\n      if (this.securityType === 'phone') {\r\n        promise = updateUserPhone({ new_phone: value, code, token })\r\n      } else if (this.securityType === 'email') {\r\n        promise = updateUserEmail({ new_email: value, code, token })\r\n      } else if (this.securityType === 'password') {\r\n        // Placeholder for password update\r\n        promise = Promise.reject({ message: '暂无修改密码接口' })\r\n      }\r\n\r\n      if (promise) {\r\n        promise.then(res => {\r\n          uni.hideLoading()\r\n          if (res && res.success) {\r\n            uni.showToast({ title: '修改成功', icon: 'success' })\r\n            this.closeSecurityModal()\r\n            this.loadUserProfile(token)\r\n          } else {\r\n            uni.showToast({ title: res.message || '修改失败', icon: 'none' })\r\n          }\r\n        }).catch(err => {\r\n          uni.hideLoading()\r\n          console.error(err)\r\n          uni.showToast({ title: (err && err.message) || '修改出错', icon: 'none' })\r\n        })\r\n      }\r\n    }\r\n    ,\r\n    triggerAvatarPicker() {\r\n      try {\r\n        if (uni && typeof uni.chooseImage === 'function') {\r\n          const u = uni.getStorageSync('user') || null\r\n          const token = (u && (u.token || (u.data && u.data.token))) || ''\r\n          if (!token) { uni.showToast({ title: '请先登录', icon: 'none' }); return }\r\n          uni.chooseImage({\r\n            count: 1,\r\n            sizeType: ['compressed', 'original'],\r\n            sourceType: ['album', 'camera'],\r\n            success: (ret) => {\r\n              const path = Array.isArray(ret.tempFilePaths) ? ret.tempFilePaths[0] : (ret.tempFiles && ret.tempFiles[0] && (ret.tempFiles[0].path || ret.tempFiles[0])) || ''\r\n              if (!path) { uni.showToast({ title: '选择失败', icon: 'none' }); return }\r\n              uni.showLoading({ title: '上传中' })\r\n              updateUserAvatar({ filePath: path, token }).then((res) => {\r\n                uni.hideLoading()\r\n                if (res && res.success) {\r\n                  uni.showToast({ title: '上传成功', icon: 'success' })\r\n                  this.loadUserProfile(token)\r\n                } else {\r\n                  uni.showToast({ title: res?.message || '上传失败', icon: 'none' })\r\n                }\r\n              }).catch(() => { uni.hideLoading(); uni.showToast({ title: '上传失败', icon: 'none' }) })\r\n            }\r\n          })\r\n          return\r\n        }\r\n        const el = typeof document !== 'undefined' ? document.getElementById('avatar-file') : null\r\n        if (el && typeof el.click === 'function') el.click()\r\n      } catch (e) {}\r\n    },\r\n    onAvatarFileChange(e) {\r\n      try {\r\n        const files = e && e.target && e.target.files ? e.target.files : []\r\n        if (!files || !files.length) { uni.showToast({ title: '请选择图片', icon: 'none' }); return }\r\n        const file = files[0]\r\n        const u = uni.getStorageSync('user') || null\r\n        const token = (u && (u.token || (u.data && u.data.token))) || ''\r\n        if (!token) { uni.showToast({ title: '请先登录', icon: 'none' }); return }\r\n        uni.showLoading({ title: '上传中' })\r\n        updateUserAvatar({ file, token }).then((res) => {\r\n          uni.hideLoading()\r\n          if (res && res.success) {\r\n            uni.showToast({ title: '上传成功', icon: 'success' })\r\n            this.loadUserProfile(token)\r\n          } else {\r\n            uni.showToast({ title: res?.message || '上传失败', icon: 'none' })\r\n          }\r\n        }).catch(() => { uni.hideLoading(); uni.showToast({ title: '上传失败', icon: 'none' }) })\r\n      } catch (err) { uni.hideLoading(); uni.showToast({ title: '上传失败', icon: 'none' }) }\r\n    },\r\n    chooseAvatarWx() {\r\n      try {\r\n        const u = uni.getStorageSync('user') || null\r\n        const token = (u && (u.token || (u.data && u.data.token))) || ''\r\n        if (!token) { uni.showToast({ title: '请先登录', icon: 'none' }); return }\r\n        uni.chooseImage({\r\n          count: 1,\r\n          sizeType: ['compressed', 'original'],\r\n          sourceType: ['album', 'camera'],\r\n          success: (ret) => {\r\n            const path = Array.isArray(ret.tempFilePaths) ? ret.tempFilePaths[0] : (ret.tempFiles && ret.tempFiles[0] && ret.tempFiles[0].path) || ''\r\n            if (!path) { uni.showToast({ title: '选择失败', icon: 'none' }); return }\r\n            uni.showLoading({ title: '上传中' })\r\n            updateUserAvatar({ filePath: path, token }).then((res) => {\r\n              uni.hideLoading()\r\n              if (res && res.success) {\r\n                uni.showToast({ title: '上传成功', icon: 'success' })\r\n                this.loadUserProfile(token)\r\n              } else {\r\n                uni.showToast({ title: res?.message || '上传失败', icon: 'none' })\r\n              }\r\n            }).catch(() => { uni.hideLoading(); uni.showToast({ title: '上传失败', icon: 'none' }) })\r\n          }\r\n        })\r\n      } catch (e) { uni.showToast({ title: '上传失败', icon: 'none' }) }\r\n    },\r\n    onAvatarError() {\r\n      this.avatarError = true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.page {\r\n  min-height: 100vh;\r\n  padding: 40rpx;\r\n  box-sizing: border-box;\r\n}\r\n/* #ifdef H5 */\r\n.page {\r\n  background: url('/static/product_detail_background.jpg') no-repeat center center fixed;\r\n  background-size: cover;\r\n}\r\n/* #endif */\r\n\r\n.profile-grid {\r\n  display: grid;\r\n  grid-template-columns: 1.6fr 1.3fr;\r\n  grid-gap: 30rpx;\r\n  max-width: 1800rpx;\r\n  margin: 0 auto;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 80rpx;\r\n  /* min-height: calc(100vh - 100rpx); */\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .profile-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n}\r\n\r\n.info-card, .right-card {\r\n  background: rgba(255,255,255,0.6);\r\n  border: 1rpx solid rgba(255,255,255,0.7);\r\n  border-radius: 20rpx;\r\n  padding: 40rpx;\r\n  box-shadow: 0 8rpx 24rpx rgba(0,0,0,0.12);\r\n  -webkit-backdrop-filter: saturate(180%) blur(12px);\r\n  backdrop-filter: saturate(180%) blur(12px);\r\n  margin-bottom: 30rpx;\r\n  height: calc(100vh - 320rpx);\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: auto;\r\n}\r\n\r\n.profile-main, .profile-aside { align-self: stretch; }\r\n\r\n.preferences-section {\r\n  margin-bottom: 60rpx;\r\n}\r\n\r\n.card-title {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin-bottom: 0;\r\n}\r\n\r\n.card-header-row {\r\n  margin-bottom: 40rpx;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  padding-bottom: 20rpx;\r\n}\r\n\r\n.user-brief {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-bottom: 60rpx;\r\n}\r\n\r\n.avatar {\r\n  width: 160rpx;\r\n  height: 160rpx;\r\n  border-radius: 50%;\r\n  background: #f0f0f0;\r\n}\r\n.avatar-initial {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 48rpx;\r\n  color: #555;\r\n}\r\n.avatar-wrapper {\r\n  position: relative;\r\n  width: 160rpx;\r\n  height: 160rpx;\r\n}\r\n.avatar-edit {\r\n  position: absolute;\r\n  right: 0;\r\n  bottom: 0;\r\n  width: 48rpx;\r\n  height: 48rpx;\r\n  border-radius: 50%;\r\n  background: #000;\r\n  color: #fff;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 26rpx;\r\n  opacity: 0.85;\r\n  z-index: 2;\r\n  cursor: pointer;\r\n}\r\n\r\n.form-grid {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  grid-gap: 40rpx;\r\n  margin-bottom: 40rpx;\r\n}\r\n\r\n.form-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.label {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n  margin-bottom: 16rpx;\r\n  font-weight: 500;\r\n}\r\n\r\n.input-box {\r\n  border: 1px solid #eee;\r\n  background: #f9f9f9;\r\n  padding: 14rpx 20rpx;\r\n  border-radius: 8rpx;\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  min-height: 40rpx;\r\n}\r\n.input-box.static {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n.link {\r\n  color: #007aff;\r\n  margin-left: auto;\r\n  font-size: 24rpx;\r\n  cursor: pointer;\r\n}\r\n\r\n.form-actions {\r\n  border-top: 1px solid #f0f0f0;\r\n  padding-top: 30rpx;\r\n  text-align: right;\r\n}\r\n\r\n.hint {\r\n  display: block;\r\n  font-size: 24rpx;\r\n  color: #999;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.btns {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 20rpx;\r\n}\r\n\r\n.btn-save {\r\n  background: #000;\r\n  color: #fff;\r\n  padding: 0 60rpx;\r\n  height: 80rpx;\r\n  line-height: 80rpx;\r\n  border-radius: 40rpx;\r\n  font-size: 28rpx;\r\n  margin: 0;\r\n}\r\n\r\n.btn-cancel {\r\n  background: #f5f5f5;\r\n  color: #333;\r\n  padding: 0 60rpx;\r\n  height: 80rpx;\r\n  line-height: 80rpx;\r\n  border-radius: 40rpx;\r\n  font-size: 28rpx;\r\n  margin: 0;\r\n}\r\n\r\n/* Right Side */\r\n.menu-row {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 18rpx 0;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  cursor: pointer;\r\n  position: relative;\r\n}\r\n\r\n.menu-row:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 30rpx;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  padding-bottom: 20rpx;\r\n}\r\n\r\n.btn-add-addr {\r\n  font-size: 24rpx;\r\n  background: #f0f0f0;\r\n  color: #333;\r\n  margin: 0;\r\n  padding: 0 20rpx;\r\n  height: 50rpx;\r\n  line-height: 50rpx;\r\n}\r\n\r\n.addr-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 18rpx 0;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  position: relative;\r\n}\r\n\r\n.addr-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.addr-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.addr-txt {\r\n  font-size: 28rpx;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin-bottom: 8rpx;\r\n}\r\n\r\n.addr-sub {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n.arrow {\r\n  color: #ccc;\r\n  font-size: 40rpx;\r\n  position: absolute;\r\n  right: 0;\r\n}\r\n\r\n.empty-addr {\r\n  text-align: center;\r\n  color: #999;\r\n  font-size: 24rpx;\r\n  padding: 40rpx 0;\r\n}\r\n\r\n.floating-back {\r\n  position: fixed;\r\n  left: 40rpx;\r\n  top: 40rpx;\r\n  width: 80rpx;\r\n  height: 80rpx;\r\n  line-height: 80rpx;\r\n  text-align: center;\r\n  /* border-radius: 50%; */\r\n  /* background: rgba(255,255,255,0.7); */\r\n  /* box-shadow: 0 8rpx 24rpx rgba(0,0,0,0.12); */\r\n  color: #333;\r\n  font-size: 36rpx;\r\n  z-index: 999;\r\n  -webkit-backdrop-filter: blur(8px);\r\n  backdrop-filter: blur(8px);\r\n}\r\n\r\n/* Modal Styles */\r\n.modal-mask {\r\n  position: fixed;\r\n  top: 0; left: 0; right: 0; bottom: 0;\r\n  background: rgba(0,0,0,0.5);\r\n  z-index: 999;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.modal-content {\r\n  width: 600rpx;\r\n  background: #fff;\r\n  border-radius: 24rpx;\r\n  overflow: hidden;\r\n}\r\n.modal-header {\r\n  padding: 30rpx;\r\n  text-align: center;\r\n  border-bottom: 1rpx solid #eee;\r\n}\r\n.modal-title {\r\n  font-weight: 600;\r\n  font-size: 32rpx;\r\n  color: #333;\r\n}\r\n.modal-body {\r\n  padding: 40rpx 30rpx;\r\n}\r\n.modal-input {\r\n  background: #f5f5f5;\r\n  height: 80rpx;\r\n  border-radius: 8rpx;\r\n  padding: 0 20rpx;\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  margin-bottom: 20rpx;\r\n}\r\n.code-box {\r\n  display: flex;\r\n  gap: 20rpx;\r\n}\r\n.code-box .code {\r\n  flex: 1;\r\n  margin-bottom: 0;\r\n}\r\n.btn-code {\r\n  height: 80rpx;\r\n  line-height: 80rpx;\r\n  font-size: 24rpx;\r\n  padding: 0 20rpx;\r\n  background: #e1251b;\r\n  color: #fff;\r\n  border-radius: 8rpx;\r\n}\r\n.btn-code[disabled] {\r\n  background: #ccc;\r\n  color: #fff;\r\n}\r\n.modal-footer {\r\n  display: flex;\r\n  border-top: 1rpx solid #eee;\r\n}\r\n.modal-btn {\r\n  flex: 1;\r\n  height: 100rpx;\r\n  line-height: 100rpx;\r\n  text-align: center;\r\n  font-size: 30rpx;\r\n  background: #fff;\r\n  border-radius: 0;\r\n}\r\n.modal-btn::after { border: none; }\r\n.modal-btn.cancel { color: #666; border-right: 1rpx solid #eee; }\r\n.modal-btn.confirm { color: #e1251b; font-weight: 600; }\r\n\r\n/* #ifdef H5 */\r\n.h5-nav-bar {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 88rpx;\r\n  padding: 0 600rpx;\r\n  z-index: 100;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  align-items: center;\r\n  background: #ffffff;\r\n  box-shadow: 0 1rpx 0 #f0f0f0;\r\n}\r\n.nav-title {\r\n  flex: 1;\r\n  text-align: center;\r\n  font-size: 34rpx;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin-right: 80rpx;\r\n}\r\n.nav-back {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 32rpx;\r\n  color: #333;\r\n  cursor: pointer;\r\n  width: 80rpx;\r\n  height: 100%;\r\n}\r\n.back-arrow {\r\n  width: 20rpx;\r\n  height: 20rpx;\r\n  border-left: 4rpx solid #333;\r\n  border-bottom: 4rpx solid #333;\r\n  transform: rotate(45deg);\r\n}\r\n\r\n.profile-grid { align-items: center; }\r\n.info-card, .right-card { justify-content: center; }\r\n\r\n/* .page {\r\n  padding-left: 300rpx;\r\n  padding-right: 300rpx;\r\n  box-sizing: border-box;\r\n  padding-top: 88rpx;\r\n} */\r\n/* #endif */\r\n\r\n/* #ifdef MP-WEIXIN */\r\n.profile-grid { grid-template-columns: 1fr; }\r\n.info-card, .right-card {\r\n  background: #fff;\r\n  border: 1rpx solid #eee;\r\n  box-shadow: 0 8rpx 24rpx rgba(0,0,0,0.06);\r\n  height: auto;\r\n  overflow: visible;\r\n}\r\n.menu-row { padding: 24rpx 0; }\r\n.btn-add-addr { background: #000; color: #fff; border-radius: 30rpx; }\r\n.arrow { color: #999; }\r\n.page-bg { position: fixed; left: 0; right: 0; top: 0; bottom: 0; width: 100vw; height: 100vh; z-index: -1; }\r\n.edit-under { margin-top: 12rpx; }\r\n.link-under { color: #007aff; font-size: 24rpx; }\r\n/* #endif */\r\n\r\n\r\n.h5-mask { position: fixed; left: 0; right: 0; top: 0; bottom: 0; background: rgba(0,0,0,.45); display: flex; align-items: center; justify-content: center; z-index: 9999; }\r\n.h5-modal { width: 820rpx; max-width: 90vw; background: #fff; border-radius: 16rpx; padding: 24rpx; box-shadow: 0 12rpx 28rpx rgba(0, 0, 0, 0.12); display: flex; flex-direction: column; height: 60vh; }\r\n.modal-header { display: flex; align-items: center; justify-content: space-between; padding-bottom: 12rpx; border-bottom: 1rpx solid #f0f0f0; margin-bottom: 16rpx; }\r\n.modal-title { font-size: 32rpx; font-weight: 700; color: #333; }\r\n.modal-close { width: 60rpx; height: 60rpx; display: flex; align-items: center; justify-content: center; font-size: 32rpx; color: #999; cursor: pointer; }\r\n.modal-close:active { color: #333; }\r\n.modal-body { flex: 1; min-height: 0; overflow-y: auto; }\r\n.modal-body-two { display: flex; gap: 16rpx; height: 100%; }\r\n.two-left { width: 280rpx; flex-shrink: 0; padding-right: 16rpx; border-right: 1rpx solid #f0f0f0; display: flex; flex-direction: column; gap: 12rpx; cursor: pointer; }\r\n.two-label { font-size: 24rpx; color: #999; }\r\n.two-title { font-size: 30rpx; color: #333; font-weight: 600; }\r\n.two-right { flex: 1; min-height: 0; overflow-y: auto; padding-left: 16rpx; }\r\n.two-hint { height: 100%; display: flex; align-items: center; justify-content: center; color: #999; font-size: 26rpx; }\r\n.a-title { font-size: 34rpx; font-weight: 600; color: #333; display: block; }\r\n.a-time { font-size: 24rpx; color: #999; display: block; margin-top: 8rpx; margin-bottom: 16rpx; }\r\n.a-content { font-size: 28rpx; color: #333; line-height: 1.6; white-space: pre-wrap; }\r\n</style>\r\n","import MiniProgramPage from 'C:/Users/HP/Desktop/LiShop/LiShop/pages/profile/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","getCurrentAnnouncement","getAddresses","getUserProfile","updateUserProfile","sendSecurityCode","updateUserPhone","updateUserEmail","updateUserAvatar"],"mappings":"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"}