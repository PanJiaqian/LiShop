{"version":3,"file":"index.js","sources":["pages/home/index.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaG9tZS9pbmRleC52dWU"],"sourcesContent":["<template>\r\n  <view class=\"page\">\r\n    <Skeleton :loading=\"loading\" :showTitle=\"true\" :showGrid=\"true\" />\r\n    <!-- H5 ‰∏âÊ†èÂ∏ÉÂ±ÄÔºàÂåÖÂê´ÂàÜÁ±ª„ÄÅÊàëÁöÑ„ÄÅÂïÜÂìÅÔºâ -->\r\n    <!-- #ifdef H5 -->\r\n    <image class=\"page-bg\" src=\"/static/product_detail_background.jpg\" mode=\"aspectFill\" />\r\n    <view class=\"h5-container\">\r\n      <!-- È°∂ÈÉ® Header -->\r\n      <view class=\"h5-header\">\r\n        <view class=\"h5-logo-area\">\r\n          <image src=\"/static/logo.png?v=20251211\" style=\"width:260rpx;height:100rpx;margin-right:20rpx;\"\r\n            mode=\"aspectFit\" />\r\n          <!-- <text class=\"logo-text\">SHOP</text> -->\r\n        </view>\r\n        <view class=\"h5-search-wrapper\">\r\n          <view class=\"search-bar-box\">\r\n            <view class=\"search-type\">\r\n              <image class=\"search-icon-img\"\r\n                src=\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'><circle cx='28' cy='28' r='16' fill='none' stroke='%23000' stroke-width='4'/><line x1='42' y1='42' x2='58' y2='58' stroke='%23000' stroke-width='4' stroke-linecap='round'/></svg>\"\r\n                mode=\"widthFix\" />\r\n            </view>\r\n            <view class=\"divider-v\"></view>\r\n            <input id=\"og-search\" class=\"search-input-field\" v-model=\"keyword\" confirm-type=\"search\"\r\n              @confirm=\"onSearch(null)\" />\r\n            <button class=\"search-btn-black\" @click=\"onSearch(null)\">ÊêúÁ¥¢</button>\r\n          </view>\r\n        </view>\r\n      </view>\r\n\r\n      <view class=\"h5-middle-layout\">\r\n        <view class=\"side-user\">\r\n          <view class=\"side-cate\">\r\n            <view class=\"cate-title\">\r\n              <text style=\"color:#000;margin-right:8rpx;font-weight:900;\">‚ò∞</text>ÂàÜÁ±ª\r\n            </view>\r\n            <view id=\"og-cate\" class=\"cate-list\" @mouseleave=\"onCateListLeave\">\r\n              <view class=\"cate-item\" v-for=\"(c, i) in topCategories\" :key=\"i\" @mouseenter=\"hoverCategory(c, $event)\">\r\n                <text class=\"cate-dot\">‚óè</text>\r\n                <text class=\"cate-name\">{{ c.name }}</text>\r\n              </view>\r\n            </view>\r\n          </view>\r\n\r\n        </view>\r\n\r\n\r\n        <view class=\"center-content\">\r\n          <view id=\"og-banner\" style=\"height:100%\">\r\n            <BannerSwiper :images=\"banners\" class=\"full-height-banner\" />\r\n          </view>\r\n\r\n          <view v-if=\"activeCateId\" class=\"sub-panel\"\r\n            :style=\"{ top: panelTop + 'px', left: panelLeft + 'px', right: panelRight + 'px' }\"\r\n            @mouseenter=\"onPanelEnter\" @mouseleave=\"onPanelLeave\">\r\n            <view class=\"panel-title\">\r\n              <text>{{ activeCateName || '‰∫åÁ∫ßÂàÜÁ±ª' }}</text>\r\n            </view>\r\n            <view class=\"panel-columns\">\r\n              <view class=\"panel-link\" v-for=\"(s, si) in leftChildren\" :key=\"si\" @click=\"goSubList(s)\">\r\n                <text class=\"sub-icon\">‚óè</text>\r\n                {{ s.name }}\r\n              </view>\r\n            </view>\r\n            <view v-if=\"!leftChildren || leftChildren.length === 0\" class=\"sub-empty\">ÊöÇÊó†Â≠êÂàÜÁ±ª</view>\r\n          </view>\r\n        </view>\r\n\r\n        <view class=\"side-user\">\r\n          <view class=\"user-card-new\">\r\n            <view class=\"uc-header\">\r\n              <!-- <image class=\"uc-avatar\" :src=\"user?.avatar || '/static/logo.png'\" @click=\"onAvatarClick\" /> -->\r\n              <view class=\"uc-info\">\r\n                <text class=\"uc-greet\">‰∏ãÂçàÂ•Ω {{ user?.username || 'XXX' }}</text>\r\n              </view>\r\n            </view>\r\n\r\n            <view id=\"og-quick\" class=\"uc-links\">\r\n              <navigator class=\"uc-link-item\" url=\"/pages/profile/index\" open-type=\"switchTab\">\r\n                <text class=\"uc-icon\">üë§</text>\r\n                <text>ÊàëÁöÑ</text>\r\n              </navigator>\r\n              <navigator class=\"uc-link-item\" url=\"/pages/cart/index\" open-type=\"switchTab\">\r\n                <text class=\"uc-icon\">üõí</text>\r\n                <text>ÊàëÁöÑË¥≠Áâ©ËΩ¶</text>\r\n              </navigator>\r\n              <navigator class=\"uc-link-item\" url=\"/pages/order/index\">\r\n                <text class=\"uc-icon\">üìã</text>\r\n                <text>ÊàëÁöÑËÆ¢Âçï</text>\r\n              </navigator>\r\n              <navigator class=\"uc-link-item\" url=\"/pages/favorites/index\">\r\n                <text class=\"uc-icon\" style=\"margin-left: 5px;\">‚òÖ</text>\r\n                <text style=\"margin-left: 1px;\">ÊàëÁöÑÊî∂Ëóè</text>\r\n              </navigator>\r\n              <view class=\"uc-link-item\" @click=\"openAnnouncementModalH5\">\r\n                <text class=\"uc-icon\">üì£</text>\r\n                <text>ÂÖ¨Âëä</text>\r\n              </view>\r\n              <view class=\"uc-link-item\" @click=\"triggerOnboarding\">\r\n                <text class=\"uc-icon\">üéì</text>\r\n                <text>Êñ∞ÊâãÊïôÁ®ã</text>\r\n              </view>\r\n              <!-- <navigator class=\"uc-link-item\" url=\"/pages/messages/index\">\r\n                   <text class=\"uc-icon\">üí¨</text>\r\n                  <text>‰ø°ÊÅØ</text>\r\n               </navigator>\r\n               <navigator class=\"uc-link-item\" url=\"/pages/settings/index\">\r\n                   <text class=\"uc-icon\">‚öôÔ∏è</text>\r\n                  <text>ËÆæÁΩÆ</text>\r\n               </navigator> -->\r\n            </view>\r\n\r\n            <button v-if=\"!user\" class=\"uc-login-btn\" @click=\"goLogin\">Á´ãÂç≥ÁôªÂΩï</button>\r\n            <button v-else class=\"uc-login-btn\" @click=\"logout\">ÈÄÄÂá∫ÁôªÂΩï</button>\r\n          </view>\r\n        </view>\r\n      </view>\r\n\r\n      <view class=\"h5-bottom-section\">\r\n        <view id=\"og-guess\" class=\"guess-header\">\r\n          <view class=\"guess-icon\">‚ù§</view>\r\n          <text class=\"guess-title\">Áåú‰Ω†ÂñúÊ¨¢</text>\r\n        </view>\r\n        <view class=\"grid2\">\r\n          <view class=\"grid2-item\" v-for=\"(p, idx) in recommendList\" :key=\"idx\">\r\n            <ProductCard :product=\"p\" />\r\n          </view>\r\n        </view>\r\n      </view>\r\n      <IcpFooter />\r\n    </view>\r\n    <FloatingNav />\r\n    <view v-if=\"showAnnouncementModal\" class=\"h5-mask\" @click=\"closeAnnouncementModal\">\r\n      <view class=\"h5-modal\" @click.stop>\r\n        <view class=\"modal-header\">\r\n          <text class=\"modal-title\">ÂÖ¨Âëä</text>\r\n          <view class=\"modal-close\" @click=\"closeAnnouncementModal\">‚úï</view>\r\n        </view>\r\n        <view v-if=\"announcement\" class=\"modal-body\">\r\n          <view class=\"modal-body-two\">\r\n            <view class=\"two-left\" @click=\"showAnnContent = true\">\r\n              <text class=\"two-label\">ÂÖ¨ÂëäÊ†áÈ¢ò</text>\r\n              <view class=\"two-title\">{{ announcement.title }}</view>\r\n            </view>\r\n            <view class=\"two-right\">\r\n              <view v-if=\"showAnnContent\">\r\n                <text class=\"a-title\">{{ announcement.title }}</text>\r\n                <text class=\"a-time\">{{ displayTime }}</text>\r\n                <view class=\"a-content\">{{ announcement.content }}</view>\r\n              </view>\r\n              <view v-else class=\"two-hint\">ÁÇπÂáªÂè≥‰æßÊòæÁ§∫ÂÖ¨ÂëäÂÜÖÂÆπ</view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n        <view v-else class=\"modal-body\">\r\n          <text>ÊöÇÊó†ÂÖ¨Âëä</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    <!-- #endif -->\r\n\r\n    <!-- ÂÖ∂‰ªñÂπ≥Âè∞‰øùÊåÅÂéüÂ∏ÉÂ±Ä -->\r\n    <!-- #ifndef H5 -->\r\n    <image class=\"page-bg\" src=\"/static/product_detail_background.jpg\" mode=\"aspectFill\" />\r\n    <view id=\"og-search\">\r\n      <SearchBar v-model=\"keyword\" @search=\"onSearch\" />\r\n    </view>\r\n    <view id=\"og-banner\">\r\n      <BannerSwiper :images=\"banners\" />\r\n    </view>\r\n    <scroll-view id=\"og-mp-cate\" class=\"mp-cate-nav\" scroll-x>\r\n      <view class=\"mp-cate-item\" v-for=\"(c, i) in subCategoryList\" :key=\"'mc' + i\" @click=\"openCategory(c)\">\r\n        <image class=\"mp-cate-thumb\" :src=\"c.icon || '/static/logo.png'\" mode=\"aspectFill\" />\r\n        <text class=\"mp-cate-name\">{{ c.name }}</text>\r\n      </view>\r\n    </scroll-view>\r\n    <!-- ‰∫¨‰∏úÁßíÊùÄÊ®°ÂùóÔºàÈùû H5ÔºåÂ∞èÁ®ãÂ∫èÁ´ØÔºâÂ∑≤ÊåâË¶ÅÊ±ÇÊ≥®Èáä -->\r\n    <!--\r\n    <view class=\"block\">\r\n      <view class=\"block-title\">\r\n        <text>‰∫¨‰∏úÁßíÊùÄ</text>\r\n        <navigator url=\"/pages/category/index\" open-type=\"switchTab\" class=\"more\">Êõ¥Â§ö</navigator>\r\n      </view>\r\n      <scroll-view class=\"seckill\" scroll-x>\r\n        <view class=\"sk-item\" v-for=\"(item, idx) in seckillList\" :key=\"idx\">\r\n          <image class=\"sk-img\" :src=\"item.image || '/static/logo.png'\" mode=\"aspectFill\" />\r\n          <text class=\"sk-price\">¬•{{ item.price }}</text>\r\n        </view>\r\n      </scroll-view>\r\n    </view>\r\n    -->\r\n\r\n    <view class=\"block\">\r\n      <view id=\"og-mp-guess\" class=\"block-title\">\r\n        <text>Áåú‰Ω†ÂñúÊ¨¢</text>\r\n      </view>\r\n      <view class=\"grid2\">\r\n        <view class=\"grid2-item\" v-for=\"(p, idx) in recommendList\" :key=\"idx\">\r\n          <ProductCard :product=\"p\" />\r\n        </view>\r\n      </view>\r\n    </view>\r\n    <!-- #endif -->\r\n    <OnboardingGuide v-if=\"showOnboarding\" :steps=\"onboardingSteps\" :targets=\"onboardingRects\"\r\n      :initialIndex=\"onboardingStepIndex\" @advance=\"handleOnboardingNext\" @back=\"handleOnboardingPrev\"\r\n      @close=\"handleOnboardingClose\" />\r\n    <LoginPrompt :visible=\"showLoginModal\" @close=\"closeLoginModal\" @confirm=\"goLogin\" />\r\n    <!-- #ifdef MP-WEIXIN -->\r\n    <canvas canvas-id=\"sharePoster\" id=\"sharePoster\"\r\n      style=\"position:fixed;left:-9999px;top:-9999px;width:750px;height:680px;\" />\r\n    <!-- #endif -->\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport SearchBar from '@/components/SearchBar.vue'\r\nimport BannerSwiper from '@/components/BannerSwiper.vue'\r\nimport CategoryGrid from '@/components/CategoryGrid.vue'\r\nimport ProductCard from '@/components/ProductCard.vue'\r\nimport FloatingNav from '@/components/FloatingNav.vue'\r\nimport Skeleton from '@/components/Skeleton.vue'\r\nimport OnboardingGuide from '@/components/OnboardingGuide.vue'\r\nimport LoginPrompt from '@/components/LoginPrompt.vue'\r\nimport IcpFooter from '@/components/IcpFooter.vue'\r\nimport { getRecommendedProducts, getVisibleCategories, searchProducts, getCarousel, getCurrentAnnouncement } from '../../api/index.js'\r\n\r\nexport default {\r\n  components: { SearchBar, BannerSwiper, CategoryGrid, ProductCard, FloatingNav, Skeleton, OnboardingGuide, LoginPrompt, IcpFooter },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      keyword: '',\r\n      roomName: '',\r\n      user: null,\r\n      banners: ['/static/logo.png', '/static/logo.png', '/static/logo.png'],\r\n      topCategories: [],\r\n      activeCateId: '',\r\n      activeCateName: '',\r\n      leftChildren: [],\r\n      subCategoryList: [],\r\n      seckillList: [\r\n        { id: 's1', title: 'ÁàÜÊ¨æÁßíÊùÄ1', price: 99, image: '/static/logo.png' },\r\n        { id: 's2', title: 'ÁàÜÊ¨æÁßíÊùÄ2', price: 129, image: '/static/logo.png' },\r\n        { id: 's3', title: 'ÁàÜÊ¨æÁßíÊùÄ3', price: 59, image: '/static/logo.png' }\r\n      ],\r\n      recommendList: []\r\n      , panelTop: 20\r\n      , panelLeft: 0\r\n      , panelRight: 0\r\n      , hoveringPanel: false\r\n      , leaveTimer: null\r\n      , showAnnouncementModal: false\r\n      , announcementLoading: false\r\n      , announcement: null\r\n      , showAnnContent: false\r\n      , showOnboarding: false\r\n      , onboardingStepIndex: 0\r\n      , onboardingRects: []\r\n      , onboardingSteps: [\r\n        'È°∂ÈÉ®ÊêúÁ¥¢ÂèØÂø´ÈÄüÊü•ÊâæÂïÜÂìÅ‰∏éÂ∫óÈì∫',\r\n        'Â∑¶‰æßÂàÜÁ±ªÂØºËà™ÊîØÊåÅÂ±ïÂºÄÂ≠êÂàÜÁ±ª',\r\n        'ËΩÆÊí≠ÂõæÂèØÁõ¥ËææÁÉ≠Èó®ÂïÜÂìÅ',\r\n        'Áåú‰Ω†ÂñúÊ¨¢Â±ïÁ§∫‰∏∫‰Ω†Êé®ËçêÁöÑÂïÜÂìÅ',\r\n        'ÊàëÁöÑ‰∏éË¥≠Áâ©ËΩ¶Êèê‰æõÂø´Êç∑ÂÖ•Âè£',\r\n        'ÂïÜÂìÅËØ¶ÊÉÖÈ°µÊü•ÁúãËßÑÊ†º‰∏éÂä†ÂÖ•Ë¥≠Áâ©ËΩ¶',\r\n        'ÊàøÈó¥ÈÄâÊã©ÔºåË¥≠Áâ©ËΩ¶Ê†πÊçÆÊàøÈó¥ÂêçËøõË°åÂàÜÁªÑ',\r\n        'ËÆ¢ÂçïÈ°µÈù¢Êü•ÁúãÁâ©ÊµÅ‰∏éÊîØ‰ªòËøõÂ∫¶',\r\n        '‰∏™‰∫∫‰ø°ÊÅØÁÆ°ÁêÜ',\r\n        'ÂäüËÉΩÂå∫',\r\n        'Êî∂Ë¥ßÂú∞ÂùÄÁÆ°ÁêÜ'\r\n      ]\r\n      , onboardingStepsMp: [\r\n        'È°∂ÈÉ®ÊêúÁ¥¢ÂÆö‰ΩçÂïÜÂìÅ',\r\n        'Ê®™ÂêëÂàÜÁ±ªÂØºËà™Êü•ÁúãÂ≠êÂàÜÁ±ª',\r\n        'ËΩÆÊí≠ÂõæÂø´Êç∑ÂÖ•Âè£',\r\n        'Áåú‰Ω†ÂñúÊ¨¢Êé®ËçêÂå∫',\r\n        'ÂïÜÂìÅËØ¶ÊÉÖÈ°µÊü•ÁúãËßÑÊ†º‰∏éÂä†ÂÖ•Ë¥≠Áâ©ËΩ¶',\r\n        'ÊàøÈó¥ÈÄâÊã©ÔºåË¥≠Áâ©ËΩ¶Ê†πÊçÆÊàøÈó¥ÂêçËøõË°åÂàÜÁªÑ',\r\n        'ËÆ¢ÂçïÈ°µÈù¢Êü•ÁúãÁâ©ÊµÅ‰∏éÊîØ‰ªòËøõÂ∫¶',\r\n        '‰∏™‰∫∫‰ø°ÊÅØÁÆ°ÁêÜ',\r\n        'ÂäüËÉΩÂå∫',\r\n        'Êî∂Ë¥ßÂú∞ÂùÄÁÆ°ÁêÜ'\r\n      ],\r\n      showLoginModal: false\r\n    }\r\n  },\r\n  onLoad() {\r\n    try {\r\n      const isH5 = typeof window !== 'undefined'\r\n      if (!isH5) {\r\n        this.onboardingSteps = this.onboardingStepsMp\r\n      }\r\n      const jl = !!uni.getStorageSync('just_logged_in')\r\n      if (jl) {\r\n        this.triggerOnboarding()\r\n        uni.removeStorageSync('just_logged_in')\r\n      }\r\n    } catch (e) { }\r\n  },\r\n  computed: {\r\n    displayTime() {\r\n      try {\r\n        const t = this.announcement?.created_at || this.announcement?.timestamp || ''\r\n        if (!t) return ''\r\n        const d = new Date(t)\r\n        if (isNaN(d.getTime())) return String(t)\r\n        const y = d.getFullYear()\r\n        const m = String(d.getMonth() + 1).padStart(2, '0')\r\n        const day = String(d.getDate()).padStart(2, '0')\r\n        const h = String(d.getHours()).padStart(2, '0')\r\n        const mm = String(d.getMinutes()).padStart(2, '0')\r\n        return `${y}-${m}-${day} ${h}:${mm}`\r\n      } catch (e) { return '' }\r\n    }\r\n  },\r\n  onShow() {\r\n    // #ifdef H5\r\n    try {\r\n      const p = uni.hideTabBar({ animation: false })\r\n      if (p && typeof p.then === 'function') { p.catch(() => { }) }\r\n    } catch (e) { }\r\n    try { this.user = uni.getStorageSync('user') || null } catch (e) { }\r\n    try { this.roomName = uni.getStorageSync('currentRoom') || '' } catch (e) { }\r\n    // #endif\r\n    try {\r\n      const cont = !!uni.getStorageSync('onboarding_continue')\r\n      const idx = Number(uni.getStorageSync('onboarding_index') || 0)\r\n      const stepsStored = uni.getStorageSync('onboarding_steps') || []\r\n      const jl = !!uni.getStorageSync('just_logged_in')\r\n      if (cont && Array.isArray(stepsStored) && stepsStored.length && idx <= 4) {\r\n        this.onboardingSteps = stepsStored\r\n        this.onboardingStepIndex = idx\r\n        this.showOnboarding = true\r\n        this.$nextTick(() => { this.refreshOnboardingTargets() })\r\n      } else if (jl) {\r\n        this.triggerOnboarding()\r\n        uni.removeStorageSync('just_logged_in')\r\n      }\r\n    } catch (e) { }\r\n    // ÊãâÂèñÂàÜÁ±ª‰∏éÊé®ËçêÂïÜÂìÅÔºàÊúÄÂ∞èÊé•ÂÖ•Ôºå‰∏çÂΩ±ÂìçÁé∞Êúâ‰∫§‰∫íÔºâ\r\n    try {\r\n      const p1 = getVisibleCategories({ page: 1, page_size: 20, sort_by: 'id' })\r\n        .then((res) => {\r\n          const items = Array.isArray(res?.data?.items) ? res.data.items : []\r\n          const mapped = items.map((it, i) => ({\r\n            name: it?.name || ('ÂàÜÁ±ª' + (i + 1)),\r\n            icon: (typeof it?.image_url === 'string' ? it.image_url.replace(/`/g, '').trim() : '')\r\n              || (typeof it?.thumbnail === 'string' ? it.thumbnail.replace(/`/g, '').trim() : '')\r\n              || (typeof it?.icon === 'string' ? it.icon.replace(/`/g, '').trim() : ''),\r\n            categories_id: it?.categories_id || it?.id || ''\r\n          }))\r\n          this.topCategories = mapped\r\n          this.subCategoryList = mapped\r\n        })\r\n        .catch(() => { })\r\n\r\n      const p2 = getCarousel()\r\n        .then((res) => {\r\n          const items = Array.isArray(res?.data?.items) ? res.data.items : []\r\n          this.banners = items.map((it, i) => ({\r\n            image: (typeof it?.image === 'string' ? it.image.replace(/`/g, '').trim() : '') || '/static/logo.png',\r\n            id: it?.available_product_id || ''\r\n          }))\r\n          if (this.banners.length === 0) this.banners = ['/static/logo.png', '/static/logo.png']\r\n        })\r\n        .catch(() => { })\r\n\r\n      const p3 = getRecommendedProducts({ page: 1, page_size: 30, sort_by: 'id' })\r\n        .then((res) => {\r\n          const list = Array.isArray(res?.data?.items) ? res.data.items : []\r\n          this.recommendList = list.map((it, i) => ({\r\n            id: it?.available_product_id || it?.id || ('p' + i),\r\n            title: it?.name || ('Êé®ËçêÂïÜÂìÅ ' + (i + 1)),\r\n            price: (it?.price === '-' || it?.price === '‚Äî') ? '-' : (Number(it?.price ?? 0) || 0),\r\n            sales: Number(it?.order_count ?? it?.sales ?? 0) || 0,\r\n            image: (typeof it?.main_image === 'string' ? it.main_image.replace(/`/g, '').trim() : '')\r\n              || (typeof it?.thumbnail === 'string' ? it.thumbnail.replace(/`/g, '').trim() : '')\r\n              || '/static/logo.png'\r\n          }))\r\n        })\r\n        .catch(() => { })\r\n\r\n      Promise.allSettled([p1, p2, p3]).then(() => {\r\n        this.loading = false\r\n        try { this.generateSharePosterIfNeeded() } catch (e) { }\r\n      })\r\n    } catch (e) { this.loading = false }\r\n  },\r\n  onLoad() {\r\n    try {\r\n      const h = () => { this.showLoginModal = true }\r\n      this._globalLoginHandler = h\r\n      uni.$on('global-login-prompt', h)\r\n    } catch (e) { }\r\n  },\r\n  onUnload() {\r\n    try {\r\n      if (this._globalLoginHandler) uni.$off('global-login-prompt', this._globalLoginHandler)\r\n      this._globalLoginHandler = null\r\n    } catch (e) { }\r\n  },\r\n  onPullDownRefresh() {\r\n    setTimeout(() => { uni.stopPullDownRefresh() }, 600)\r\n  },\r\n  onHide() {\r\n    this.showOnboarding = false\r\n  },\r\n  methods: {\r\n    getSharePosterSignature() {\r\n      try {\r\n        const v = 'v2'\r\n        const banner = (this.banners && this.banners[0] && (this.banners[0].image || this.banners[0])) || ''\r\n        const cats = (this.subCategoryList || []).slice(0, 4).map(x => (x && (x.name || '')) + '|' + (x && (x.icon || ''))).join(',')\r\n        return [v, String(banner || ''), String(cats || '')].join('||')\r\n      } catch (e) { return '' }\r\n    },\r\n    generateSharePosterIfNeeded() {\r\n      let isMp = false\r\n      try { isMp = typeof wx !== 'undefined' } catch (e) { isMp = false }\r\n      if (!isMp) return\r\n      try {\r\n        const lastTs = Number(uni.getStorageSync('share_poster_ts') || 0) || 0\r\n        if (lastTs && Date.now() - lastTs < 30 * 1000) return\r\n      } catch (e) {}\r\n      if (this._sharePosterGenerating) return\r\n      this._sharePosterGenerating = true\r\n      Promise.resolve()\r\n        .then(() => this.generateSharePoster())\r\n        .finally(() => { this._sharePosterGenerating = false })\r\n    },\r\n    generateSharePoster() {\r\n      const ORIGIN = 'https://www.nuomi-light.com:6149'\r\n      const normalize = (src) => {\r\n        const s = (typeof src === 'string') ? src.replace(/`/g, '').trim() : ''\r\n        if (!s) return ''\r\n        if (s.startsWith('wxfile://') || s.startsWith('file://') || s.startsWith('data:')) return s\r\n        if (s.startsWith('/static/')) return s\r\n        if (s.startsWith('//')) return 'https:' + s\r\n        if (s.startsWith('http://')) return 'https://' + s.slice(7)\r\n        if (s.startsWith('https://')) return s\r\n        if (s.startsWith('/')) return ORIGIN + s\r\n        if (s.includes('://')) return s\r\n        return ORIGIN + '/' + s\r\n      }\r\n      const load = (src) => new Promise((resolve) => {\r\n        const s = normalize(src) || '/static/logo.png'\r\n        try {\r\n          if (/^https?:\\/\\//i.test(s)) {\r\n            uni.downloadFile({\r\n              url: s,\r\n              success: (r) => resolve((r && r.statusCode === 200 && r.tempFilePath) ? r.tempFilePath : '/static/logo.png'),\r\n              fail: () => resolve('/static/logo.png')\r\n            })\r\n          } else {\r\n            resolve(s)\r\n          }\r\n        } catch (e) {\r\n          resolve('/static/logo.png')\r\n        }\r\n      })\r\n      const roundRect = (ctx, x, y, w, h, r) => {\r\n        const rr = Math.min(r, w / 2, h / 2)\r\n        ctx.beginPath()\r\n        ctx.moveTo(x + rr, y)\r\n        ctx.arcTo(x + w, y, x + w, y + h, rr)\r\n        ctx.arcTo(x + w, y + h, x, y + h, rr)\r\n        ctx.arcTo(x, y + h, x, y, rr)\r\n        ctx.arcTo(x, y, x + w, y, rr)\r\n        ctx.closePath()\r\n      }\r\n\r\n      const W = 750\r\n      const H = 680\r\n      const pad = 20\r\n      const ctx = uni.createCanvasContext('sharePoster', this)\r\n\r\n      const bannerUrl = (this.banners && this.banners[0] && (this.banners[0].image || this.banners[0])) || '/static/logo.png'\r\n      const cats = (this.subCategoryList || []).slice(0, 4).map(x => ({\r\n        name: (x && x.name) ? String(x.name) : '',\r\n        icon: (x && x.icon) ? String(x.icon) : '/static/logo.png'\r\n      }))\r\n      while (cats.length < 4) cats.push({ name: '', icon: '/static/logo.png' })\r\n\r\n      return Promise.all([\r\n        load(bannerUrl),\r\n        load(cats[0].icon), load(cats[1].icon), load(cats[2].icon), load(cats[3].icon)\r\n      ]).then((imgs) => {\r\n        const bannerPath = imgs[0]\r\n        const catPaths = imgs.slice(1, 5)\r\n\r\n        ctx.setFillStyle('#f7f7f7')\r\n        ctx.fillRect(0, 0, W, H)\r\n\r\n        const searchY = 20\r\n        const searchH = 82\r\n        const searchW = W - pad * 2\r\n        roundRect(ctx, pad, searchY, searchW, searchH, 41)\r\n        ctx.setFillStyle('#ffffff')\r\n        ctx.fill()\r\n\r\n        ctx.setFillStyle('#999999')\r\n        ctx.setFontSize(28)\r\n        ctx.fillText('ÊêúÁ¥¢ÂïÜÂìÅ„ÄÅÂ∫óÈì∫', pad + 26, searchY + 54)\r\n\r\n        const btnW = 140\r\n        const btnX = pad + searchW - btnW - 10\r\n        const btnY = searchY + 10\r\n        const btnH = searchH - 20\r\n        roundRect(ctx, btnX, btnY, btnW, btnH, btnH / 2)\r\n        ctx.setFillStyle('#111111')\r\n        ctx.fill()\r\n        ctx.setFillStyle('#ffffff')\r\n        ctx.setFontSize(30)\r\n        ctx.fillText('ÊêúÁ¥¢', btnX + 42, btnY + 46)\r\n\r\n        const bannerY = searchY + searchH + 18\r\n        const bannerH = 310\r\n        roundRect(ctx, pad, bannerY, searchW, bannerH, 20)\r\n        ctx.save()\r\n        ctx.clip()\r\n        ctx.drawImage(bannerPath, pad, bannerY, searchW, bannerH)\r\n        ctx.restore()\r\n\r\n        const cateY = bannerY + bannerH + 18\r\n        const cateBoxH = 170\r\n        roundRect(ctx, pad, cateY, searchW, cateBoxH, 18)\r\n        ctx.setFillStyle('#ffffff')\r\n        ctx.fill()\r\n\r\n        const cellW = searchW / 4\r\n        for (let i = 0; i < 4; i++) {\r\n          const cx = pad + cellW * i\r\n          const iconSize = 76\r\n          const iconX = cx + (cellW - iconSize) / 2\r\n          const iconY = cateY + 20\r\n          roundRect(ctx, iconX, iconY, iconSize, iconSize, 12)\r\n          ctx.save()\r\n          ctx.clip()\r\n          ctx.drawImage(catPaths[i], iconX, iconY, iconSize, iconSize)\r\n          ctx.restore()\r\n          ctx.setFillStyle('#333333')\r\n          ctx.setFontSize(28)\r\n          const name = cats[i].name || ''\r\n          const tx = cx + (cellW - (name.length * 28)) / 2\r\n          ctx.fillText(name, Math.max(cx + 10, tx), iconY + iconSize + 46)\r\n        }\r\n\r\n        return new Promise((resolve) => {\r\n          ctx.draw(false, () => {\r\n            try {\r\n              uni.canvasToTempFilePath({\r\n                canvasId: 'sharePoster',\r\n                width: W,\r\n                height: H,\r\n                destWidth: W,\r\n                destHeight: H,\r\n                success: (res) => {\r\n                  try {\r\n                    const url = res?.tempFilePath || ''\r\n                    if (url) {\r\n                      uni.setStorageSync('share_image_url', url)\r\n                      uni.setStorageSync('share_poster_sig', this.getSharePosterSignature())\r\n                      uni.setStorageSync('share_poster_ts', Date.now())\r\n                    }\r\n                  } catch (e) {}\r\n                  resolve(true)\r\n                },\r\n                fail: () => resolve(false)\r\n              }, this)\r\n            } catch (e) { resolve(false) }\r\n          })\r\n        })\r\n      })\r\n    },\r\n    ensureLoggedIn() {\r\n      try {\r\n        const u = uni.getStorageSync('user') || null\r\n        const exp = uni.getStorageSync('token_expiration') || 0\r\n        const ok = !!u && (!exp || Date.now() < exp)\r\n        if (ok) return true\r\n        this.showLoginModal = true\r\n        return false\r\n      } catch (e) { return false }\r\n    },\r\n    triggerOnboarding() {\r\n      if (!this.ensureLoggedIn()) return\r\n      this.showOnboarding = true\r\n      this.onboardingStepIndex = 0\r\n      try {\r\n        uni.setStorageSync('onboarding_steps', this.onboardingSteps)\r\n        uni.setStorageSync('onboarding_index', 0)\r\n      } catch (e) { }\r\n      this.$nextTick(() => {\r\n        this.refreshOnboardingTargets()\r\n        setTimeout(() => { this.refreshOnboardingTargets() }, 120)\r\n      })\r\n    },\r\n    refreshOnboardingTargets() {\r\n      try {\r\n        let isH5 = false\r\n        try { isH5 = typeof window !== 'undefined' } catch (e) { isH5 = false }\r\n        if (isH5) {\r\n          const sel = s => typeof document !== 'undefined' ? document.querySelector(s) : null\r\n          const baseEl = (typeof document !== 'undefined' ? (document.getElementById('app') || document.querySelector('.uni-app') || document.body) : null)\r\n          const baseRect = baseEl && baseEl.getBoundingClientRect ? baseEl.getBoundingClientRect() : { left: 0, top: 0 }\r\n          const ox = baseRect.left || 0\r\n          const oy = baseRect.top || 0\r\n          const rectOf = el => {\r\n            if (!el) return null\r\n            const r = el.getBoundingClientRect()\r\n            return { left: r.left - ox, top: r.top - oy, width: r.width, height: r.height }\r\n          }\r\n          const rects = [\r\n            rectOf(sel('.search-input-field')) || rectOf(sel('#og-search')),\r\n            rectOf(sel('#og-cate')),\r\n            rectOf(sel('.center-content')),\r\n            rectOf(sel('#og-guess .guess-title')) || rectOf(sel('#og-guess')),\r\n            rectOf(sel('#og-quick'))\r\n          ].filter(Boolean)\r\n          this.onboardingRects = rects\r\n        } else {\r\n          const q = uni.createSelectorQuery().in(this)\r\n          q.select('#og-search').boundingClientRect()\r\n          q.select('#og-mp-cate').boundingClientRect()\r\n          q.select('#og-banner').boundingClientRect()\r\n          q.select('#og-mp-guess').boundingClientRect()\r\n          q.exec(res => {\r\n            const rects = (res || []).filter(Boolean).map(r => ({ left: r.left, top: r.top, width: r.width, height: r.height }))\r\n            this.onboardingRects = rects\r\n          })\r\n        }\r\n      } catch (e) { this.onboardingRects = [] }\r\n    },\r\n    handleOnboardingNext(nextIndex) {\r\n      const idx = Number(nextIndex || 0)\r\n      this.onboardingStepIndex = idx\r\n      try {\r\n        uni.setStorageSync('onboarding_steps', this.onboardingSteps)\r\n        uni.setStorageSync('onboarding_index', idx)\r\n      } catch (e) { }\r\n      const isH5 = typeof window !== 'undefined'\r\n      if (!isH5) {\r\n        if (idx === 4) {\r\n          this.openFirstProductFromOnboarding()\r\n        } else if (idx === 5) {\r\n          this.goRoomSelectFromOnboarding()\r\n        } else if (idx === 6) {\r\n          this.goOrderFromOnboarding()\r\n        } else if (idx === 7) {\r\n          this.goProfileInfoFromOnboarding()\r\n        } else if (idx === 8) {\r\n          this.goProfileFeatureFromOnboarding()\r\n        } else if (idx === 9) {\r\n          this.goProfileAddressFromOnboarding()\r\n        } else {\r\n          this.$nextTick(() => { this.refreshOnboardingTargets() })\r\n        }\r\n      } else {\r\n        if (idx === 5) {\r\n          this.openFirstProductFromOnboarding()\r\n        } else if (idx === 6) {\r\n          this.goRoomSelectFromOnboarding()\r\n        } else if (idx === 7) {\r\n          this.goOrderFromOnboarding()\r\n        } else if (idx === 8) {\r\n          this.goProfileInfoFromOnboarding()\r\n        } else if (idx === 9) {\r\n          this.goProfileFeatureFromOnboarding()\r\n        } else if (idx === 10) {\r\n          this.goProfileAddressFromOnboarding()\r\n        } else {\r\n          this.$nextTick(() => { this.refreshOnboardingTargets() })\r\n        }\r\n      }\r\n    },\r\n    handleOnboardingPrev(prevIndex) {\r\n      const idx = Number(prevIndex || 0)\r\n      if (idx < 0) return\r\n      this.onboardingStepIndex = idx\r\n      try { uni.setStorageSync('onboarding_index', idx) } catch (e) { }\r\n      this.$nextTick(() => { this.refreshOnboardingTargets() })\r\n    },\r\n    handleOnboardingClose() {\r\n      this.showOnboarding = false\r\n      try {\r\n        uni.removeStorageSync('onboarding_continue')\r\n        uni.removeStorageSync('onboarding_target_selector')\r\n        uni.removeStorageSync('onboarding_step_text')\r\n        uni.removeStorageSync('onboarding_steps')\r\n        uni.removeStorageSync('onboarding_index')\r\n      } catch (e) { }\r\n      try {\r\n        if (uni && uni.reLaunch) { uni.reLaunch({ url: '/pages/home/index' }); return }\r\n        if (uni && uni.switchTab) { uni.switchTab({ url: '/pages/home/index' }); return }\r\n        if (uni && uni.navigateTo) { uni.navigateTo({ url: '/pages/home/index' }); return }\r\n      } catch (e) { }\r\n    },\r\n    goHomeFromOnboarding() {\r\n      try { if (uni && uni.switchTab) uni.switchTab({ url: '/pages/home/index' }) } catch (e) { }\r\n      this.$nextTick(() => { this.refreshOnboardingTargets() })\r\n    },\r\n    openFirstProductFromOnboarding() {\r\n      try {\r\n        this.showOnboarding = false\r\n        const first = (this.recommendList && this.recommendList[0]) || null\r\n        if (!first) return\r\n        const id = encodeURIComponent(first.id || '')\r\n        try {\r\n          uni.setStorageSync('onboarding_continue', true)\r\n          uni.setStorageSync('onboarding_target_selector', '#og-product-add')\r\n          uni.setStorageSync('onboarding_step_text', 'ÂïÜÂìÅËØ¶ÊÉÖÈ°µÊü•ÁúãËßÑÊ†º‰∏éÂä†ÂÖ•Ë¥≠Áâ©ËΩ¶')\r\n          uni.setStorageSync('onboarding_steps', this.onboardingSteps)\r\n          uni.setStorageSync('onboarding_index', this.onboardingStepIndex)\r\n        } catch (e) { }\r\n        if (uni && uni.navigateTo) uni.navigateTo({ url: '/pages/product/index?id=' + id })\r\n      } catch (e) { }\r\n    },\r\n    goRoomSelectFromOnboarding() {\r\n      try {\r\n        this.showOnboarding = false\r\n        uni.setStorageSync('onboarding_continue', true)\r\n        uni.setStorageSync('onboarding_target_selector', '#og-room-modal-list')\r\n        uni.setStorageSync('onboarding_step_text', 'ÊàøÈó¥ÈÄâÊã©ÔºåË¥≠Áâ©ËΩ¶Ê†πÊçÆÊàøÈó¥ÂêçËøõË°åÂàÜÁªÑ')\r\n        uni.setStorageSync('onboarding_steps', this.onboardingSteps)\r\n        uni.setStorageSync('onboarding_index', this.onboardingStepIndex)\r\n      } catch (e) { }\r\n      try { if (uni && uni.navigateTo) uni.navigateTo({ url: '/pages/product/index' }) } catch (e) { }\r\n    },\r\n    goOrderFromOnboarding() {\r\n      try {\r\n        this.showOnboarding = false\r\n        uni.setStorageSync('onboarding_continue', true)\r\n        uni.setStorageSync('onboarding_target_selector', '#og-order-tabs')\r\n        uni.setStorageSync('onboarding_step_text', 'ËÆ¢ÂçïÊ†áÁ≠æÂàáÊç¢‰∏éÊü•Áúã')\r\n        uni.setStorageSync('onboarding_steps', this.onboardingSteps)\r\n        uni.setStorageSync('onboarding_index', this.onboardingStepIndex)\r\n      } catch (e) { }\r\n      try { if (uni && uni.navigateTo) uni.navigateTo({ url: '/pages/order/index' }) } catch (e) { }\r\n    },\r\n    goProfileInfoFromOnboarding() {\r\n      try {\r\n        this.showOnboarding = false\r\n        uni.setStorageSync('onboarding_continue', true)\r\n        uni.setStorageSync('onboarding_target_selector', '#og-profile-info')\r\n        uni.setStorageSync('onboarding_step_text', '‰∏™‰∫∫‰ø°ÊÅØÁÆ°ÁêÜ')\r\n        uni.setStorageSync('onboarding_steps', this.onboardingSteps)\r\n        uni.setStorageSync('onboarding_index', this.onboardingStepIndex)\r\n        if (uni && uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\r\n        else if (uni && uni.navigateTo) uni.navigateTo({ url: '/pages/profile/index' })\r\n      } catch (e) { }\r\n    },\r\n    goProfileFeatureFromOnboarding() {\r\n      try {\r\n        this.showOnboarding = false\r\n        uni.setStorageSync('onboarding_continue', true)\r\n        uni.setStorageSync('onboarding_target_selector', '#og-profile-menu')\r\n        uni.setStorageSync('onboarding_step_text', 'ÂäüËÉΩÂå∫')\r\n        uni.setStorageSync('onboarding_steps', this.onboardingSteps)\r\n        uni.setStorageSync('onboarding_index', this.onboardingStepIndex)\r\n        if (uni && uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\r\n        else if (uni && uni.navigateTo) uni.navigateTo({ url: '/pages/profile/index' })\r\n      } catch (e) { }\r\n    },\r\n    goProfileAddressFromOnboarding() {\r\n      try {\r\n        this.showOnboarding = false\r\n        uni.setStorageSync('onboarding_continue', true)\r\n        uni.setStorageSync('onboarding_target_selector', '#og-profile-addr')\r\n        uni.setStorageSync('onboarding_step_text', 'Êî∂Ë¥ßÂú∞ÂùÄÁÆ°ÁêÜ')\r\n        uni.setStorageSync('onboarding_steps', this.onboardingSteps)\r\n        uni.setStorageSync('onboarding_index', this.onboardingStepIndex)\r\n        if (uni && uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\r\n        else if (uni && uni.navigateTo) uni.navigateTo({ url: '/pages/profile/index' })\r\n      } catch (e) { }\r\n    },\r\n    hoverCategory(cat, e) {\r\n      const id = cat?.categories_id || ''\r\n      if (!id) { uni.showToast({ title: 'ÂàÜÁ±ªÁº∫Â∞ëID', icon: 'none' }); return }\r\n      if (this.activeCateId === id && (this.leftChildren && this.leftChildren.length)) return\r\n      this.activeCateId = id\r\n      this.activeCateName = cat?.name || ''\r\n      // #ifdef H5\r\n      try {\r\n        const main = document.querySelector('.center-content')\r\n        const header = document.querySelector('.h5-header')\r\n        const headerBottom = header ? header.getBoundingClientRect().bottom : 100\r\n        if (main && e && e.clientY != null) {\r\n          const rect = main.getBoundingClientRect()\r\n          const y = e.clientY\r\n          const offset = 160\r\n          this.panelTop = Math.max(headerBottom + 10, y - offset)\r\n          const w = Math.min(560, rect.width * 0.6)\r\n          this.panelLeft = Math.max(0, rect.left - 20)\r\n          this.panelRight = Math.max(0, document.documentElement.clientWidth - (this.panelLeft + w))\r\n        }\r\n      } catch (err) { }\r\n      // #endif\r\n      try {\r\n        getVisibleCategories({ page: 1, page_size: 50, sort_by: 'id', categories_id: id })\r\n          .then((res) => {\r\n            const items = Array.isArray(res?.data?.items) ? res.data.items : []\r\n            this.leftChildren = items.map((it, i) => ({ name: it?.name || ('Â≠êÂàÜÁ±ª' + (i + 1)), categories_id: it?.categories_id || it?.id || '', icon: (typeof it?.thumbnail === 'string' ? it.thumbnail.replace(/`/g, '').trim() : '') || (typeof it?.icon === 'string' ? it.icon.replace(/`/g, '').trim() : '') }))\r\n          })\r\n          .catch(() => { this.leftChildren = [] })\r\n      } catch (e) { this.leftChildren = [] }\r\n    },\r\n    onCateListLeave() {\r\n      try { if (this.leaveTimer) { clearTimeout(this.leaveTimer) } } catch (e) { }\r\n      this.leaveTimer = setTimeout(() => { if (!this.hoveringPanel) this.closeCategory() }, 120)\r\n    },\r\n    onPanelEnter() {\r\n      this.hoveringPanel = true\r\n      try { if (this.leaveTimer) { clearTimeout(this.leaveTimer) } } catch (e) { }\r\n    },\r\n    onPanelLeave() {\r\n      this.hoveringPanel = false\r\n      this.closeCategory()\r\n    },\r\n    closeCategory() {\r\n      this.activeCateId = ''\r\n      this.activeCateName = ''\r\n      this.leftChildren = []\r\n    },\r\n    onSearch(val) {\r\n      const q = (val || this.keyword || '').trim()\r\n      if (!q) { uni.showToast({ title: 'ËØ∑ËæìÂÖ•ÂÖ≥ÈîÆÂ≠ó', icon: 'none' }); return }\r\n      // #ifdef H5\r\n      uni.navigateTo({ url: '/pages/search/index?q=' + encodeURIComponent(q) })\r\n      // #endif\r\n      // #ifndef H5\r\n      uni.navigateTo({ url: '/pages/search/index?q=' + encodeURIComponent(q) })\r\n      // #endif\r\n    },\r\n    openAnnouncementModalH5() {\r\n      if (!this.ensureLoggedIn()) return\r\n      this.announcementLoading = true\r\n      try {\r\n        const u = uni.getStorageSync('user') || null\r\n        const token = (u && (u.token || (u.data && u.data.token))) || ''\r\n        getCurrentAnnouncement({ token }).then(res => {\r\n          const ok = !!(res && res.success)\r\n          const data = res?.data || null\r\n          if (ok && data) {\r\n            this.announcement = {\r\n              id: data.announcement_id || data.id || '',\r\n              title: data.title || '',\r\n              content: data.content || '',\r\n              created_at: data.created_at || res.timestamp || ''\r\n            }\r\n          } else {\r\n            this.announcement = null\r\n          }\r\n        }).catch(() => { this.announcement = null })\r\n          .finally(() => {\r\n            this.announcementLoading = false\r\n            this.showAnnouncementModal = true\r\n            this.showAnnContent = true\r\n          })\r\n      } catch (e) {\r\n        this.announcement = null\r\n        this.announcementLoading = false\r\n        this.showAnnouncementModal = true\r\n        this.showAnnContent = true\r\n      }\r\n    },\r\n    closeAnnouncementModal() {\r\n      this.showAnnouncementModal = false\r\n      this.showAnnContent = false\r\n    },\r\n    openCategory(cat) {\r\n      // #ifdef H5\r\n      const id = cat?.categories_id || ''\r\n      if (!id) { uni.showToast({ title: 'ÂàÜÁ±ªÁº∫Â∞ëID', icon: 'none' }); return }\r\n      // ÂÜçÊ¨°ÁÇπÂáªÂêå‰∏Ä‰∏ÄÁ∫ßÂàÜÁ±ªÊó∂Êî∂Áº©ÂÖ≥Èó≠Â±ïÂºÄÊ°Ü\r\n      if (this.activeCateId === id) {\r\n        this.activeCateId = ''\r\n        this.activeCateName = ''\r\n        this.leftChildren = []\r\n        return\r\n      }\r\n      // Â±ïÂºÄÂπ∂Âä†ËΩΩÂ≠êÂàÜÁ±ª\r\n      this.activeCateId = id\r\n      this.activeCateName = cat?.name || ''\r\n      try {\r\n        getVisibleCategories({ page: 1, page_size: 50, sort_by: 'id', categories_id: id })\r\n          .then((res) => {\r\n            const items = Array.isArray(res?.data?.items) ? res.data.items : []\r\n            this.leftChildren = items.map((it, i) => ({ name: it?.name || ('Â≠êÂàÜÁ±ª' + (i + 1)), categories_id: it?.categories_id || it?.id || '' }))\r\n          })\r\n          .catch(() => { this.leftChildren = [] })\r\n      } catch (e) { this.leftChildren = [] }\r\n      // #endif\r\n      // #ifndef H5\r\n      const cid = cat?.categories_id || ''\r\n      if (!cid) { uni.showToast({ title: 'ÂàÜÁ±ªÁº∫Â∞ëID', icon: 'none' }); return }\r\n      try { uni.setStorageSync('category_pending_active_id', cid) } catch (e) {}\r\n      if (uni.switchTab) {\r\n        uni.switchTab({ url: '/pages/category/index' })\r\n      } else {\r\n        const aid = encodeURIComponent(cid)\r\n        const aname = encodeURIComponent(cat?.name || '')\r\n        uni.navigateTo({ url: `/pages/category/index?active=${aname}&active_id=${aid}` })\r\n      }\r\n      // #endif\r\n    },\r\n    goSubList(sub) {\r\n      // ‰ªÖ H5 Â±ïÂºÄÈù¢ÊùøÂÜÖÁÇπÂáªÔºöË∑≥ËΩ¨Âà∞Â≠êÂàÜÁ±ªÂïÜÂìÅÂàóË°®Êñ∞È°µÈù¢\r\n      // ‰º†ÈÄíÁà∂ÂàÜÁ±ªID‰∏éÂΩìÂâçÂ≠êÂàÜÁ±ªID‰ª•Áî®‰∫éÈ°∂ÈÉ®ÂØºËà™ÂíåÂÜÖÂÆπÂä†ËΩΩ\r\n      const pid = encodeURIComponent(this.activeCateId || '')\r\n      const cid = encodeURIComponent(sub?.categories_id || '')\r\n      const pname = encodeURIComponent(this.activeCateName || '')\r\n      if (!cid) { uni.showToast({ title: 'Â≠êÂàÜÁ±ªÁº∫Â∞ëID', icon: 'none' }); return }\r\n      const url = `/pages/category/list?parent_id=${pid}&category_id=${cid}&active=${pname}`\r\n      this.closeCategory()\r\n      uni.navigateTo({ url })\r\n    },\r\n    addToCart(product) {\r\n      try {\r\n        const cart = uni.getStorageSync('cart') || []\r\n        const i = cart.findIndex(it => it.id === product.id)\r\n        if (i >= 0) cart[i].quantity = (cart[i].quantity || 1) + 1\r\n        else cart.push({ ...product, quantity: 1 })\r\n        uni.setStorageSync('cart', cart)\r\n        uni.showToast({ title: 'Â∑≤Âä†ÂÖ•Ë¥≠Áâ©ËΩ¶', icon: 'success' })\r\n      } catch (e) {\r\n        console.error(e)\r\n      }\r\n    },\r\n    goLogin() {\r\n      uni.navigateTo({ url: '/pages/login/index' })\r\n    },\r\n    closeLoginModal() { this.showLoginModal = false },\r\n    onAvatarClick() {\r\n      if (this.user) {\r\n        if (uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\r\n        else uni.navigateTo({ url: '/pages/profile/index' })\r\n      } else {\r\n        uni.navigateTo({ url: '/pages/login/index' })\r\n      }\r\n    },\r\n    saveRoom() {\r\n      try {\r\n        const name = (this.roomName || '').trim()\r\n        if (!name) return\r\n        uni.setStorageSync('currentRoom', name)\r\n        const rooms = uni.getStorageSync('rooms') || []\r\n        if (!rooms.includes(name)) { rooms.push(name); uni.setStorageSync('rooms', rooms) }\r\n        uni.showToast({ title: 'ÊàøÈó¥ÂêçÂ∑≤‰øùÂ≠ò', icon: 'success' })\r\n      } catch (e) { }\r\n    },\r\n    logout() {\r\n      try {\r\n        uni.removeStorageSync('user')\r\n      } catch (e) { }\r\n      this.user = null\r\n      // uni.showToast({ title: 'Â∑≤ÈÄÄÂá∫ÁôªÂΩï', icon: 'success' })\r\n      setTimeout(() => {\r\n        uni.navigateTo({ url: '/pages/login/index' })\r\n      }, 500)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.page {\r\n  /* background: white; */\r\n\r\n  /* #ifdef H5 */\r\n  min-height: 100vh;\r\n  /* #endif */\r\n  /* #ifndef H5 */\r\n  min-height: 100vh;\r\n  padding-bottom: 20rpx;\r\n  /* #endif */\r\n}\r\n\r\n.page-bg {\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  z-index: -1;\r\n}\r\n\r\n/* H5 New Layout Styles */\r\n/* #ifdef H5 */\r\n.h5-container {\r\n  max-width: 1350px;\r\n  margin: 0 auto;\r\n  padding: 0 100rpx;\r\n  min-height: 100vh;\r\n  /* background-color: #fff; */\r\n  padding-bottom: 60rpx;\r\n}\r\n\r\n/* Header */\r\n.h5-header {\r\n  display: flex;\r\n  align-items: center;\r\n  height: 140rpx;\r\n  /* Increased height for better top spacing */\r\n  padding: 30rpx 0;\r\n  /* margin-bottom: 20rpx; */\r\n}\r\n\r\n.h5-logo-area {\r\n  width: 300px;\r\n  /* Match side-cate width */\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.logo-text {\r\n  font-size: 48rpx;\r\n  font-weight: bold;\r\n  font-family: serif;\r\n  color: #000;\r\n  letter-spacing: 2rpx;\r\n}\r\n\r\n.h5-search-wrapper {\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  padding-left: 20rpx;\r\n  /* Align with gap */\r\n  padding-right: 120rpx;\r\n}\r\n\r\n.search-bar-box {\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 80rpx;\r\n  border: 3rpx solid #000;\r\n  border-radius: 40rpx;\r\n  padding: 4rpx;\r\n  background: #fff;\r\n}\r\n\r\n.search-type {\r\n  padding: 0 8rpx;\r\n  font-size: 30rpx;\r\n  color: #333;\r\n  font-weight: 500;\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n}\r\n\r\n.search-icon-img {\r\n  width: 32rpx;\r\n  height: 32rpx;\r\n  margin: 0 12rpx;\r\n}\r\n\r\n.search-icon {\r\n  display: inline-block;\r\n  font-size: 28rpx;\r\n  margin: 0 12rpx;\r\n  color: #000;\r\n  filter: grayscale(100%) brightness(0);\r\n}\r\n\r\n.arrow-down {\r\n  font-size: 30rpx;\r\n  margin-left: 10rpx;\r\n  color: #666;\r\n}\r\n\r\n.divider-v {\r\n  width: 2rpx;\r\n  height: 30rpx;\r\n  background: #ddd;\r\n  margin-right: 16rpx;\r\n}\r\n\r\n.search-input-field {\r\n  flex: 1;\r\n  height: 100%;\r\n  font-size: 30rpx;\r\n}\r\n\r\n.search-btn-black {\r\n  background: #000;\r\n  color: #fff;\r\n  border-radius: 36rpx;\r\n  font-size: 30rpx;\r\n  font-weight: bold;\r\n  height: 70rpx;\r\n  line-height: 70rpx;\r\n  padding: 0 50rpx;\r\n  margin-right: 4rpx;\r\n}\r\n\r\n/* Middle Layout */\r\n.h5-middle-layout {\r\n  display: grid;\r\n  grid-template-columns: 200px 1fr 200px;\r\n  gap: 0rpx;\r\n  height: 720rpx;\r\n  margin-bottom: 40rpx;\r\n  align-items: stretch;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  justify-content: center;\r\n  max-width: 1200px;\r\n}\r\n\r\n.side-cate {\r\n  background: #f8f8f8;\r\n  border-radius: 12rpx;\r\n  padding: 20rpx;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 85%;\r\n  /* align-items: center; */\r\n  /* text-align: center; */\r\n  height: 100%;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.cate-title {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  padding-bottom: 20rpx;\r\n  display: flex;\r\n  /* align-items: center; */\r\n  /* justify-content: center; */\r\n  color: #000;\r\n  border-bottom: 1rpx solid #eee;\r\n  margin-bottom: 10rpx;\r\n}\r\n\r\n.cate-list {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  /* justify-content: space-between; */\r\n  overflow-y: auto;\r\n}\r\n\r\n.cate-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 16rpx 0;\r\n  cursor: pointer;\r\n  color: #333;\r\n  font-size: 32rpx;\r\n  /* ÂàÜÁ±ªÂ≠ó‰ΩìÂä†Â§ß */\r\n  transition: all 0.2s;\r\n  /* justify-content: center; */\r\n}\r\n\r\n.cate-item:hover {\r\n  color: #000;\r\n  font-weight: bold;\r\n}\r\n\r\n.cate-dot {\r\n  margin-right: 12rpx;\r\n  font-size: 24rpx;\r\n  color: #000;\r\n}\r\n\r\n.cate-name {\r\n  font-size: 32rpx;\r\n}\r\n\r\n/* Center Banner */\r\n.center-content {\r\n  position: relative;\r\n  border-radius: 12rpx;\r\n  overflow: hidden;\r\n  height: 100%;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.full-height-banner {\r\n  height: 100%;\r\n}\r\n\r\n.center-content :deep(.banner),\r\n.center-content :deep(.swiper) {\r\n  height: 100% !important;\r\n  padding: 0 !important;\r\n}\r\n\r\n.center-content :deep(.uni-swiper-wrapper) {\r\n  border-radius: 12rpx;\r\n}\r\n\r\n/* User Card */\r\n.side-user {\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: stretch;\r\n  justify-content: center;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.user-card-new {\r\n  background: #f8f8f8;\r\n  border-radius: 24rpx;\r\n  height: 100%;\r\n  width: 85%;\r\n  padding: 40rpx 30rpx;\r\n  display: flex;\r\n  flex-direction: column;\r\n  box-shadow: none;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.uc-header {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 50rpx;\r\n}\r\n\r\n.uc-avatar {\r\n  width: 80rpx;\r\n  height: 80rpx;\r\n  border-radius: 50%;\r\n  margin-right: 20rpx;\r\n  background: #fff;\r\n  border: 2rpx solid #fff;\r\n  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.uc-info {\r\n  flex: 1;\r\n}\r\n\r\n.uc-greet {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  color: #333;\r\n  line-height: 1.4;\r\n}\r\n\r\n.uc-links {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 15rpx;\r\n}\r\n\r\n.uc-link-item {\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 30rpx;\r\n  color: #333;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  text-decoration: none;\r\n}\r\n\r\n.uc-link-item:hover {\r\n  color: #000;\r\n}\r\n\r\n.uc-icon {\r\n  margin-right: 24rpx;\r\n  font-size: 36rpx;\r\n  width: 40rpx;\r\n  text-align: center;\r\n  filter: grayscale(100%) brightness(0);\r\n  opacity: 1;\r\n}\r\n\r\n.uc-link-item:hover .uc-icon {\r\n  filter: grayscale(100%) brightness(0);\r\n  opacity: 0.8;\r\n}\r\n\r\n.uc-login-btn {\r\n  background: #000;\r\n  color: #fff;\r\n  border-radius: 999rpx;\r\n  width: 100%;\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  height: 80rpx;\r\n  line-height: 80rpx;\r\n  margin-top: auto;\r\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.uc-login-btn:active {\r\n  transform: scale(0.98);\r\n}\r\n\r\n/* Bottom Section */\r\n.h5-bottom-section {\r\n  margin-top: 70rpx;\r\n  padding-left: 110rpx;\r\n  padding-right: 110rpx;\r\n}\r\n\r\n.guess-header {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 40rpx;\r\n  padding-left: 20rpx;\r\n}\r\n\r\n.guess-icon {\r\n  width: 64rpx;\r\n  height: 64rpx;\r\n  background: #000;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #fff;\r\n  margin-right: 24rpx;\r\n  font-size: 32rpx;\r\n}\r\n\r\n.guess-title {\r\n  font-size: 40rpx;\r\n  font-weight: 900;\r\n  color: #333;\r\n}\r\n\r\n.grid2 {\r\n  display: grid;\r\n  grid-template-columns: repeat(6, 1fr) !important;\r\n  gap: 30rpx;\r\n}\r\n\r\n/* Sub Panel */\r\n.sub-panel {\r\n  position: fixed;\r\n  z-index: 999;\r\n  background: rgba(255, 255, 255, 0.98);\r\n  border: 1rpx solid #eee;\r\n  padding: 40rpx;\r\n  box-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.12);\r\n  border-radius: 12rpx;\r\n  min-width: 600rpx;\r\n  margin-left: -90rpx;\r\n  /* margin-top: 80rpx; */\r\n}\r\n\r\n.panel-title {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  margin-bottom: 30rpx;\r\n  padding-bottom: 20rpx;\r\n  border-bottom: 1rpx solid #f0f0f0;\r\n}\r\n\r\n.panel-columns {\r\n  display: grid;\r\n  grid-template-columns: repeat(4, 1fr);\r\n  gap: 20rpx;\r\n}\r\n\r\n.panel-link {\r\n  color: #666;\r\n  font-size: 28rpx;\r\n  cursor: pointer;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.panel-link:hover {\r\n  color: #333;\r\n  font-weight: 600;\r\n}\r\n\r\n/* Responsive */\r\n/* @media (max-width: 1200px) {\r\n  .grid2 { grid-template-columns: repeat(4, 1fr); }\r\n  .h5-middle-layout { grid-template-columns: 220rpx 1fr 260rpx; }\r\n} */\r\n\r\n/* Hide original components overrides */\r\n.main :deep(.search-bar),\r\n.main :deep(.banner) {\r\n  display: none;\r\n}\r\n\r\n/* #endif */\r\n\r\n.block {\r\n  margin-top: 20rpx;\r\n  background: #fff;\r\n}\r\n\r\n.block-title {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 20rpx;\r\n  font-weight: 500;\r\n  font-size: 35rpx;\r\n  margin-left: 10rpx;\r\n}\r\n\r\n.more {\r\n  color: #999;\r\n  font-size: 26rpx;\r\n}\r\n\r\n.seckill {\r\n  white-space: nowrap;\r\n  padding: 0 20rpx 20rpx;\r\n}\r\n\r\n.sk-item {\r\n  display: inline-flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 220rpx;\r\n  margin-right: 16rpx;\r\n}\r\n\r\n.sk-img {\r\n  width: 220rpx;\r\n  height: 220rpx;\r\n  border-radius: 12rpx;\r\n  background: #f5f5f5;\r\n}\r\n\r\n.sk-price {\r\n  color: #e1251b;\r\n  font-size: 28rpx;\r\n  margin-top: 8rpx;\r\n}\r\n\r\n.grid2 {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  grid-gap: 40rpx;\r\n  padding: 0 20rpx 20rpx;\r\n}\r\n\r\n.grid2-item {}\r\n\r\n/* È¶ñÈ°µÈöêËóèÂïÜÂìÅÂç°Áâá‰∏≠ÁöÑÂä†ÂÖ•Ë¥≠Áâ©ËΩ¶ÊåâÈíÆ */\r\n:deep(.actions),\r\n:deep(.btn-cart) {\r\n  display: none !important;\r\n}\r\n\r\n.h5-mask {\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, .45);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 9999;\r\n}\r\n\r\n.h5-modal {\r\n  width: 820rpx;\r\n  max-width: 90vw;\r\n  background: #fff;\r\n  border-radius: 16rpx;\r\n  padding: 24rpx;\r\n  box-shadow: 0 12rpx 28rpx rgba(0, 0, 0, 0.12);\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 60vh;\r\n}\r\n\r\n.modal-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding-bottom: 12rpx;\r\n  border-bottom: 1rpx solid #f0f0f0;\r\n  margin-bottom: 16rpx;\r\n}\r\n\r\n.modal-title {\r\n  font-size: 32rpx;\r\n  font-weight: 700;\r\n  color: #333;\r\n}\r\n\r\n.modal-close {\r\n  width: 60rpx;\r\n  height: 60rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 32rpx;\r\n  color: #999;\r\n  cursor: pointer;\r\n}\r\n\r\n.modal-close:active {\r\n  color: #333;\r\n}\r\n\r\n.modal-body {\r\n  flex: 1;\r\n  min-height: 0;\r\n  overflow-y: auto;\r\n}\r\n\r\n.modal-body-two {\r\n  display: flex;\r\n  gap: 16rpx;\r\n  height: 100%;\r\n}\r\n\r\n.two-left {\r\n  width: 280rpx;\r\n  flex-shrink: 0;\r\n  padding-right: 16rpx;\r\n  border-right: 1rpx solid #f0f0f0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12rpx;\r\n}\r\n\r\n.two-left {\r\n  cursor: pointer;\r\n}\r\n\r\n.two-label {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n.two-title {\r\n  font-size: 30rpx;\r\n  color: #333;\r\n  font-weight: 600;\r\n}\r\n\r\n.two-right {\r\n  flex: 1;\r\n  min-height: 0;\r\n  overflow-y: auto;\r\n  padding-left: 16rpx;\r\n}\r\n\r\n.two-hint {\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #999;\r\n  font-size: 26rpx;\r\n}\r\n\r\n.a-title {\r\n  font-size: 34rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n  display: block;\r\n}\r\n\r\n.a-time {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n  display: block;\r\n  margin-top: 8rpx;\r\n  margin-bottom: 16rpx;\r\n}\r\n\r\n.a-content {\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  line-height: 1.6;\r\n  white-space: pre-wrap;\r\n}\r\n\r\n/* ÊàøÈó¥ÂêçËæìÂÖ•Ê†∑ÂºèÔºàH5ÂíåÂ∞èÁ®ãÂ∫èÈÄöÁî®Ôºâ */\r\n.room-block {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12rpx;\r\n  padding: 16rpx 20rpx;\r\n  background: #ffffff;\r\n}\r\n\r\n.room-label {\r\n  color: #333;\r\n}\r\n\r\n.room-input {\r\n  flex: 1;\r\n  height: 64rpx;\r\n  line-height: 64rpx;\r\n  background: #f7f7f7;\r\n  border: 1rpx solid #e6e6e6;\r\n  border-radius: 12rpx;\r\n  padding: 0 16rpx;\r\n}\r\n\r\n/* H5ÔºöÂè≥‰æßÂ±ïÂºÄÁöÑÂ≠êÂàÜÁ±ªÈù¢ÊùøÊ†∑Âºè */\r\n.sub-panel {\r\n  position: fixed;\r\n  z-index: 1000;\r\n  background-color: #fff;\r\n  border-radius: 12rpx;\r\n  box-shadow: 0 6rpx 18rpx rgba(0, 0, 0, 0.08);\r\n  border: 1.5rpx solid #000;\r\n  height: clamp(200rpx, 30vh, 480rpx);\r\n  max-height: 50vh;\r\n  overflow-y: auto;\r\n  padding: 30rpx 60rpx 60rpx;\r\n}\r\n\r\n.panel-title {\r\n  font-size: 36rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin-bottom: 12rpx;\r\n}\r\n\r\n.panel-columns {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 30rpx 25rpx;\r\n}\r\n\r\n.panel-link {\r\n  font-size: 32rpx;\r\n  color: #333;\r\n  line-height: 48rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  min-width: 0;\r\n}\r\n\r\n.panel-link:hover {\r\n  color: #333;\r\n  font-weight: 600;\r\n}\r\n\r\n.sub-icon {\r\n  margin-right: 12rpx;\r\n  font-size: 28rpx;\r\n}\r\n\r\n.sub-empty {\r\n  font-size: 24rpx;\r\n  color: #888;\r\n  text-align: center;\r\n  padding: 20rpx 0;\r\n}\r\n</style>\r\n<style scoped>\r\n.mp-cate-nav {\r\n  white-space: nowrap;\r\n  padding: 12rpx 20rpx;\r\n  background: #fff;\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 50;\r\n}\r\n\r\n.mp-cate-item {\r\n  display: inline-flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 14rpx 18rpx;\r\n  margin-right: 12rpx;\r\n  border-radius: 16rpx;\r\n  background: #fff;\r\n  color: #333;\r\n  font-size: 26rpx;\r\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, .04);\r\n}\r\n\r\n.mp-cate-thumb {\r\n  width: 96rpx;\r\n  height: 96rpx;\r\n  background: #f5f5f5;\r\n  border-radius: 12rpx;\r\n}\r\n\r\n.mp-cate-name {\r\n  margin-top: 8rpx;\r\n}\r\n\r\n.mp-cate-item.active {\r\n  background: #ffe9e3;\r\n  color: #ff5000;\r\n}\r\n</style>\r\n","import MiniProgramPage from 'C:/Users/HP/Desktop/LiShop/LiShop/pages/home/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","getVisibleCategories","getCarousel","getRecommendedProducts","wx","ctx","e","getCurrentAnnouncement"],"mappings":"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"}