{"version":3,"file":"index.js","sources":["pages/product/index.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcHJvZHVjdC9pbmRleC52dWU"],"sourcesContent":["<template>\n  <view class=\"page product-page\" :class=\"{ 'no-scroll': mpSheet || roomSelectorVisible }\">\n    <Skeleton :loading=\"!product\" :showTitle=\"true\" />\n    <block v-if=\"product\">\n      <!-- #ifdef H5 -->\n      <view class=\"h5-product-bg\">\n        <view class=\"h5-topbar\">\n          <button class=\"back-btn\" @click=\"goBack\">â†</button>\n        </view>\n        <view class=\"h5-product-card\">\n          <view class=\"pd-grid\">\n            <!-- å·¦ä¾§ï¼šå¯æ»šåŠ¨ï¼ŒåŒ…å«ç”»å»Š + å‚æ•° + å›¾æ–‡è¯¦æƒ… -->\n            <view class=\"pd-left\">\n              <view id=\"og-product-gallery\" class=\"pd-gallery\">\n                <swiper class=\"pd-main\" :current=\"current\" :autoplay=\"false\" circular interval=\"3000\" @change=\"onSwiperChange\">\n                  <swiper-item v-for=\"(src, i) in images\" :key=\"i\">\n                    <video\n                      v-if=\"isVideo(src)\"\n                      :id=\"i === current ? 'pd-video' : ('pd-video-' + i)\"\n                      class=\"pd-main\"\n                      :src=\"i === current ? videoSrc : src\"\n                      :poster=\"product.image || '/static/logo.png'\"\n                      :controls=\"true\"\n                      :autoplay=\"false\"\n                      playsinline\n                      webkit-playsinline\n                      crossorigin=\"anonymous\"\n                      object-fit=\"contain\"\n                      :muted=\"true\"\n                      @play=\"pauseCarousel\"\n                      @ended=\"onVideoEnded\"\n                    />\n                    <image v-else class=\"pd-main\" :src=\"src\" mode=\"aspectFit\" @click=\"previewCurrentImage\" />\n                  </swiper-item>\n                </swiper>\n                <view class=\"pd-thumbs\">\n                  <view v-for=\"(src, i) in images\" :key=\"i\" class=\"pd-thumb\" :class=\"{ active: i === current }\"\n                    @click=\"current = i\" style=\"position: relative; overflow: hidden;\">\n                    <image :src=\"isVideo(src) ? (product.image || '/static/logo.png') : src\" mode=\"aspectFill\"\n                      style=\"width: 100%; height: 100%; display: block;\" />\n                    <view v-if=\"isVideo(src)\"\n                      style=\"position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center;\">\n                      <text style=\"color: #fff; font-size: 12px;\">â–¶</text>\n                    </view>\n                  </view>\n                </view>\n              </view>\n\n              <view class=\"pd-card pd-params\">\n                <text class=\"pd-section-title\" selectable=\"true\">å‚æ•°ä¿¡æ¯</text>\n                <view class=\"pd-param-grid\">\n                  <view class=\"pd-param-item\"><text class=\"key\" selectable=\"true\">å‹å·</text><text class=\"val\" selectable=\"true\">{{ product.id || 'é»˜è®¤æ¬¾'\n                  }}</text></view>\n                  <view class=\"pd-param-item\"><text class=\"key\" selectable=\"true\">åç§°</text><text class=\"val\" selectable=\"true\">{{ product.title }}</text>\n                  </view>\n                  <view class=\"pd-param-item\"><text class=\"key\" selectable=\"true\">è§„æ ¼</text><text class=\"val\" selectable=\"true\">é»˜è®¤è§„æ ¼</text></view>\n                  <view class=\"pd-param-item\"><text class=\"key\" selectable=\"true\">äº§åœ°</text><text class=\"val\" selectable=\"true\">{{ product.shipping_origin ?\n                    product.shipping_origin.replace(/çœ|å¸‚/g, '') : 'â€”' }}</text></view>\n                  <view class=\"pd-param-item\"><text class=\"key\" selectable=\"true\">å•ä½</text><text class=\"val\" selectable=\"true\">ä»¶</text></view>\n                  <!-- <view class=\"pd-param-item\"><text class=\"key\">ä»·æ ¼</text><text class=\"val\">Â¥{{ product.price.toFixed(2)\n                  }}</text></view> -->\n                  <view class=\"pd-param-item\"><text class=\"key\" selectable=\"true\">å‘è´§</text><text class=\"val\" selectable=\"true\">{{\n                    product.shipping_time_hours ? (product.shipping_time_hours + 'å°æ—¶') : 'å¾…å®š' }}</text></view>\n                  <!-- <view class=\"pd-param-item\"><text class=\"key\">å”®å</text><text class=\"val\">{{\n                    product.support_no_reason_return_7d ? 'ä¸ƒå¤©æ— ç†ç”±' : 'æ— ' }}</text></view> -->\n                </view>\n              </view>\n\n              <view class=\"pd-card pd-detail\">\n                <text class=\"pd-section-title\" selectable=\"true\">å›¾æ–‡è¯¦æƒ…</text>\n                <image v-for=\"(src, i) in product.details_images\" :key=\"'d' + i\" class=\"pd-detail-img\" :src=\"src\"\n                  mode=\"widthFix\" @click=\"previewDetailImage(src)\" />\n              </view>\n            </view>\n\n            <!-- å³ä¾§ï¼šä¿æŒç°æœ‰ä¿¡æ¯ä¸æŒ‰é’®ï¼Œä¸åšå…¶å®ƒæ”¹åŠ¨ -->\n            <view class=\"pd-right\">\n              <view class=\"pd-info\">\n                <view class=\"pd-title-row\">\n                  <text class=\"pd-title\" selectable=\"true\">{{ product.title }}</text>\n                  <text class=\"fav-star\" :class=\"{ active: isFavorite }\" @click=\"favProduct\">{{ isFavorite ? 'â˜…' : 'â˜†' }}</text>\n                </view>\n                <view class=\"pd-meta\">\n                  <text selectable=\"true\">{{ product.is_free_shipping ? 'åŒ…é‚®' : 'ä¸åŒ…é‚®' }} ï½œ {{ product.shipping_time_hours ?\n                    (product.shipping_time_hours + 'å°æ—¶å†…å‘è´§') : 'å‘è´§æ—¶é—´å¾…å®š' }} ï½œ {{ product.support_no_reason_return_7d ?\n                      'ä¸ƒå¤©æ— ç†ç”±' : 'ä¸æ”¯æŒä¸ƒå¤©æ— ç†ç”±' }}</text>\n                </view>\n                <view class=\"pd-price-row\">\n                  <text class=\"pd-price\" selectable=\"true\">{{ displayTopPriceWithSymbol }}</text>\n                  <text class=\"pd-coupon\" selectable=\"true\">åˆ¸åæ›´ä½</text>\n                </view>\n\n\n                <view>\n                  <text class=\"pd-section-title\" selectable=\"true\">è§„æ ¼æ˜ç»†</text>\n                  <view v-if=\"specsLoading\"><text class=\"pd-meta\">åŠ è½½ä¸­...</text></view>\n                  <view v-else-if=\"specs && specs.length\" class=\"specs-list\">\n                    <view class=\"spec-item\" v-for=\"(it, i) in specs\" :key=\"'h5sp' + i\"\n                      :class=\"{ active: selectedSpecIndex === i, disabled: isSpecDisabled(it) }\" @click=\"onClickSpec(it, i)\">\n                      <!-- <image class=\"spec-thumb\" :src=\"it.image_url || '/static/logo.png'\" mode=\"aspectFill\" /> -->\n                      <view class=\"spec-info\">\n                        <text class=\"spec-name\" selectable=\"true\">{{ it.name }}</text>\n                        <view class=\"spec-price-row\">\n                          <text class=\"spec-price\" selectable=\"true\">{{ formatPriceWithSymbol(it.price) }}</text>\n                          <text v-if=\"Number(it.original_price) > 0\" class=\"spec-oprice\">Â¥{{\n                            Number(it.original_price).toFixed(2) }}</text>\n                        </view>\n                        <text class=\"spec-unit\" selectable=\"true\">å•ä½ï¼š{{ it.unit || 'â€”' }}</text>\n                      </view>\n                      <view v-if=\"String(it.product_type || '').toLowerCase() === 'stagnant' && Number(it.inventory) === 0\" class=\"spec-mask\">\n                        <image class=\"spec-mask-ico\" src=\"/static/no.png\" mode=\"aspectFit\" />\n                      </view>\n                    </view>\n                  </view>\n                  <view v-else><text class=\"pd-meta\">æš‚æ— è§„æ ¼æ•°æ®</text></view>\n                </view>\n\n                <view class=\"pd-address\">\n                  <text class=\"pd-section-title\" selectable=\"true\">æ”¶è´§åœ°å€</text>\n                  <view class=\"address-card\">\n                    <view v-if=\"selectedAddress\" class=\"addr-body\">\n                      <text class=\"addr-line\" selectable=\"true\">{{ selectedAddress.receiver }} {{ selectedAddress.phone }}</text>\n                      <text class=\"addr-line\" selectable=\"true\">{{ selectedAddress.province }} {{ selectedAddress.city }} {{\n                        selectedAddress.district }} {{ selectedAddress.detail_address }}</text>\n                    </view>\n                    <view v-else class=\"addr-empty\" selectable=\"true\">æœªé€‰æ‹©æ”¶è´§åœ°å€</view>\n                    <view class=\"addr-actions\">\n                      <button class=\"addr-btn\" @click=\"openH5AddressSheet\">é€‰æ‹©åœ°å€</button>\n                    </view>\n                  </view>\n                </view>\n\n                <view class=\"pd-form\">\n                  <view class=\"pd-field inline\">\n                    <text class=\"pd-section-title\" selectable=\"true\">æˆ¿é—´</text>\n                    <view id=\"og-room-select\" class=\"picker-display\" @click=\"openRoomSheet\">{{ roomName || 'è¯·é€‰æ‹©æˆ¿é—´' }}</view>\n                  </view>\n                  <!-- <view class=\"pd-field inline\">\n              <text class=\"label\">è‰²æ¸©</text>\n              <input class=\"pd-input\" v-model=\"specTemp\" placeholder=\"å¦‚ 3000K / 4000K\" />\n            </view> -->\n                  <view class=\"pd-field inline\" v-if=\"selectedSpec && selectedSpec.has_length === 1\">\n                    <text class=\"label\">é•¿åº¦</text>\n                    <input class=\"pd-input\" v-model=\"specLength\" placeholder=\"å¡«å†™æ•°å­—\" />\n                    <text class=\"unit-tip\">{{ lengthUnitText }}</text>\n                  </view>\n                  <view class=\"pd-field inline\">\n                    <text class=\"label\">å¤‡æ³¨</text>\n                    <input class=\"pd-input\" v-model=\"h5OrderNote\" placeholder=\"å¡«å†™å¤‡æ³¨\" />\n                  </view>\n                </view>\n\n                <view class=\"pd-actions-row\">\n                  <!-- <text class=\"label\" selectable=\"true\">æ•°é‡</text> -->\n                  <view class=\"qty-box-large\">\n                    <view class=\"qty-btn\" @click=\"decQty\">-</view>\n                    <input class=\"qty-input\" v-model=\"qty\" type=\"number\" placeholder=\"æ•°é‡\" @blur=\"normalizeQty\" />\n                    <view class=\"qty-btn\" @click=\"incQty\">+</view>\n                  </view>\n                  <button class=\"btn-action btn-cart\" @click=\"addToCartWithQty\">åŠ å…¥è´­ç‰©è½¦</button>\n                  <button class=\"btn-action btn-buy\" @click=\"buyNow\">ç«‹å³è´­ä¹°</button>\n                </view>\n              </view>\n            </view>\n          </view>\n        </view>\n      </view>\n      <FloatingNav :hoverReveal=\"true\" />\n      <!-- #endif -->\n\n      <!-- #ifdef MP-WEIXIN -->\n      <!-- èƒŒæ™¯å›¾ç§»é™¤ -->\n      <!-- #endif -->\n\n      <!-- #ifndef H5 -->\n      <swiper class=\"cover\" indicator-dots :current=\"current\" :autoplay=\"false\" circular interval=\"3000\" @change=\"onSwiperChange\">\n        <swiper-item v-for=\"(item, index) in images\" :key=\"index\">\n          <video\n            v-if=\"isVideo(item)\"\n            :id=\"index === current ? 'mp-video' : ('mp-video-' + index)\"\n            :src=\"item\"\n            controls\n            style=\"width: 100%; height: 100%;\"\n            object-fit=\"contain\"\n            :autoplay=\"false\"\n            @play=\"pauseCarousel\"\n            @ended=\"onVideoEnded\"\n          ></video>\n          <image v-else :src=\"item\" mode=\"aspectFill\" style=\"width: 100%; height: 100%;\" @click=\"previewMpImage(item)\" />\n        </swiper-item>\n      </swiper>\n      <view class=\"info mp-info-spacing\">\n        <view class=\"mp-title-row\">\n          <text class=\"title\" selectable=\"true\">{{ product.title }}</text>\n          <text class=\"fav-star\" :class=\"{ active: isFavorite }\" @click=\"favProduct\">{{ isFavorite ? 'â˜…' : 'â˜†' }}</text>\n        </view>\n        <view class=\"mp-price-row\">\n          <text class=\"price\" selectable=\"true\">{{ formatPriceWithSymbol(product.price) }}</text>\n          <text class=\"sales\" selectable=\"true\">é”€é‡ {{ product.sales }}</text>\n        </view>\n      </view>\n      <!-- MP ç«¯å‚æ•°ä¿¡æ¯ä¸å›¾æ–‡è¯¦æƒ… -->\n      <view class=\"mp-section mp-section-spacing\">\n        <text class=\"mp-title\" selectable=\"true\">å‚æ•°ä¿¡æ¯</text>\n        <view class=\"mp-param-grid\">\n          <view class=\"mp-param-item\"><text class=\"key\" selectable=\"true\">å‹å·</text><text class=\"val\" selectable=\"true\">{{ product.id || 'é»˜è®¤æ¬¾' }}</text>\n          </view>\n          <view class=\"mp-param-item\"><text class=\"key\" selectable=\"true\">åç§°</text><text class=\"val\" selectable=\"true\">{{ product.title }}</text></view>\n          <view class=\"mp-param-item\"><text class=\"key\" selectable=\"true\">è§„æ ¼</text><text class=\"val\" selectable=\"true\">é»˜è®¤è§„æ ¼</text></view>\n          <view class=\"mp-param-row-inline\">\n            <view class=\"mp-param-item inline\"><text class=\"key\" selectable=\"true\">äº§åœ°</text><text class=\"val\" selectable=\"true\">{{ product.shipping_origin ?\n              product.shipping_origin.replace(/çœ|å¸‚/g, '') :\n              'â€”' }}</text></view>\n            <view class=\"mp-param-item inline\"><text class=\"key\" selectable=\"true\">å•ä½</text><text class=\"val\" selectable=\"true\">ä»¶</text></view>\n            <view class=\"mp-param-item inline\"><text class=\"key\" selectable=\"true\">å•ä½ä»·æ ¼</text><text class=\"val\" selectable=\"true\">Â¥{{\n              product.price.toFixed(2)\n            }}</text></view>\n          </view>\n        </view>\n      </view>\n      <view class=\"mp-section\">\n        <text class=\"mp-title\" selectable=\"true\">å›¾æ–‡è¯¦æƒ…</text>\n        <image v-for=\"(src, i) in product.details_images\" :key=\"'md' + i\" class=\"mp-detail-img\" :src=\"src\"\n          mode=\"widthFix\" @click=\"previewDetailImage(src)\" />\n      </view>\n      <view class=\"footer\">\n        <!-- #ifdef MP-WEIXIN -->\n        <button id=\"og-product-add\" class=\"btn-cart\" @click=\"openSpecSheet\">åŠ å…¥è´­ç‰©è½¦</button>\n        <!-- #endif -->\n        <!-- #ifndef MP-WEIXIN -->\n        <button id=\"og-product-add\" class=\"btn-cart\" @click=\"addToCart\">åŠ å…¥è´­ç‰©è½¦</button>\n        <!-- #endif -->\n      </view>\n\n      <!-- #ifdef MP-WEIXIN -->\n      <view v-if=\"mpSheet\" class=\"mp-mask\" @click=\"closeSpecSheet\" catchtouchmove=\"true\"\n        @touchmove.stop.prevent=\"() => { }\">\n        <view class=\"mp-sheet\" @click.stop>\n          <view class=\"mp-title\" selectable=\"true\">å¡«å†™è§„æ ¼</view>\n          <scroll-view scroll-y class=\"mp-scroll-view\">\n            <view class=\"mp-address-bar\" @click=\"openMpAddressSheet\">\n              <view class=\"bar-left\">\n                <text class=\"addr-icon\">ğŸ“</text>\n                <view class=\"bar-info\">\n                  <text v-if=\"selectedAddress\" class=\"bar-line\">{{ selectedAddress.receiver }} {{ selectedAddress.phone\n                  }}</text>\n                  <text v-if=\"selectedAddress\" class=\"bar-line\">{{ selectedAddress.province }} {{ selectedAddress.city\n                  }} {{ selectedAddress.district }} {{ selectedAddress.detail_address }}</text>\n                  <text v-else class=\"bar-line\">è¯·é€‰æ‹©æ”¶è´§åœ°å€</text>\n                </view>\n              </view>\n              <button size=\"mini\" class=\"bar-btn\">é€‰æ‹©æ”¶è´§åœ°å€</button>\n            </view>\n            <!-- è§„æ ¼æ˜ç»†ï¼ˆé€‚é… data.childrenï¼‰ï¼Œå‚è€ƒæ·˜å®/äº¬ä¸œæ ·å¼ -->\n            <view class=\"mp-title\" selectable=\"true\">è§„æ ¼æ˜ç»†</view>\n            <view v-if=\"specsLoading\" class=\"mp-param-grid\">\n              <view class=\"mp-param-item\"><text class=\"key\">åŠ è½½ä¸­...</text><text class=\"val\"></text></view>\n            </view>\n            <view v-else-if=\"specs && specs.length\" class=\"specs-list\">\n              <view class=\"spec-item\" v-for=\"(it, i) in (isSpecsCollapsed ? specs.slice(0, 2) : specs)\"\n                :key=\"'mpsp' + i\" :class=\"{ active: selectedSpecIndex === i, disabled: isSpecDisabled(it) }\" @click=\"onClickSpec(it, i)\">\n                <!-- <image class=\"spec-thumb\" :src=\"it.image_url || '/static/logo.png'\" mode=\"aspectFill\" /> -->\n                <view class=\"spec-info\">\n                  <text class=\"spec-name\" selectable=\"true\">{{ it.name }}</text>\n                  <view class=\"spec-price-row\">\n                    <text class=\"spec-price\" selectable=\"true\">{{ formatPriceWithSymbol(it.price) }}</text>\n                    <text v-if=\"Number(it.original_price) > 0\" class=\"spec-oprice\">Â¥{{\n                      Number(it.original_price).toFixed(2) }}</text>\n                  </view>\n                  <text class=\"spec-unit\" selectable=\"true\">å•ä½ï¼š{{ it.unit || 'â€”' }}</text>\n                </view>\n                <view v-if=\"String(it.product_type || '').toLowerCase() === 'stagnant' && Number(it.inventory) === 0\" class=\"spec-mask\">\n                  <image class=\"spec-mask-ico\" src=\"/static/no.png\" mode=\"aspectFit\" />\n                </view>\n              </view>\n              <!-- å±•å¼€/æ”¶èµ·æŒ‰é’® -->\n              <view v-if=\"specs.length >= 3\" class=\"specs-toggle\" @click=\"isSpecsCollapsed = !isSpecsCollapsed\">\n                <text>{{ isSpecsCollapsed ? 'å±•å¼€æ›´å¤š' : 'æ”¶èµ·' }}</text>\n                <text class=\"toggle-icon\">{{ isSpecsCollapsed ? 'â–¼' : 'â–²' }}</text>\n              </view>\n            </view>\n            <view v-else class=\"mp-param-grid\">\n              <view class=\"mp-param-item\"><text class=\"key\">æš‚æ— è§„æ ¼æ•°æ®</text><text class=\"val\">â€”</text></view>\n            </view>\n\n            <view class=\"mp-field\"><text class=\"label\">æˆ¿é—´</text>\n              <view id=\"og-mp-room-select\" class=\"mp-input\" @click=\"openMpRoomSheet\">{{ mpRoom || 'è¯·é€‰æ‹©æˆ¿é—´' }}</view>\n            </view>\n            <!-- <view class=\"mp-field\"><text class=\"label\">è‰²æ¸©</text><input class=\"mp-input\" v-model=\"mpTemp\"\n              placeholder=\"å¦‚ 3000K\" /></view> -->\n            <view class=\"mp-field\" v-if=\"selectedSpec && selectedSpec.has_length === 1\">\n              <text class=\"label\">é•¿åº¦</text>\n              <input class=\"mp-input\" v-model=\"mpLength\" placeholder=\"å¡«å†™æ•°å­—\" />\n              <text v-if=\"selectedSpec.length_unit\" class=\"unit-tip\">{{ selectedSpec.length_unit }}</text>\n            </view>\n            <view class=\"mp-field\">\n              <text class=\"label\">å¤‡æ³¨</text>\n              <input class=\"mp-input\" v-model=\"mpOrderNote\" placeholder=\"å¡«å†™å¤‡æ³¨\" />\n            </view>\n            <view class=\"mp-field\">\n              <view class=\"qty-stepper\">\n                <button class=\"step\" @click=\"mpQty = Math.max(1, Number(mpQty) - 1)\">-</button>\n                <input class=\"count-input\" v-model=\"mpQty\" type=\"number\" placeholder=\"å¡«å†™æ•°é‡\" @blur=\"normalizeMpQty\" />\n                <button class=\"step\" @click=\"mpQty = Math.max(1, Number(mpQty) + 1)\">+</button>\n              </view>\n            </view>\n          </scroll-view>\n          <view class=\"mp-actions\">\n            <button class=\"mp-btn ghost\" @click=\"closeSpecSheet\">å–æ¶ˆ</button>\n            <button class=\"mp-btn primary\" @click=\"confirmSpecToCart\">ç¡®å®šåŠ å…¥</button>\n          </view>\n        </view>\n      </view>\n      <!-- MP Room Selection Modal -->\n      <!-- #endif -->\n      <!-- #endif -->\n    </block>\n    <RoomSelector :visible=\"roomSelectorVisible\" :rooms=\"selectorRooms\" :type=\"selectorType\"\n      :selectedName=\"selectorSelectedName\" @close=\"closeRoomSheet\" @select=\"onRoomSelect\" @create=\"onRoomCreate\"\n      @createAddress=\"onCreateAddress\" />\n  </view>\n  <OnboardingGuide\n    v-if=\"showOnboarding\"\n    :steps=\"onboardingSteps\"\n    :targets=\"onboardingRects\"\n    :initialIndex=\"onboardingIndex\"\n    @advance=\"handleOnboardingNext\"\n    @back=\"handleOnboardingPrev\"\n    @close=\"closeOnboarding\"\n  />\n  <LoginPrompt :visible=\"showLoginModal\" @close=\"closeLoginModal\" @confirm=\"goLogin\" />\n</template>\n\n<script>\nimport { getProductDetail, getProductSpecs, getRooms, createRoom, addCartItem, getCartItems, createOrderByIds, getAddresses, addAddress, createDirectOrder, addFavorite, deleteFavorite } from '../../api/index.js'\nimport RoomSelector from '../../components/RoomSelector.vue'\nimport FloatingNav from '@/components/FloatingNav.vue'\nimport Skeleton from '@/components/Skeleton.vue'\nimport OnboardingGuide from '@/components/OnboardingGuide.vue'\nimport LoginPrompt from '@/components/LoginPrompt.vue'\n\nexport default {\n  components: { RoomSelector, FloatingNav, Skeleton, OnboardingGuide, LoginPrompt },\n  data() { return { hls: null, product: null, shareProductId: '', current: 0, qty: 1, specTemp: '', specLength: '', roomName: '', roomId: '', roomsRaw: [], mpSheet: false, mpRoomSheet: false, mpTemp: '', mpLength: '', mpRoom: '', mpQty: 1, mpOrderNote: '', specs: [], specsLoading: false, roomSheet: false, roomsList: [], roomInput: '', selectedSpecIndex: -1, isSpecsCollapsed: true, lockScroll: false, lockScrollTop: 0, roomSelectorVisible: false, roomSelectorMode: 'h5', addresses: [], selectedAddress: null, h5OrderNote: '', isFavorite: false, swiperTimer: null, carouselInterval: 3000, lockCarousel: false, showOnboarding: false, onboardingRects: [], onboardingSteps: [], onboardingIndex: 0, showLoginModal: false } },\n  onLoad(query) {\n    const id = decodeURIComponent(query?.id || '')\n    this.shareProductId = id\n    if (!id) { this.product = { id: '', title: 'å•†å“', price: 0, sales: 0, image: '/static/logo.png', images: ['/static/logo.png'] }; return }\n    getProductDetail({ available_product_id: id })\n      .then((res) => {\n        const d = res?.data || {}\n        const clean = (u) => typeof u === 'string' ? u.replace(/`/g, '').trim() : ''\n        const arr = (x) => Array.isArray(x) ? x.map(clean).filter(Boolean) : []\n        const main = arr(d.main_image)\n        const videos = arr(d.video_url)\n        const detailImgs = arr(d.images)\n        const price = Number(d.price ?? 0) || 0\n        const base = {\n          id: d.available_product_id || id,\n          title: d.name || ('å•†å“ ' + id),\n          price,\n          sales: 0,\n          type: d.type || d.product_type || '',\n          comment: d.comment || '',\n          shipping_origin: clean(d.shipping_origin) || '',\n          main_media: [...main, ...videos].length ? [...main, ...videos] : ['/static/logo.png'],\n          details_images: detailImgs,\n          shipping_time_hours: d.shipping_time_hours || 0,\n          support_no_reason_return_7d: d.support_no_reason_return_7d || 0,\n          is_free_shipping: d.is_free_shipping || 0,\n          image: main[0] || '/static/logo.png',\n          images: [...main, ...videos].length ? [...main, ...videos] : ['/static/logo.png']\n        }\n        this.product = base\n        this.isFavorite = (String(d.is_favorite) === '1') || (d.is_favorite === 1) || (d.is_favorite === true)\n        this.fetchSpecs(base.id)\n        this.resetCarouselTimer()\n        this.$nextTick(() => {\n          const src = this.currentImage\n          if (this.isVideo(src)) {\n            this.lockCarousel = true\n            this.stopCarousel()\n            try {\n              const ctx1 = uni.createVideoContext('pd-video', this)\n              const ctx2 = uni.createVideoContext('mp-video', this)\n              if (ctx1 && typeof ctx1.play === 'function') ctx1.play()\n              else if (ctx2 && typeof ctx2.play === 'function') ctx2.play()\n            } catch (e) {}\n          }\n        })\n      })\n      .catch(() => {\n        // æ¥å£å¤±è´¥æ—¶ä¿åº•å±•ç¤º\n        this.product = { id, title: 'å•†å“ ' + id, price: 0, sales: 0, shipping_origin: '', image: '/static/logo.png', images: ['/static/logo.png'] }\n        this.fetchSpecs(id)\n        this.resetCarouselTimer()\n        this.$nextTick(() => {\n          const src = this.currentImage\n          if (this.isVideo(src)) {\n            this.lockCarousel = true\n            this.stopCarousel()\n            try {\n              const ctx1 = uni.createVideoContext('pd-video', this)\n              const ctx2 = uni.createVideoContext('mp-video', this)\n              if (ctx1 && typeof ctx1.play === 'function') ctx1.play()\n              else if (ctx2 && typeof ctx2.play === 'function') ctx2.play()\n            } catch (e) {}\n          }\n        })\n      })\n  },\n  onShow() {\n    try {\n      const uniAny = uni\n      if (uniAny && typeof uniAny.showShareMenu === 'function') {\n        uniAny.showShareMenu({ withShareTicket: true, menus: ['shareAppMessage', 'shareTimeline'] })\n        return\n      }\n    } catch (e) {}\n    try {\n      const wxAny = typeof wx !== 'undefined' ? wx : null\n      if (wxAny && typeof wxAny.showShareMenu === 'function') {\n        wxAny.showShareMenu({ withShareTicket: true, menus: ['shareAppMessage', 'shareTimeline'] })\n      }\n    } catch (e) {}\n  },\n  created() {\n    try {\n      const h = () => { this.showLoginModal = true }\n      this._globalLoginHandler = h\n      uni.$on('global-login-prompt', h)\n    } catch (e) {}\n  },\n  onUnload() {\n    try {\n      if (this._globalLoginHandler) uni.$off('global-login-prompt', this._globalLoginHandler)\n      this._globalLoginHandler = null\n    } catch (e) {}\n  },\n  onShareAppMessage() {\n    const id = this.shareProductId || this.product?.id || ''\n    const title = this.product?.title || 'å•†å“è¯¦æƒ…'\n    const imageUrl = this.product?.image || '/static/logo.png'\n    return { title, path: '/pages/product/index?id=' + encodeURIComponent(id), imageUrl }\n  },\n  onShareTimeline() {\n    const id = this.shareProductId || this.product?.id || ''\n    const title = this.product?.title || 'å•†å“è¯¦æƒ…'\n    const imageUrl = this.product?.image || '/static/logo.png'\n    return { title, query: 'id=' + encodeURIComponent(id), imageUrl }\n  },\n  computed: {\n    selectorType() {\n      return this.roomSelectorMode === 'addr' ? 'addr' : 'room'\n    },\n    isStagnantProduct() {\n      const t = String(this.product?.type || this.product?.product_type || this.product?.category || '').toLowerCase()\n      if (!t) {\n        const c = String((this.product && this.product.comment) || '').toLowerCase()\n        return c.includes('stagnant') || c.includes('å‘†æ»')\n      }\n      return t.includes('stagnant') || t.includes('å‘†æ»')\n    },\n    images() {\n      const imgs = (this.product && this.product.main_media) || []\n      return imgs.length ? imgs : [this.product?.image || '/static/logo.png']\n    },\n    currentImage() {\n      const arr = this.images\n      return arr[this.current] || arr[0]\n    },\n    videoSrc() {\n      const src = this.currentImage\n      if (!this.isVideo(src)) return ''\n      if (src.includes('.m3u8')) return ''\n      const hasQuery = src.includes('?')\n      const t = Date.now()\n      return hasQuery ? (src + '&t=' + t) : (src + '?t=' + t)\n    },\n    selectedSpec() {\n      return (this.selectedSpecIndex >= 0 && this.specs[this.selectedSpecIndex]) ? this.specs[this.selectedSpecIndex] : null\n    },\n    addressRooms() {\n      return (this.addresses || []).map(a => ({ name: `${a.receiver} ${a.phone} ${[a.province, a.city, a.district, a.detail_address].filter(Boolean).join(' ')}`.trim(), raw: a }))\n    },\n    selectorRooms() {\n      return this.roomSelectorMode === 'addr' ? this.addressRooms : this.roomsRaw\n    },\n    selectorSelectedName() {\n      if (this.roomSelectorMode === 'mp') return this.mpRoom || ''\n      if (this.roomSelectorMode === 'h5') return this.roomName || ''\n      const a = this.selectedAddress\n      return a ? `${a.receiver} ${a.phone} ${[a.province, a.city, a.district, a.detail_address].filter(Boolean).join(' ')}`.trim() : ''\n    },\n    mpAddressDisplay() {\n      const a = this.selectedAddress\n      return a ? `${a.receiver} ${a.phone} ${[a.province, a.city, a.district, a.detail_address].filter(Boolean).join(' ')}`.trim() : ''\n    },\n    lengthUnitText() {\n      try {\n        const u = String(this.selectedSpec?.length_unit || '').toLowerCase()\n        if (u.includes('mm')) return 'mm'\n        if (u.includes('cm')) return 'cm'\n        if (u.includes('dm')) return 'dm'\n        if (u.includes('m')) return 'm'\n        return 'm'\n      } catch (e) { return 'm' }\n    },\n    displayTopPrice() {\n      const sel = this.selectedSpec\n      const rawBase = sel ? sel.price : this.product?.price\n      if (rawBase === '-' || rawBase === 'â€”') return '-'\n      const basePerM = Number(rawBase || 0) || 0\n      if (sel && sel.has_length === 1) {\n        const rawStr = (this.specLength || '').replace(/[^0-9.]/g, '')\n        const raw = rawStr ? Number(rawStr) : 0\n        if (raw > 0) {\n          const meters = this.toMeters(raw, this.lengthUnitText)\n          return (basePerM * meters).toFixed(2)\n        }\n        return `${basePerM.toFixed(2)}/m`\n      }\n      return basePerM.toFixed(2)\n    },\n    displayTopPriceWithSymbol() {\n      const s = this.displayTopPrice\n      if (s === '-') return '-'\n      return 'Â¥' + s\n    }\n  },\n  watch: {\n    currentImage: {\n      handler(val) { this.initHls(val) },\n      immediate: true\n    }\n    ,\n    current(val) {\n      const src = (this.images || [])[val]\n      if (this.isVideo(src)) {\n        this.$nextTick(() => {\n          try {\n            const ctx1 = uni.createVideoContext('pd-video', this)\n            const ctx2 = uni.createVideoContext('mp-video', this)\n            if (ctx1 && typeof ctx1.play === 'function') ctx1.play()\n            else if (ctx2 && typeof ctx2.play === 'function') ctx2.play()\n          } catch (e) { }\n        })\n        this.lockCarousel = true\n      } else {\n        this.lockCarousel = false\n        this.resetCarouselTimer()\n      }\n    }\n  },\n  beforeDestroy() {\n    if (this.hls) {\n      this.hls.destroy()\n      this.hls = null\n    }\n    this.stopCarousel()\n  },\n  onShow() {\n    this.loadAddresses()\n    try {\n      const cont = !!uni.getStorageSync('onboarding_continue')\n      const sel = uni.getStorageSync('onboarding_target_selector') || ''\n      const idx = Number(uni.getStorageSync('onboarding_index') || 0)\n      const stepsStored = uni.getStorageSync('onboarding_steps') || []\n      if (cont && sel) {\n        if (Array.isArray(stepsStored) && stepsStored.length) this.onboardingSteps = stepsStored\n        const safeIdx = Math.max(0, Math.min(idx, this.onboardingSteps.length - 1))\n        this.onboardingIndex = safeIdx\n        this.$nextTick(() => {\n          let isH5 = false\n          try { isH5 = typeof window !== 'undefined' } catch (e) { isH5 = false }\n          if (sel === '#og-room-modal' || sel === '#og-room-modal-list') {\n            if (isH5) this.openRoomSheet()\n            else this.openMpRoomSheet()\n            setTimeout(() => { this.tryShowOnboarding('#og-room-modal-list', 10) }, 220)\n          } else {\n            this.tryShowOnboarding(sel, 8)\n          }\n        })\n      }\n    } catch (e) {}\n  },\n  methods: {\n    tryShowOnboarding(sel, tries) {\n      const max = Math.max(1, Number(tries || 6))\n      const attempt = (left) => {\n        let isH5 = false\n        try { isH5 = typeof window !== 'undefined' } catch (e) { isH5 = false }\n        if (isH5) {\n          const el = typeof document !== 'undefined' ? document.querySelector(sel) : null\n          if (el) {\n            this.refreshOnboardingRect(sel)\n            return\n          }\n        } else {\n          const q = uni.createSelectorQuery().in(this)\n          q.select(sel).boundingClientRect()\n          q.exec(res => {\n            const r = (res || [])[0]\n            if (r) {\n              this.refreshOnboardingRect(sel)\n              return\n            }\n          })\n        }\n        if (!this.showOnboarding) this.showOnboarding = true\n        if (left > 0) { setTimeout(() => attempt(left - 1), 160) }\n      }\n      attempt(max)\n    },\n    goBack() {\n      if (typeof window !== 'undefined' && window.history && window.history.length > 1) { window.history.back(); return }\n      if (uni && uni.switchTab) { uni.switchTab({ url: '/pages/home/index' }); return }\n      if (uni && uni.navigateTo) { uni.navigateTo({ url: '/pages/home/index' }); return }\n    },\n    initHls(src) {\n      // #ifdef H5\n      if (this.hls) {\n        this.hls.destroy()\n        this.hls = null\n      }\n      if (!src || !this.isVideo(src)) return\n      if (!src.includes('.m3u8')) return\n\n      this.$nextTick(() => {\n        let el = document.querySelector('#pd-video video') || document.querySelector('#pd-video')\n        if (el && el.tagName !== 'VIDEO') el = el.querySelector('video')\n        if (!el) return\n        try { el.setAttribute('crossorigin', 'anonymous') } catch (e) { }\n\n        if (window.Hls && Hls.isSupported()) {\n          this.hls = new Hls()\n          const hasQuery = src.includes('?')\n          const bust = hasQuery ? (src + '&t=' + Date.now()) : (src + '?t=' + Date.now())\n          this.hls.loadSource(bust)\n          this.hls.attachMedia(el)\n          this.hls.on(Hls.Events.ERROR, (event, data) => {\n            if (data && data.fatal) {\n              try { this.hls.destroy() } catch (e) { }\n              this.hls = null\n              try { uni.showToast({ title: 'è§†é¢‘èµ„æºæœªæ‰¾åˆ°', icon: 'none' }) } catch (e) { }\n              const imgs = (this.images || []).filter(u => !this.isVideo(u))\n              if (imgs.length) {\n                const idx = (this.images || []).findIndex(u => u === imgs[0])\n                this.current = idx >= 0 ? idx : 0\n              } else {\n                this.current = 0\n              }\n            }\n          })\n        } else if (el && el.canPlayType && el.canPlayType('application/vnd.apple.mpegurl')) {\n          const hasQuery = src.includes('?')\n          el.src = hasQuery ? (src + '&t=' + Date.now()) : (src + '?t=' + Date.now())\n        }\n      })\n      // #endif\n    },\n    isVideo(src) {\n      if (!src) return false\n      return src.includes('.mp4') || src.includes('.m3u8')\n    },\n    onSwiperChange(e) {\n      try {\n        const idx = (e && e.detail && typeof e.detail.current === 'number') ? e.detail.current : 0\n        this.current = idx\n        const src = (this.images || [])[idx]\n        if (this.isVideo(src)) {\n          this.lockCarousel = true\n          this.stopCarousel()\n          this.$nextTick(() => {\n            try {\n              const ctx1 = uni.createVideoContext('pd-video', this)\n              const ctx2 = uni.createVideoContext('mp-video', this)\n              if (ctx1 && typeof ctx1.play === 'function') ctx1.play()\n              else if (ctx2 && typeof ctx2.play === 'function') ctx2.play()\n            } catch (e) { }\n          })\n        } else {\n          this.lockCarousel = false\n          this.resetCarouselTimer()\n        }\n      } catch (e) {}\n    },\n    pauseCarousel() {\n      this.lockCarousel = true\n      this.stopCarousel()\n    },\n    onVideoEnded() {\n      this.lockCarousel = false\n      const n = (this.images || []).length || 1\n      setTimeout(() => {\n        this.current = (this.current + 1) % n\n        this.resetCarouselTimer()\n      }, 1000)\n    },\n    startCarousel() {\n      if (this.swiperTimer) return\n      const interval = Number(this.carouselInterval) || 3000\n      this.swiperTimer = setInterval(() => {\n        try {\n          if (this.lockCarousel) return\n          const n = (this.images || []).length || 1\n          this.current = (this.current + 1) % n\n        } catch (e) {}\n      }, interval)\n    },\n    stopCarousel() {\n      try {\n        if (this.swiperTimer) { clearInterval(this.swiperTimer); this.swiperTimer = null }\n      } catch (e) {}\n    },\n    resetCarouselTimer() {\n      this.stopCarousel()\n      this.startCarousel()\n    },\n    refreshOnboardingRect(sel) {\n      let isH5 = false\n      try { isH5 = typeof window !== 'undefined' } catch (e) { isH5 = false }\n      const total = this.onboardingSteps.length || 0\n      const arr = new Array(total).fill(null)\n      if (isH5) {\n        const el = typeof document !== 'undefined' ? document.querySelector(sel) : null\n        if (el) {\n          const r = el.getBoundingClientRect()\n          arr[this.onboardingIndex] = { left: r.left, top: r.top, width: r.width, height: r.height }\n          this.onboardingRects = arr\n          this.showOnboarding = true\n        }\n      } else {\n        const q = uni.createSelectorQuery().in(this)\n        q.select(sel).boundingClientRect()\n        q.exec(res => {\n          const r = (res || [])[0]\n          if (r) {\n            arr[this.onboardingIndex] = { left: r.left, top: r.top, width: r.width, height: r.height }\n            this.onboardingRects = arr\n            this.showOnboarding = true\n          }\n        })\n      }\n    },\n    handleOnboardingNext(nextIndex) {\n      const idx = Number(nextIndex || 0)\n      this.onboardingIndex = idx\n      try {\n        uni.setStorageSync('onboarding_index', idx)\n        if (Array.isArray(this.onboardingSteps) && this.onboardingSteps.length) {\n          uni.setStorageSync('onboarding_steps', this.onboardingSteps)\n        }\n      } catch (e) {}\n      try {\n        uni.setStorageSync('onboarding_continue', true)\n        const isH5 = typeof window !== 'undefined'\n        if (isH5) {\n          if (idx <= 4) {\n            const map = ['#og-search', '#og-cate', '#og-banner', '#og-guess', '#og-quick']\n            const sel = map[idx] || '#og-search'\n            uni.setStorageSync('onboarding_target_selector', sel)\n            if (uni.switchTab) uni.switchTab({ url: '/pages/home/index' })\n            else uni.navigateTo({ url: '/pages/home/index' })\n          } else if (idx === 5) {\n            this.$nextTick(() => { this.refreshOnboardingRect('#og-product-add') })\n          } else if (idx === 6) {\n            this.openRoomSheet()\n            setTimeout(() => { this.refreshOnboardingRect('#og-room-modal-list') }, 220)\n          } else if (idx === 7) {\n            uni.setStorageSync('onboarding_target_selector', '#og-order-tabs')\n            uni.setStorageSync('onboarding_step_text', 'è®¢å•æ ‡ç­¾åˆ‡æ¢ä¸æŸ¥çœ‹')\n            uni.navigateTo({ url: '/pages/order/index' })\n          } else if (idx === 8) {\n            uni.setStorageSync('onboarding_target_selector', '#og-profile-info')\n            uni.setStorageSync('onboarding_step_text', 'ä¸ªäººä¿¡æ¯ç®¡ç†')\n            if (uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\n            else uni.navigateTo({ url: '/pages/profile/index' })\n          } else if (idx === 9) {\n            uni.setStorageSync('onboarding_target_selector', '#og-profile-menu')\n            uni.setStorageSync('onboarding_step_text', 'åŠŸèƒ½åŒº')\n            if (uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\n            else uni.navigateTo({ url: '/pages/profile/index' })\n          } else if (idx === 10) {\n            uni.setStorageSync('onboarding_target_selector', '#og-profile-addr')\n            uni.setStorageSync('onboarding_step_text', 'æ”¶è´§åœ°å€ç®¡ç†')\n            if (uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\n            else uni.navigateTo({ url: '/pages/profile/index' })\n          }\n        } else {\n          if (idx <= 3) {\n            const map = ['#og-search', '#og-mp-cate', '#og-banner', '#og-mp-guess']\n            const sel = map[idx] || '#og-search'\n            uni.setStorageSync('onboarding_target_selector', sel)\n            if (uni.switchTab) uni.switchTab({ url: '/pages/home/index' })\n            else uni.navigateTo({ url: '/pages/home/index' })\n          } else if (idx === 4) {\n            this.$nextTick(() => { this.refreshOnboardingRect('#og-product-add') })\n          } else if (idx === 5) {\n            this.openMpRoomSheet()\n            setTimeout(() => { this.refreshOnboardingRect('#og-room-modal-list') }, 220)\n          } else if (idx === 6) {\n            uni.setStorageSync('onboarding_target_selector', '#og-order-tabs')\n            uni.setStorageSync('onboarding_step_text', 'è®¢å•æ ‡ç­¾åˆ‡æ¢ä¸æŸ¥çœ‹')\n            uni.navigateTo({ url: '/pages/order/index' })\n          } else if (idx === 7) {\n            uni.setStorageSync('onboarding_target_selector', '#og-profile-info')\n            uni.setStorageSync('onboarding_step_text', 'ä¸ªäººä¿¡æ¯ç®¡ç†')\n            if (uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\n            else uni.navigateTo({ url: '/pages/profile/index' })\n          } else if (idx === 8) {\n            uni.setStorageSync('onboarding_target_selector', '#og-profile-menu')\n            uni.setStorageSync('onboarding_step_text', 'åŠŸèƒ½åŒº')\n            if (uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\n            else uni.navigateTo({ url: '/pages/profile/index' })\n          } else if (idx === 9) {\n            uni.setStorageSync('onboarding_target_selector', '#og-profile-addr')\n            uni.setStorageSync('onboarding_step_text', 'æ”¶è´§åœ°å€ç®¡ç†')\n            if (uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\n            else uni.navigateTo({ url: '/pages/profile/index' })\n          }\n        }\n      } catch (e) {}\n    },\n    handleOnboardingPrev(prevIndex) {\n      const idx = Number(prevIndex || 0)\n      if (idx < 0) return\n      this.onboardingIndex = idx\n      try {\n        uni.setStorageSync('onboarding_index', idx)\n        uni.setStorageSync('onboarding_continue', true)\n      } catch (e) {}\n      const isH5 = typeof window !== 'undefined'\n      if (isH5) {\n        if (idx <= 4) {\n          const map = ['#og-search', '#og-cate', '#og-banner', '#og-guess', '#og-quick']\n          const sel = map[idx] || '#og-search'\n          uni.setStorageSync('onboarding_target_selector', sel)\n          if (uni.switchTab) uni.switchTab({ url: '/pages/home/index' })\n          else uni.navigateTo({ url: '/pages/home/index' })\n          return\n        }\n        if (idx === 5) {\n          this.$nextTick(() => { this.refreshOnboardingRect('#og-product-add') })\n          return\n        }\n        if (idx === 6) {\n          this.openRoomSheet()\n          setTimeout(() => { this.refreshOnboardingRect('#og-room-modal-list') }, 220)\n          return\n        }\n        if (idx === 7) {\n          uni.setStorageSync('onboarding_target_selector', '#og-order-tabs')\n          uni.navigateTo({ url: '/pages/order/index' })\n          return\n        }\n        if (idx === 8) {\n          uni.setStorageSync('onboarding_target_selector', '#og-profile-info')\n          if (uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\n          else uni.navigateTo({ url: '/pages/profile/index' })\n          return\n        }\n        if (idx === 9) {\n          uni.setStorageSync('onboarding_target_selector', '#og-profile-menu')\n          if (uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\n          else uni.navigateTo({ url: '/pages/profile/index' })\n          return\n        }\n        if (idx === 10) {\n          uni.setStorageSync('onboarding_target_selector', '#og-profile-addr')\n          if (uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\n          else uni.navigateTo({ url: '/pages/profile/index' })\n          return\n        }\n      } else {\n        if (idx <= 3) {\n          const map = ['#og-search', '#og-mp-cate', '#og-banner', '#og-mp-guess']\n          const sel = map[idx] || '#og-search'\n          uni.setStorageSync('onboarding_target_selector', sel)\n          if (uni.switchTab) uni.switchTab({ url: '/pages/home/index' })\n          else uni.navigateTo({ url: '/pages/home/index' })\n          return\n        }\n        if (idx === 4) {\n          this.$nextTick(() => { this.refreshOnboardingRect('#og-product-add') })\n          return\n        }\n        if (idx === 5) {\n          this.openMpRoomSheet()\n          setTimeout(() => { this.refreshOnboardingRect('#og-room-modal-list') }, 220)\n          return\n        }\n        if (idx === 6) {\n          uni.setStorageSync('onboarding_target_selector', '#og-order-tabs')\n          uni.navigateTo({ url: '/pages/order/index' })\n          return\n        }\n        if (idx === 7) {\n          uni.setStorageSync('onboarding_target_selector', '#og-profile-info')\n          if (uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\n          else uni.navigateTo({ url: '/pages/profile/index' })\n          return\n        }\n        if (idx === 8) {\n          uni.setStorageSync('onboarding_target_selector', '#og-profile-menu')\n          if (uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\n          else uni.navigateTo({ url: '/pages/profile/index' })\n          return\n        }\n        if (idx === 9) {\n          uni.setStorageSync('onboarding_target_selector', '#og-profile-addr')\n          if (uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\n          else uni.navigateTo({ url: '/pages/profile/index' })\n          return\n        }\n      }\n    },\n    closeOnboarding() {\n      this.showOnboarding = false\n      try {\n        uni.removeStorageSync('onboarding_continue')\n        uni.removeStorageSync('onboarding_target_selector')\n        uni.removeStorageSync('onboarding_step_text')\n        uni.removeStorageSync('onboarding_steps')\n        uni.removeStorageSync('onboarding_index')\n        uni.reLaunch({ url: '/pages/home/index' })\n      } catch (e) {}\n    },\n    // è·å–è§„æ ¼æ˜ç»†ï¼ˆæŒ‰äº§å“IDï¼‰ï¼Œé€‚é…è¿”å› data.children\n    fetchSpecs(availId) {\n      if (!availId) return\n      this.specsLoading = true\n      const clean = (u) => typeof u === 'string' ? u.replace(/`/g, '').trim() : ''\n      getProductSpecs({ available_product_id: availId })\n        .then((res) => {\n          if (res && res.message && res.message.includes('åº“å­˜')) uni.showToast({ title: res.message, icon: 'none' })\n          const children = (res && res.data && Array.isArray(res.data.children)) ? res.data.children : (Array.isArray(res?.children) ? res.children : [])\n          this.specs = (children || []).map((it) => ({\n            product_id: it.product_id || '',\n            name: it.name || '',\n            unit: it.unit || '',\n            length_unit: it.length_unit || '',\n            price: Number(it.price ?? 0) || 0,\n            original_price: Number(it.original_price ?? 0) || 0,\n            image_url: clean(it.image_url) || '',\n            inventory: it.inventory || 0,\n            has_length: it.has_length || 0,\n            specification: it.specification || '',\n            product_type: it.product_type || it.type || ''\n          }))\n        })\n        .catch(() => { this.specs = [] })\n        .finally(() => {\n          this.specsLoading = false\n          const idx = this.firstSelectableSpecIndex()\n          this.selectedSpecIndex = idx\n        })\n    },\n    selectSpec(index) {\n      if (this.selectedSpecIndex === index) return\n      this.selectedSpecIndex = index\n    },\n    isSpecDisabled(it) {\n      try {\n        const t = String(it?.product_type || '').toLowerCase()\n        if (t === 'stagnant' && Number(it?.inventory) === 0) return true\n        return false\n      } catch (e) { return false }\n    },\n    onClickSpec(it, i) {\n      if (this.isSpecDisabled(it)) return\n      this.selectSpec(i)\n    },\n    firstSelectableSpecIndex() {\n      try {\n        const arr = Array.isArray(this.specs) ? this.specs : []\n        for (let i = 0; i < arr.length; i++) {\n          if (!this.isSpecDisabled(arr[i])) return i\n        }\n        return -1\n      } catch (e) { return -1 }\n    },\n    previewCurrentImage() {\n      try {\n        const arr = (this.images || []).filter(u => !this.isVideo(u))\n        const cur = this.currentImage\n        const idx = arr.findIndex(u => u === cur)\n        const current = idx >= 0 ? arr[idx] : (arr[0] || '')\n        if (!current) return\n        uni.previewImage({ urls: arr.length ? arr : [current], current })\n      } catch (e) {}\n    },\n    previewDetailImage(src) {\n      try {\n        const arr = (this.product?.details_images || []).filter(u => typeof u === 'string')\n        const current = arr.includes(src) ? src : (arr[0] || '')\n        if (!current) return\n        uni.previewImage({ urls: arr.length ? arr : [current], current })\n      } catch (e) {}\n    },\n    previewMpImage(item) {\n      try {\n        if (this.isVideo(item)) return\n        const arr = (this.images || []).filter(u => !this.isVideo(u))\n        const current = arr.includes(item) ? item : (arr[0] || '')\n        if (!current) return\n        uni.previewImage({ urls: arr.length ? arr : [current], current })\n      } catch (e) {}\n    },\n    ensureLoggedIn() {\n      try {\n        const u = uni.getStorageSync('user') || null\n        const exp = uni.getStorageSync('token_expiration') || 0\n        const ok = !!u && (!exp || Date.now() < exp)\n        if (ok) return true\n        this.showLoginModal = true\n        return false\n      } catch (e) { return false }\n    },\n    closeLoginModal() { this.showLoginModal = false },\n    goLogin() { this.showLoginModal = false; uni.navigateTo({ url: '/pages/login/index' }) },\n    addToCart() {\n      if (!this.ensureLoggedIn()) return\n      const spec = (this.selectedSpecIndex >= 0 && this.specs[this.selectedSpecIndex]) ? this.specs[this.selectedSpecIndex] : null\n      const pid = spec ? spec.product_id : (this.product?.id || '')\n      addCartItem({ product_id: pid, quantity: 1 })\n        .then((res) => {\n          if (res && res.success) uni.showToast({ title: 'å·²åŠ å…¥è´­ç‰©è½¦', icon: 'success' })\n          else {\n            const tip = typeof res?.data === 'string' ? res.data : (res?.data?.reason || '')\n            const msg = tip || res?.message || 'åŠ å…¥å¤±è´¥'\n            uni.showToast({ title: msg, icon: 'none' })\n          }\n        })\n        .catch(() => { uni.showToast({ title: 'åŠ å…¥è´­ç‰©è½¦å¤±è´¥', icon: 'none' }) })\n    },\n    incQty() { this.qty = Math.max(1, Number(this.qty || 0) + 1) },\n    decQty() { this.qty = Math.max(1, Number(this.qty || 0) - 1) },\n    normalizeQty() {\n      const n = Number(this.qty)\n      this.qty = isNaN(n) ? 1 : Math.max(1, Math.floor(n))\n    },\n    addToCartWithQty() {\n      if (!this.ensureLoggedIn()) return\n      const chosen = (this.roomName || '').trim()\n      if (!chosen) { uni.showToast({ title: 'è¯·å…ˆå¡«å†™æˆ¿é—´å', icon: 'none' }); return }\n      const lengthNum = (this.specLength || '').replace(/[^0-9.]/g, '')\n      const lengthVal = lengthNum ? Number(lengthNum) : undefined\n      const needLength = this.selectedSpec && this.selectedSpec.has_length === 1\n      if (needLength && (!lengthVal || Number(lengthVal) <= 0)) {\n        uni.showToast({ title: 'è¯·å¡«å†™é•¿åº¦', icon: 'none' })\n        return\n      }\n      if (!this.qty || this.qty <= 0) {\n        uni.showToast({ title: 'è¯·å¡«å†™æ•°é‡', icon: 'none' })\n        return\n      }\n\n      const spec = (this.selectedSpecIndex >= 0 && this.specs[this.selectedSpecIndex]) ? this.specs[this.selectedSpecIndex] : null\n      if (spec && spec.specification && lengthVal) {\n        const max = parseFloat(spec.specification)\n        if (!isNaN(max) && lengthVal > max) {\n          uni.showModal({ title: 'æç¤º', content: 'é•¿åº¦ä¸èƒ½è¶…è¿‡ ' + spec.specification, showCancel: false })\n          return\n        }\n      }\n\n      const pid = spec ? spec.product_id : (this.product?.id || '')\n      const q = Math.max(1, Number(this.qty || 1))\n      addCartItem({ room_id: this.roomId, product_id: pid, length: lengthNum, quantity: q, color: this.specTemp || '', note: this.h5OrderNote || '' })\n        .then((res) => {\n          if (res && res.success) uni.showToast({ title: `å·²åŠ å…¥æˆ¿é—´ï¼š${chosen}`, icon: 'success' })\n          else {\n            const tip = typeof res?.data === 'string' ? res.data : (res?.data?.reason || '')\n            const msg = tip || res?.message || 'åŠ å…¥å¤±è´¥'\n            uni.showToast({ title: msg, icon: 'none' })\n          }\n        })\n        .catch(() => { uni.showToast({ title: 'åŠ å…¥è´­ç‰©è½¦å¤±è´¥', icon: 'none' }) })\n    },\n    buyNow() {\n      if (!this.ensureLoggedIn()) return\n      try {\n        const spec = this.selectedSpec\n        const pid = spec ? (spec.product_id || this.product?.id || '') : (this.product?.id || '')\n        const addrId = this.selectedAddress?.id || ''\n        const roomName = (this.roomName || '').trim()\n        if (!roomName) {\n          uni.showToast({ title: 'è¯·å¡«å†™æˆ¿é—´å', icon: 'none' })\n          return\n        }\n        const needLength = spec && spec.has_length === 1\n        const rawLen = (this.specLength || '').replace(/[^0-9.]/g, '')\n        const lenNum = rawLen ? Number(rawLen) : 0\n        if (needLength && (!lenNum || lenNum <= 0)) {\n          uni.showToast({ title: 'è¯·å¡«å†™é•¿åº¦', icon: 'none' })\n          return\n        }\n        if (!addrId) {\n          uni.showToast({ title: 'è¯·å…ˆé€‰æ‹©æ”¶è´§åœ°å€', icon: 'none' })\n          return\n        }\n        const roomId = this.roomId || ''\n        const qty = this.qty || 1\n        const note = this.h5OrderNote || ''\n        const lenMeters = !needLength ? '' : lenNum\n\n        const u = uni.getStorageSync('user') || null\n        const token = (u && (u.token || (u.data && u.data.token))) || ''\n\n        uni.showLoading({ title: 'ä¸‹å•ä¸­' })\n        createDirectOrder({ product_id: pid, address_id: addrId, note, length: lenMeters, quantity: qty, room_id: roomId, token })\n          .then((data) => {\n            uni.hideLoading()\n            if (data && data.success) {\n              uni.showToast({ title: 'ä¸‹å•æˆåŠŸ', icon: 'success' })\n              const orderId = (data && data.data && (data.data.order_id || data.data.id)) || ''\n              if (orderId) { uni.navigateTo({ url: '/pages/order/index?id=' + orderId }) }\n            } else {\n              const tip = typeof data?.data === 'string' ? data.data : (data?.data?.reason || '')\n              const msg = tip || (data && data.message) || 'ä¸‹å•å¤±è´¥'\n              uni.showToast({ title: msg, icon: 'none' })\n            }\n          })\n          .catch(() => { uni.hideLoading(); uni.showToast({ title: 'ç½‘ç»œé”™è¯¯', icon: 'none' }) })\n      } catch (e) { uni.showToast({ title: 'ä¸‹å•å¤±è´¥', icon: 'none' }) }\n    },\n    // MP-WEIXIN è§„æ ¼å¡«å†™\n    openSpecSheet() {\n      this.mpSheet = true\n      const pid = this.product?.id || ''\n      this.fetchSpecs(pid)\n      this.lockScroll = false\n    },\n    closeSpecSheet() { this.mpSheet = false; this.lockScroll = false },\n    // H5 æˆ¿é—´é€‰æ‹©å¼¹çª—\n    openRoomSheet() {\n      this.roomSelectorMode = 'h5'\n      this.roomSelectorVisible = true\n      this.fetchRooms()\n    },\n    closeRoomSheet() { this.roomSelectorVisible = false },\n    openH5AddressSheet() {\n      this.roomSelectorMode = 'addr'\n      this.roomSelectorVisible = true\n      this.loadAddresses()\n    },\n\n    fetchRooms() {\n      getRooms()\n        .then((res) => {\n          const raw = Array.isArray(res?.data?.items) ? res.data.items\n            : (Array.isArray(res?.items) ? res.items\n              : (Array.isArray(res?.data?.children) ? res.data.children\n                : (Array.isArray(res?.data?.list) ? res.data.list\n                  : (Array.isArray(res?.data) ? res.data : []))))\n          this.roomsRaw = (raw || []).map((it) => (typeof it === 'string') ? { id: '', name: it } : { id: (it?.id || it?.room_id || ''), name: (it?.name || it?.room_name || '') })\n          this.roomsList = this.roomsRaw.map(it => it.name).filter((x) => !!x)\n        })\n        .catch(() => { this.roomsList = [] })\n    },\n\n    loadAddresses() {\n      getAddresses().then(res => {\n        const raw = Array.isArray(res?.data?.items) ? res.data.items : (Array.isArray(res?.items) ? res.items : [])\n        this.addresses = raw.map(a => ({\n          id: a.addresses_id || a.id || '',\n          receiver: a.receiver || '',\n          phone: a.phone || '',\n          province: a.province || '',\n          city: a.city || '',\n          district: a.district || '',\n          detail_address: a.detail_address || '',\n          is_default: a.is_default === 1\n        }))\n        const cached = uni.getStorageSync('selected_address_id') || ''\n        let pick = this.addresses.find(x => x.id === cached) || this.addresses.find(x => x.is_default) || this.addresses[0]\n        this.selectedAddress = pick || null\n        if (this.roomSelectorMode === 'addr' && this.roomSelectorVisible && this.addresses.length === 0) {\n          try { uni.showToast({ title: 'æš‚æ— æ”¶è´§åœ°å€ï¼Œå»åˆ›å»ºå§', icon: 'none' }) } catch (e) { }\n        }\n      }).catch(() => { this.addresses = []; this.selectedAddress = null })\n    },\n\n    onRoomSelect(room) {\n      if (this.roomSelectorMode === 'addr') {\n        if (room && room.raw) {\n          this.selectedAddress = room.raw\n          try { uni.setStorageSync('selected_address_id', this.selectedAddress.id) } catch (e) { }\n        }\n      } else if (this.roomSelectorMode === 'mp') {\n        this.mpRoom = room.name\n      } else {\n        this.roomName = room.name\n        this.roomId = room.id\n      }\n      this.roomSelectorVisible = false\n    },\n\n    onRoomCreate(name) {\n      if (!name) return\n      createRoom({ name })\n        .then((res) => {\n          uni.showToast({ title: 'æˆ¿é—´å·²åˆ›å»º', icon: 'success' })\n          const rid = (res && res.data && (res.data.room_id || res.data.id)) || (res && (res.room_id || res.id)) || ''\n          if (this.roomSelectorMode === 'mp') {\n            this.mpRoom = name\n            if (rid) {\n              const exist = (this.roomsRaw || []).find(r => r.id === rid)\n              if (!exist) this.roomsRaw = [{ id: rid, name }, ...this.roomsRaw]\n            }\n          } else {\n            this.roomName = name\n            this.roomId = rid || this.roomId\n            if (rid) {\n              const exist = (this.roomsRaw || []).find(r => r.id === rid)\n              if (!exist) this.roomsRaw = [{ id: rid, name }, ...this.roomsRaw]\n            }\n          }\n          this.roomSelectorVisible = false\n          if (!rid) this.fetchRooms()\n        })\n        .catch(() => {\n          uni.showToast({ title: 'åˆ›å»ºæˆ¿é—´å¤±è´¥', icon: 'none' })\n        })\n    },\n\n    onCreateAddress(payload) {\n      const u = uni.getStorageSync('user')\n      const token = (u && (u.token || (u.data && u.data.token))) || ''\n      const data = { receiver: payload.receiver, phone: payload.phone, province: payload.province, city: payload.city, district: payload.district, detail_address: payload.detail_address, is_default: payload.is_default }\n      addAddress({ ...data, token }).then(res => {\n        if (res && res.success) {\n          const id = (res && res.data && (res.data.addresses_id || res.data.id)) || ''\n          const item = { id, receiver: data.receiver, phone: data.phone, province: data.province, city: data.city, district: data.district, detail_address: data.detail_address, is_default: data.is_default === 1 }\n          this.addresses = [item, ...this.addresses]\n          this.selectedAddress = item\n          try { uni.setStorageSync('selected_address_id', id) } catch (e) { }\n          uni.showToast({ title: 'å·²ä¿å­˜', icon: 'success' })\n          this.roomSelectorVisible = false\n        } else {\n          const tip = typeof res?.data === 'string' ? res.data : (res?.data?.reason || '')\n          const msg = tip || (res && res.message) || 'ä¿å­˜å¤±è´¥'\n          uni.showToast({ title: msg, icon: 'none' })\n        }\n      }).catch(() => {\n        uni.showToast({ title: 'ä¿å­˜å¤±è´¥', icon: 'none' })\n      })\n    },\n\n    confirmSpecToCart() {\n      const needLength = this.selectedSpec && this.selectedSpec.has_length === 1\n      if (!this.mpRoom || (needLength && !this.mpLength) || !this.mpQty) {\n        uni.showToast({ title: 'è¯·å¡«å†™æˆ¿é—´åã€é•¿åº¦ã€æ•°é‡', icon: 'none' })\n        return\n      }\n      const chosen = (this.mpRoom || '').trim()\n      const found = (this.roomsRaw || []).find(it => it.name === chosen)\n      const rid = found ? found.id : ''\n\n      const lengthNum = (this.mpLength || '').replace(/[^0-9.]/g, '')\n      const lengthVal = lengthNum ? Number(lengthNum) : undefined\n      const spec = (this.selectedSpecIndex >= 0 && this.specs[this.selectedSpecIndex]) ? this.specs[this.selectedSpecIndex] : null\n\n      if (spec && spec.specification && lengthVal) {\n        const max = parseFloat(spec.specification)\n        if (!isNaN(max) && lengthVal > max) {\n          uni.showModal({ title: 'æç¤º', content: 'é•¿åº¦ä¸èƒ½è¶…è¿‡ ' + spec.specification, showCancel: false })\n          return\n        }\n      }\n\n      const pid = spec ? spec.product_id : (this.product?.id || '')\n      const mq = Math.max(1, Number(this.mpQty || 1))\n      addCartItem({ room_id: rid, product_id: pid, length: lengthVal, quantity: mq, color: this.mpTemp || '', note: this.mpOrderNote || '' })\n        .then((res) => {\n          if (res && res.success) {\n            this.mpSheet = false\n            uni.showToast({ title: `å·²åŠ å…¥æˆ¿é—´ï¼š${chosen}`, icon: 'success' })\n          } else {\n            const tip = typeof res?.data === 'string' ? res.data : (res?.data?.reason || '')\n            const msg = tip || res?.message || 'åŠ å…¥å¤±è´¥'\n            uni.showToast({ title: msg, icon: 'none' })\n          }\n        })\n        .catch(() => { uni.showToast({ title: 'åŠ å…¥è´­ç‰©è½¦å¤±è´¥', icon: 'none' }) })\n    },\n    normalizeMpQty() {\n      const n = Number(this.mpQty)\n      this.mpQty = isNaN(n) ? 1 : Math.max(1, Math.floor(n))\n    },\n    // MP Room Sheet Methods\n    openMpRoomSheet() {\n      this.roomSelectorMode = 'mp'\n      this.roomSelectorVisible = true\n      this.fetchRooms()\n    },\n    openMpAddressSheet() {\n      this.roomSelectorMode = 'addr'\n      this.roomSelectorVisible = true\n      this.loadAddresses()\n    },\n    closeMpRoomSheet() { this.roomSelectorVisible = false; this.lockScroll = false },\n    formatPriceWithSymbol(val) {\n      try {\n        if (val === '-' || val === 'â€”') return '-'\n        const n = Number(val)\n        if (isNaN(n)) return '-'\n        return 'Â¥' + n.toFixed(2)\n      } catch (e) { return '-' }\n    },\n    displaySpecPrice(it) {\n      if (!it) return 0\n      const base = Number(it.price || 0) || 0\n      if (it.has_length !== 1) return base\n      const spec = String(it.specification || '').toLowerCase()\n      const unit = this.parseLengthUnit(it.length_unit || it.unit, spec)\n      const mult = this.unitMultiplier(unit)\n      return base * mult\n    },\n    parseLengthUnit(unit, spec) {\n      const u = String(unit || '').toLowerCase()\n      const s = String(spec || '').toLowerCase()\n      if (u.includes('mm') || /(^|[^a-z])mm([^a-z]|$)/.test(s)) return 'mm'\n      if (u.includes('cm') || /(^|[^a-z])cm([^a-z]|$)/.test(s)) return 'cm'\n      if (u.includes('dm') || /(^|[^a-z])dm([^a-z]|$)/.test(s)) return 'dm'\n      if (u.includes('m') || /(^|[^a-z])m([^a-z]|$)/.test(s)) return 'm'\n      return 'm'\n    },\n    unitMultiplier(unit) {\n      if (unit === 'mm') return 1000\n      if (unit === 'cm') return 100\n      if (unit === 'dm') return 10\n      return 1\n    },\n    toMeters(len, unit) {\n      const u = unit || 'm'\n      if (u === 'mm') return Number(len) / 1000\n      if (u === 'cm') return Number(len) / 100\n      if (u === 'dm') return Number(len) / 10\n      return Number(len)\n    },\n    favProduct() {\n      try {\n        const pid = this.product?.id || ''\n        const u = uni.getStorageSync('user') || null\n        const token = (u && (u.token || (u.data && u.data.token))) || ''\n        if (!pid) { uni.showToast({ title: 'å•†å“ä¿¡æ¯ç¼ºå¤±', icon: 'none' }); return }\n        if (!token) { uni.showToast({ title: 'è¯·å…ˆç™»å½•', icon: 'none' }); return }\n        if (!this.isFavorite) {\n          addFavorite({ product_id: pid, token }).then((res) => {\n            if (res && res.success) { this.isFavorite = true; uni.showToast({ title: 'å·²æ”¶è—', icon: 'success' }) }\n            else { uni.showToast({ title: res?.message || 'æ”¶è—å¤±è´¥', icon: 'none' }) }\n          }).catch(() => { uni.showToast({ title: 'æ”¶è—å¤±è´¥', icon: 'none' }) })\n        } else {\n          deleteFavorite({ product_id: pid, token }).then((res) => {\n            if (res && res.success) { this.isFavorite = false; uni.showToast({ title: 'å·²å–æ¶ˆæ”¶è—', icon: 'success' }) }\n            else { uni.showToast({ title: res?.message || 'å–æ¶ˆå¤±è´¥', icon: 'none' }) }\n          }).catch(() => { uni.showToast({ title: 'å–æ¶ˆå¤±è´¥', icon: 'none' }) })\n        }\n      } catch (e) { uni.showToast({ title: 'æ”¶è—å¤±è´¥', icon: 'none' }) }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.page {\n  background: #f7f7f7;\n  min-height: 100vh;\n  padding-bottom: 120rpx;\n}\n\n/* #ifdef MP-WEIXIN */\n.product-page { position: relative; z-index: 1; }\n/* èƒŒæ™¯å›¾æ ·å¼å·²ç§»é™¤ */\n/* #endif */\n\n.cover {\n  width: 100%;\n  height: 500rpx;\n  background: #f5f5f5;\n}\n\n.info {\n  background: #fff;\n  padding: 20rpx;\n}\n\n.title {\n  font-size: 32rpx;\n  display: block;\n}\n\n.pd-title-row {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 12rpx;\n}\n\n.mp-title-row {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 12rpx;\n}\n\n.fav-star {\n  font-size: 48rpx;\n  color: #ccc;\n}\n.fav-star.active {\n  /* background: #ffec99; */\n  color: #e3b609;\n  border-radius: 8rpx;\n  padding: 2rpx 8rpx;\n}\n\n.price {\n  color: #000;\n  font-size: 34rpx;\n  margin-top: 8rpx;\n  display: block;\n}\n\n.sales {\n  color: #999;\n  font-size: 26rpx;\n  margin-top: 8rpx;\n  display: block;\n}\n\n.footer {\n  position: fixed;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: #fff;\n  box-shadow: 0 -8rpx 20rpx rgba(0, 0, 0, .06);\n  padding: 20rpx;\n}\n\n.btn-cart {\n  width: 100%;\n  /* #ifndef H5 */\n  background: #000;\n  /* #endif */\n  /* #ifdef H5 */\n  background: #ff8c3a;\n  /* #endif */\n  color: #fff;\n  border-radius: 999rpx;\n  height: 80rpx;\n  line-height: 80rpx;\n  font-size: 30rpx;\n  font-weight: bold;\n}\n\n/* é€šç”¨ï¼šè§„æ ¼åˆ—è¡¨ï¼ˆH5 ä¸ MP å…±ç”¨ï¼‰ */\n.specs-list {\n  display: flex;\n  flex-direction: column;\n  gap: 12rpx;\n}\n\n.login-mask {\n  position: fixed;\n  top: 0; left: 0; right: 0; bottom: 0;\n  background: rgba(0,0,0,0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 10000;\n}\n.login-modal {\n  width: 720rpx;\n  max-width: 90vw;\n  background: #fff;\n  border-radius: 24rpx;\n  padding: 48rpx 40rpx;\n  box-shadow: 0 20rpx 40rpx rgba(0,0,0,0.12);\n  display: flex;\n  flex-direction: column;\n  gap: 32rpx;\n}\n.login-title {\n  font-size: 34rpx;\n  font-weight: 700;\n  color: #333;\n  text-align: center;\n}\n.login-desc {\n  font-size: 28rpx;\n  color: #666;\n  text-align: center;\n}\n.login-actions {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 24rpx;\n}\n.btn-pill {\n  min-width: 240rpx;\n  height: 72rpx;\n  line-height: 72rpx;\n  padding: 0 40rpx;\n  border-radius: 999rpx;\n  text-align: center;\n  font-size: 28rpx;\n  font-weight: 600;\n}\n.btn-pill.confirm {\n  background: #000;\n  color: #fff;\n  box-shadow: 0 8rpx 20rpx rgba(0,0,0,0.15);\n}\n.btn-pill.cancel {\n  background: #fff;\n  color: #999;\n  border: 2rpx solid #e5e5e5;\n}\n\n.spec-item {\n  display: flex;\n  align-items: center;\n  gap: 12rpx;\n  padding: 12rpx;\n  border: 1rpx solid #eee;\n  border-radius: 12rpx;\n  /* background: #fafafa; */\n  transition: all .2s;\n  position: relative;\n  overflow: hidden;\n}\n\n.spec-item.active {\n  border-color: #8d8a8a;\n  /* background: #fff5f0; */\n}\n\n.spec-item.disabled {\n  cursor: not-allowed;\n}\n\n.spec-mask {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0,0,0,0.15);\n  display: flex;\n  align-items: flex-end;\n  justify-content: flex-end;\n  padding: 12rpx;\n  border-radius: 12rpx;\n}\n\n.spec-mask-ico {\n  width: 140rpx;\n  height: 140rpx;\n}\n.spec-thumb {\n  width: 120rpx;\n  height: 120rpx;\n  border-radius: 10rpx;\n  background: #f5f5f5;\n}\n\n.spec-info {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 6rpx;\n}\n\n.spec-name {\n  font-size: 28rpx;\n  color: #333;\n  line-height: 1.4;\n}\n\n.spec-price-row {\n  display: flex;\n  align-items: baseline;\n  gap: 10rpx;\n}\n\n.spec-price {\n  color: #000;\n  font-size: 32rpx;\n  font-weight: 700;\n}\n\n.spec-oprice {\n  color: #999;\n  font-size: 24rpx;\n  text-decoration: line-through;\n}\n\n.spec-unit {\n  color: #666;\n  font-size: 24rpx;\n}\n\n.specs-toggle {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 16rpx;\n  font-size: 24rpx;\n  color: #666;\n  background: #fafafa;\n  border-radius: 0 0 12rpx 12rpx;\n}\n\n.toggle-icon {\n  margin-left: 8rpx;\n  font-size: 20rpx;\n}\n\n.rooms-list {\n  margin-top: 12rpx;\n}\n\n.rooms-grid {\n  display: grid;\n  grid-template-columns: repeat(4, minmax(0, 1fr));\n  grid-gap: 12rpx;\n}\n\n.rooms-title {\n  color: #666;\n  font-size: 26rpx;\n  margin-bottom: 8rpx;\n}\n\n.room-item {\n  padding: 12rpx 14rpx;\n  border: 1rpx solid #eee;\n  border-radius: 10rpx;\n  background: #fafafa;\n  display: flex;\n  align-items: center;\n}\n\n.room-name {\n  color: #333;\n  font-size: 28rpx;\n}\n\n/* #ifdef H5 */\n/* Hide scrollbars */\n.product-page ::-webkit-scrollbar {\n  display: none;\n  width: 0 !important;\n  height: 0 !important;\n  -webkit-appearance: none;\n  background: transparent;\n}\n\n.footer {\n  display: none;\n}\n\n/* H5 Card Layout */\n.h5-product-bg {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-image: url('/static/product_detail_background.jpg');\n  background-size: cover;\n  background-position: center;\n  z-index: 0;\n  overflow-y: auto;\n  padding: 40rpx;\n}\n\n.h5-topbar {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 2;\n  display: flex;\n  align-items: center;\n  height: 100rpx;\n  padding: 20rpx;\n}\n\n.back-btn {\n  height: 60rpx;\n  width: 60rpx;\n  line-height: 60rpx;\n  padding: 0;\n  border: none !important;\n  border-radius: 0;\n  background: transparent !important;\n  box-shadow: none !important;\n  outline: none;\n  color: #000;\n  font-size: 44rpx;\n  transition: background .2s, transform .2s, color .2s;\n}\n\n.back-btn::after {\n  border: none !important;\n}\n\n.back-btn:hover {\n  transform: translateY(0.3rpx);\n  font-weight: 500;\n}\n\n.h5-product-card {\n  max-width: 1400px;\n  margin: 0 auto;\n  /* background: rgba(255, 255, 255, 0.95); */\n  border-radius: 24rpx;\n  /* box-shadow: 0 20rpx 60rpx rgba(0, 0, 0, 0.1); */\n  overflow: hidden;\n  position: relative;\n  z-index: 1;\n}\n\n.pd-grid {\n  display: grid;\n  grid-template-columns: 3fr 2fr;\n  grid-gap: 80rpx;\n  padding: 60rpx;\n  align-items: start;\n  margin-top: 100rpx;\n}\n\n/* New styles for inline params */\n.pd-param-item.inline-params {\n  display: contents;\n}\n\n.pd-param-item.inline-params .sub-item {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10rpx;\n}\n\n/* Qty Stepper matching cart */\n.qty-box {\n  display: flex;\n  align-items: center;\n  background: #f7f7f7;\n  border-radius: 6rpx;\n  height: 60rpx;\n}\n\n.qty-btn {\n  width: 60rpx;\n  height: 60rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #333;\n  font-size: 36rpx;\n  cursor: pointer;\n}\n\n.qty-num {\n  padding: 0 12rpx;\n  font-size: 24rpx;\n  color: #333;\n}\n\n.pd-left {\n  height: 100%;\n  background: transparent;\n  /* border: 1rpx solid rgba(255,255,255,0.35); */\n  border-radius: 16rpx;\n  padding: 24rpx;\n  box-sizing: border-box;\n  /* box-shadow: 0 12rpx 40rpx rgba(0,0,0,0.08); */\n  -webkit-backdrop-filter: saturate(120%) blur(8px);\n  backdrop-filter: saturate(120%) blur(8px);\n}\n\n.pd-right {\n  height: 100%;\n  background: transparent;\n  border: 1rpx solid rgba(255, 255, 255, 0.35);\n  border-radius: 16rpx;\n  padding: 24rpx;\n  box-sizing: border-box;\n  box-shadow: 0 12rpx 40rpx rgba(0, 0, 0, 0.08);\n  -webkit-backdrop-filter: saturate(120%) blur(8px);\n  backdrop-filter: saturate(120%) blur(8px);\n}\n\n/* å³ä¾§å¡ç‰‡ç½®é¡¶ä¸”è‡ªé€‚åº”é«˜åº¦ï¼Œä»…å½±å“ H5 */\n.pd-right {\n  height: auto;\n  position: sticky;\n  margin-top: 80rpx;\n  align-self: start;\n}\n\n.pd-left {\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n  gap: 50rpx;\n  padding-right: 6rpx;\n}\n\n.pd-gallery {\n  /* background: #fff; */\n  border-radius: 12rpx;\n  /* padding: 20rpx; */\n  position: relative;\n  border: 1rpx solid rgba(255, 255, 255, 0.35);\n  box-shadow: 0 12rpx 40rpx rgba(0, 0, 0, 0.08);\n}\n\n.pd-main {\n  width: 100%;\n  height: 520rpx;\n  border-radius: 8rpx;\n  background: #f5f5f5;\n}\n\n.pd-thumbs {\n  position: static;\n  display: flex;\n  flex-direction: row;\n  gap: 12rpx;\n  /* margin-top: 12rpx; */\n  overflow-x: auto;\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  /* background: rgba(255,255,255,0.5); */\n  border-radius: 12rpx;\n  padding: 20rpx;\n  /* box-shadow: 0 8rpx 24rpx rgba(0,0,0,0.06); */\n}\n\n.pd-thumbs::-webkit-scrollbar {\n  width: 0;\n  height: 0;\n  display: none;\n}\n\n.pd-thumb {\n  width: 88rpx;\n  height: 88rpx;\n  border-radius: 8rpx;\n  background: #f5f5f5;\n  border: 1rpx solid #eee;\n}\n\n.pd-thumb.active {\n  outline: 3rpx solid #333;\n}\n\n.pd-card {\n  background: transparent;\n  border-radius: 12rpx;\n  padding: 20rpx;\n  border: 1rpx solid rgba(255, 255, 255, 0.35);\n  box-shadow: 0 12rpx 40rpx rgba(0, 0, 0, 0.08);\n  -webkit-backdrop-filter: saturate(120%) blur(8px);\n  backdrop-filter: saturate(120%) blur(8px);\n}\n\n.pd-section-title {\n  font-size: 28rpx;\n  font-weight: 600;\n  color: #333;\n  display: block;\n  margin-bottom: 12rpx;\n}\n\n.pd-param-grid {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 16rpx 40rpx;\n  /* background: #fafafa; */\n  border-radius: 10rpx;\n  padding: 20rpx;\n}\n\n.pd-param-item {\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  justify-content: flex-start;\n  gap: 20rpx;\n  border: none;\n  padding: 4rpx 0;\n}\n\n.pd-param-item .key {\n  color: #999;\n  font-size: 24rpx;\n  min-width: 80rpx;\n}\n\n.pd-param-item .val {\n  color: #333;\n  font-size: 26rpx;\n  margin-top: 0rpx;\n  flex: 1;\n}\n.pd-param-grid, .pd-param-item .key, .pd-param-item .val, .mp-param-grid, .mp-param-item .key, .mp-param-item .val {\n  user-select: text;\n  -webkit-user-select: text;\n}\n.product-page, .product-page * {\n  user-select: text;\n  -webkit-user-select: text;\n}\n\n.pd-detail-img {\n  width: 100%;\n  border-radius: 8rpx;\n  background: #f5f5f5;\n  margin-top: 12rpx;\n}\n\n.pd-info {\n  background: transparent;\n  padding: 0;\n  box-shadow: none;\n  display: flex;\n  flex-direction: column;\n  gap: 18rpx;\n}\n\n.pd-address .addr-box {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 12rpx;\n  padding: 12rpx;\n  background: #fafafa;\n  border: 1rpx solid #eee;\n  border-radius: 10rpx;\n}\n\n.pd-address .addr-line {\n  display: block;\n  color: #333;\n  font-size: 24rpx;\n}\n\n.pd-address .addr-btn {\n  background: #f7f7f7;\n  color: #333;\n  border: 1rpx solid #e6e6e6;\n  border-radius: 8rpx;\n}\n\n/* H5 è§„æ ¼åˆ—è¡¨å·¦å›¾å³æ–‡æ’ç‰ˆï¼šä¸€è¡Œä¸¤åˆ— */\n.specs-list {\n  display: grid;\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n  grid-gap: 12rpx;\n}\n\n.spec-item {\n  flex-direction: row;\n  align-items: center;\n  box-shadow: 0 6rpx 16rpx rgba(0, 0, 0, 0.05);\n}\n\n.spec-thumb {\n  width: 120rpx;\n  height: 120rpx;\n}\n\n.spec-info {\n  flex: 1;\n}\n\n.spec-price-row {\n  justify-content: flex-start;\n  gap: 10rpx;\n}\n\n.pd-form {\n  display: flex;\n  flex-direction: column;\n  gap: 16rpx;\n  margin-top: 16rpx;\n}\n\n.pd-field {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 8rpx;\n}\n\n.pd-field.inline {\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n  gap: 20rpx;\n}\n\n/* .pd-param-grid { display: flex; align-items: center; gap: 20rpx; white-space: nowrap; overflow: hidden; } */\n.pd-param-item {\n  display: inline-flex;\n  align-items: center;\n  gap: 8rpx;\n  white-space: nowrap;\n}\n\n.pd-param-item .key,\n.pd-param-item .val {\n  white-space: nowrap;\n}\n\n.pd-param-item.inline-params {\n  display: inline-flex;\n  align-items: center;\n  gap: 16rpx;\n}\n\n.pd-param-item.inline-params .sub-item {\n  display: inline-flex;\n  align-items: center;\n  gap: 8rpx;\n  white-space: nowrap;\n}\n\n.pd-param-item.inline-params .sub-item .val {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 40vw;\n}\n\n.picker-display {\n  flex: 1;\n  min-height: 64rpx;\n  line-height: 64rpx;\n  background: white;\n  border: 1rpx solid #e5e5e5;\n  border-radius: 10rpx;\n  padding: 0 14rpx;\n  color: #666;\n  max-width: 30%;\n}\n\n.pd-input {\n  width: 100%;\n  height: 64rpx;\n  line-height: 64rpx;\n  background: white;\n  border: 1rpx solid #e5e5e5;\n  border-radius: 10rpx;\n  padding: 0 14rpx;\n  max-width: 30%;\n}\n\n/* H5 å†…è”å­—æ®µè¾“å…¥å®½åº¦ç¼©å° */\n.pd-field.inline .pd-input,\n.pd-field.inline .picker-display {\n  flex: 1;\n  /* width: 60%; */\n}\n\n.unit-tip {\n  margin-left: 12rpx;\n  font-size: 24rpx;\n  color: #666;\n}\n\n.pd-title {\n  font-size: 40rpx;\n  color: #222;\n  font-weight: 700;\n  display: block;\n  padding: 10rpx;\n}\n\n.pd-price-row {\n  display: flex;\n  align-items: center;\n  gap: 12rpx;\n  margin-top: 10rpx;\n}\n\n.pd-price {\n  color: #000;\n  font-size: 50rpx;\n  font-weight: 700;\n}\n\n.pd-coupon {\n  background: #18FAE0;\n  color: #000;\n  padding: 8rpx 12rpx;\n  border-radius: 6rpx;\n  font-size: 24rpx;\n}\n\n.pd-meta {\n  color: #777;\n  font-size: 24rpx;\n  /* margin-top: 12rpx; */\n}\n\n.pd-qty-row {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-top: 20rpx;\n  padding: 12rpx;\n  background: #fafafa;\n  border: 1rpx solid #eee;\n  border-radius: 10rpx;\n}\n\n.qty-wrapper {\n  display: flex;\n  align-items: center;\n}\n\n.pd-qty-row .label {\n  color: #333;\n  margin-right: 16rpx;\n}\n\n.actions-wrapper {\n  display: flex;\n  align-items: center;\n  gap: 12rpx;\n}\n\n.actions-wrapper .btn-buy {\n  width: auto;\n  min-width: 140rpx;\n  height: 60rpx;\n  line-height: 60rpx;\n  font-size: 26rpx;\n  background: linear-gradient(135deg, #ff6a00, #ff2d55);\n  color: #fff;\n  border-radius: 30rpx;\n  padding: 0 20rpx;\n  margin: 0;\n}\n\n.pd-info .actions-wrapper .btn-cart {\n  flex: none;\n  width: auto;\n  min-width: 140rpx;\n  height: 60rpx;\n  line-height: 60rpx;\n  font-size: 26rpx;\n  background: #ff8c3a;\n  color: #fff;\n  border-radius: 30rpx;\n  padding: 0 20rpx;\n  margin: 0;\n}\n\n/* H5 æˆ¿é—´é€‰æ‹©å¼¹çª— */\n.h5-mask {\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, .45);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n}\n\n.h5-sheet {\n  width: 820rpx;\n  background: #fff;\n  border-radius: 16rpx;\n  padding: 24rpx;\n  box-shadow: 0 12rpx 28rpx rgba(0, 0, 0, 0.12);\n}\n\n.h5-title {\n  font-size: 32rpx;\n  font-weight: 700;\n  color: #333;\n  padding-bottom: 12rpx;\n  border-bottom: 1rpx solid #f0f0f0;\n  margin-bottom: 16rpx;\n}\n\n.h5-actions {\n  display: flex;\n  gap: 12rpx;\n  margin-top: 16rpx;\n}\n\n.h5-btn {\n  flex: 1;\n  height: 72rpx;\n  border-radius: 999rpx;\n  font-size: 28rpx;\n}\n\n.h5-btn.ghost {\n  background: #f7f7f7;\n  color: #333;\n  border: 1rpx solid #e6e6e6;\n}\n\n.h5-btn.primary {\n  background: linear-gradient(135deg, #ff6a00, #ff2d55);\n  color: #fff;\n  box-shadow: 0 6rpx 16rpx rgba(255, 106, 0, 0.35);\n}\n\n/* #endif */\n\n/* #ifdef MP-WEIXIN */\n.product-page.no-scroll {\n  height: 100vh;\n  overflow: hidden;\n}\n\n.mp-mask {\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, .55);\n  display: flex;\n  align-items: flex-end;\n  /* åº•éƒ¨å¼¹çª— */\n  justify-content: center;\n  z-index: 9999;\n}\n\n.mp-sheet {\n  width: 100vw;\n  max-width: none;\n  background: #fff;\n  border-top-left-radius: 24rpx;\n  border-top-right-radius: 24rpx;\n  padding: 24rpx;\n  box-shadow: 0 -8rpx 24rpx rgba(0, 0, 0, 0.08);\n  display: flex;\n  flex-direction: column;\n  max-height: 80vh;\n  overflow: hidden;\n  animation: mpSlideUp .22s ease-out;\n  padding-bottom: calc(24rpx + env(safe-area-inset-bottom));\n}\n\n.mp-scroll-view {\n  flex: 1;\n  min-height: 0;\n  margin-bottom: 16rpx;\n  height: 60vh;\n  overflow-y: scroll;\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n}\n\n.mp-scroll-view::-webkit-scrollbar {\n  width: 0;\n  height: 0;\n  display: none;\n}\n\n.mp-title {\n  font-size: 32rpx;\n  font-weight: 700;\n  color: #333;\n}\n.count-input {\n  width: 72rpx;\n  height: 80rpx;\n  line-height: 80rpx;\n  border: none;\n  border-radius: 0;\n  text-align: center;\n  font-size: 30rpx;\n  background: transparent;\n  color: #333;\n  margin: 0 12rpx;\n}\n  /* padding-bottom: 12rpx;\n  border-bottom: 1rpx solid #f0f0f0;\n  margin-bottom: 20rpx;\n} */\n\n.mp-field {\n  display: flex;\n  align-items: center;\n  /* justify-content: space-between; */\n  gap: 12rpx;\n  margin: 16rpx 0;\n}\n\n.mp-input {\n  width: 60%;\n  height: 64rpx;\n  line-height: 64rpx;\n  background: #fff;\n  border: 1rpx solid #e6e6e6;\n  border-radius: 12rpx;\n  padding: 0 14rpx;\n}\n\n.mp-actions {\n  display: flex;\n  gap: 12rpx;\n  margin-top: auto;\n  /* å›ºå®šåœ¨åº•éƒ¨ */\n  padding-top: 16rpx;\n  border-top: 1rpx solid #f0f0f0;\n}\n\n.mp-btn {\n  flex: 1;\n  height: 72rpx;\n  border-radius: 999rpx;\n  font-size: 28rpx;\n}\n\n.mp-btn.ghost {\n  background: #f7f7f7;\n  color: #333;\n  border: 1rpx solid #e6e6e6;\n}\n\n.mp-btn.primary {\n  background: #000;\n  color: #fff;\n}\n\n/* ä½¿æ•°é‡æ­¥è¿›å™¨æ¨ªå‘æ’åˆ— */\n.mp-sheet .qty-stepper {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  background: #f7f7f7;\n  border-radius: 40rpx;\n  height: 80rpx;\n  padding: 0 4rpx;\n}\n\n/* æ·˜å®é£æ ¼ï¼šæ­¥è¿›å™¨åœ¨å¼¹çª—å†…çš„æ ·å¼é€‚é… */\n.mp-sheet .qty-stepper .step {\n  width: 64rpx;\n  height: 100%;\n  border-radius: 0;\n  background: transparent;\n  border: none;\n  color: #333;\n  font-size: 40rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  margin: 0;\n}\n\n.mp-sheet .qty-stepper .step::after {\n  border: none;\n}\n\n/* Remove button border */\n\n.mp-sheet .qty-stepper .count {\n  width: 80rpx;\n  text-align: center;\n  font-size: 28rpx;\n  color: #333;\n}\n\n@keyframes mpSlideUp {\n  from {\n    transform: translateY(100%);\n  }\n\n  to {\n    transform: translateY(0);\n  }\n}\n\n/* å‚æ•°ä¸å›¾æ–‡è¯¦æƒ…æ ·å¼ */\n.mp-section {\n  background: #fff;\n  border-radius: 12rpx;\n  padding: 20rpx;\n  margin: 20rpx;\n}\n\n.mp-title {\n  font-size: 30rpx;\n  font-weight: 600;\n  color: #333;\n  margin-bottom: 12rpx;\n}\n\n.mp-param-grid {\n  display: flex;\n  flex-direction: column;\n  gap: 12rpx;\n  border-radius: 10rpx;\n  background: #fafafa;\n}\n\n.mp-param-item {\n  border: none;\n  padding: 10rpx;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.mp-param-item .key {\n  color: #666;\n  font-size: 24rpx;\n}\n\n.mp-param-item .val {\n  color: #333;\n  font-size: 26rpx;\n  margin-top: 0rpx;\n}\n\n.mp-detail-img {\n  width: 100%;\n  border-radius: 8rpx;\n  background: #f5f5f5;\n  margin-top: 12rpx;\n}\n\n/* #endif */\n\n/* MP Modifications */\n.mp-info-spacing {\n  padding: 20rpx 40rpx;\n}\n\n.mp-section-spacing {\n  padding: 20rpx 20rpx;\n}\n\n.mp-price-row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 12rpx;\n}\n\n.mp-param-row-inline {\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  margin-top: 12rpx;\n  border-top: 1rpx solid #eee;\n  padding-top: 12rpx;\n}\n\n.mp-param-item.inline {\n  flex: 1;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n  border: none;\n  padding: 0 10rpx;\n  gap: 4rpx;\n}\n\n.mp-param-item.inline .key {\n  margin-bottom: 0;\n  white-space: nowrap;\n}\n\n.mp-param-item.inline .val {\n  margin-top: 0;\n  text-align: center;\n  white-space: nowrap;\n}\n\n/* #ifdef MP-WEIXIN */\n.mp-param-grid {\n  width: 100%;\n  margin: 0 auto;\n}\n\n.mp-param-item .key {\n  min-width: 120rpx;\n  display: inline-block;\n}\n\n.pd-section-title {\n  margin-bottom: 16rpx;\n}\n\n/* #endif */\n\n/* Address Card Style from Cart Page (H5) */\n.address-card {\n  position: relative;\n  /* background: #fff; */\n  border-radius: 16rpx;\n  padding: 20rpx;\n  padding-right: 180rpx;\n  /* box-shadow: 0 4rpx 16rpx rgba(0,0,0,.06); */\n  /* border: 1rpx solid #eee; */\n  margin-bottom: 20rpx;\n}\n\n.address-card .addr-title {\n  font-weight: 600;\n  color: #333;\n  font-size: 28rpx;\n}\n\n.address-card .addr-body {\n  margin-top: 8rpx;\n  color: #555;\n  font-size: 24rpx;\n  display: flex;\n  flex-direction: column;\n  gap: 6rpx;\n}\n\n.address-card .addr-line {\n  font-size: 26rpx;\n  color: #333;\n}\n\n.address-card .addr-empty {\n  margin-top: 8rpx;\n  color: #999;\n  font-size: 24rpx;\n}\n\n.address-card .addr-actions {\n  position: absolute;\n  right: 20rpx;\n  top: 50%;\n  transform: translateY(-50%);\n  margin-top: 0;\n  display: flex;\n  gap: 12rpx;\n}\n\n.address-card .addr-btn {\n  background: #fff;\n  border: 1rpx solid #ddd;\n  color: #333;\n  border-radius: 999rpx;\n  font-size: 24rpx;\n  padding: 0 20rpx;\n  height: 50rpx;\n  line-height: 48rpx;\n}\n\n.address-card .addr-btn {\n  background: #fff;\n  border: 1rpx solid #ddd;\n  color: #333;\n  border-radius: 999rpx;\n  font-size: 30rpx;\n  padding: 0 40rpx;\n  height: 72rpx;\n  line-height: 70rpx;\n}\n\n.address-card {\n  padding-right: 220rpx;\n}\n\n/* MP Address Bar Style from Cart Page */\n.mp-address-bar {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 20rpx;\n  /* background: #fff; */\n  border: 1rpx solid #e6e6e6;\n  border-radius: 12rpx;\n  margin: 16rpx 0;\n}\n\n.bar-left {\n  display: flex;\n  align-items: center;\n  gap: 12rpx;\n  flex: 1;\n  overflow: hidden;\n}\n\n.addr-icon {\n  font-size: 28rpx;\n  color: #000;\n  flex-shrink: 0;\n}\n\n.bar-info {\n  display: flex;\n  flex-direction: column;\n  font-size: 24rpx;\n  color: #555;\n  flex: 1;\n  overflow: hidden;\n}\n\n.bar-line {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.bar-btn {\n  background: #fff;\n  border: 1rpx solid #ddd;\n  color: #333;\n  border-radius: 999rpx;\n  margin: 0;\n  font-size: 24rpx;\n  padding: 0 24rpx;\n  height: 50rpx;\n  line-height: 48rpx;\n  flex-shrink: 0;\n}\n\n/* H5 Actions Row (3 buttons layout) */\n.pd-actions-row {\n  display: flex;\n  align-items: center;\n  gap: 16rpx;\n  margin-top: 24rpx;\n}\n\n.qty-box-large {\n  width: 200rpx;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 80rpx;\n  background: #f7f7f7;\n  border-radius: 40rpx;\n  padding: 0 4rpx;\n}\n\n.qty-box-large .qty-btn {\n  width: 64rpx;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 40rpx;\n  color: #333;\n}\n\n.qty-box-large .qty-num {\n  font-size: 30rpx;\n  font-weight: 600;\n  color: #333;\n}\n.qty-box-large .qty-input {\n  width: 72rpx;\n  height: 100%;\n  border: none;\n  background: transparent;\n  text-align: center;\n  font-size: 30rpx;\n  color: #333;\n}\n\n.btn-action {\n  flex: 1;\n  height: 80rpx;\n  border-radius: 40rpx;\n  font-size: 28rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  margin: 0;\n  font-weight: 600;\n}\n\n.btn-action.btn-cart {\n  background: #d9d9d9;\n  color: #333;\n}\n\n.btn-action.btn-buy {\n  background: #000;\n  color: #fff;\n}\n</style>\n","import MiniProgramPage from 'C:/Users/HP/Desktop/LiShop/LiShop/pages/product/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["getProductDetail","uni","wx","addCartItem","_a","getRooms","createRoom","addAddress"],"mappings":"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"}