{"version":3,"file":"index.js","sources":["pages/product/index.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcHJvZHVjdC9pbmRleC52dWU"],"sourcesContent":["<template>\r\n  <view class=\"page product-page\" :class=\"{ 'no-scroll': mpSheet || roomSelectorVisible }\">\r\n    <Skeleton :loading=\"!product\" :showTitle=\"true\" />\r\n    <block v-if=\"product\">\r\n      <!-- #ifdef H5 -->\r\n      <view class=\"h5-product-bg\">\r\n        <view class=\"h5-topbar\">\r\n          <button class=\"back-btn\" @click=\"goBack\">â†</button>\r\n        </view>\r\n        <view class=\"h5-product-card\">\r\n          <view class=\"pd-grid\">\r\n            <!-- å·¦ä¾§ï¼šå¯æ»šåŠ¨ï¼ŒåŒ…å«ç”»å»Š + å‚æ•° + å›¾æ–‡è¯¦æƒ… -->\r\n            <view class=\"pd-left\">\r\n              <view id=\"og-product-gallery\" class=\"pd-gallery\">\r\n                <swiper class=\"pd-main\" :current=\"current\" :autoplay=\"false\" circular interval=\"3000\" @change=\"onSwiperChange\">\r\n                  <swiper-item v-for=\"(src, i) in images\" :key=\"i\">\r\n                    <video\r\n                      v-if=\"isVideo(src)\"\r\n                      :id=\"i === current ? 'pd-video' : ('pd-video-' + i)\"\r\n                      class=\"pd-main\"\r\n                      :src=\"i === current ? videoSrc : src\"\r\n                      :poster=\"product.image || '/static/logo.png'\"\r\n                      :controls=\"true\"\r\n                      :autoplay=\"false\"\r\n                      playsinline\r\n                      webkit-playsinline\r\n                      crossorigin=\"anonymous\"\r\n                      object-fit=\"contain\"\r\n                      :muted=\"true\"\r\n                      @play=\"pauseCarousel\"\r\n                      @ended=\"onVideoEnded\"\r\n                    />\r\n                    <image v-else class=\"pd-main\" :src=\"src\" mode=\"aspectFit\" @click=\"previewCurrentImage\" />\r\n                  </swiper-item>\r\n                </swiper>\r\n                <view class=\"pd-thumbs\">\r\n                  <view v-for=\"(src, i) in images\" :key=\"i\" class=\"pd-thumb\" :class=\"{ active: i === current }\"\r\n                    @click=\"current = i\" style=\"position: relative; overflow: hidden;\">\r\n                    <image :src=\"isVideo(src) ? (product.image || '/static/logo.png') : src\" mode=\"aspectFill\"\r\n                      style=\"width: 100%; height: 100%; display: block;\" />\r\n                    <view v-if=\"isVideo(src)\"\r\n                      style=\"position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center;\">\r\n                      <text style=\"color: #fff; font-size: 12px;\">â–¶</text>\r\n                    </view>\r\n                  </view>\r\n                </view>\r\n              </view>\r\n\r\n              <view class=\"pd-card pd-params\">\r\n                <text class=\"pd-section-title\" selectable=\"true\">å‚æ•°ä¿¡æ¯</text>\r\n                <view class=\"pd-param-grid\">\r\n                  <view class=\"pd-param-item\"><text class=\"key\" selectable=\"true\">å‹å·</text><text class=\"val\" selectable=\"true\">{{ product.id || 'é»˜è®¤æ¬¾'\r\n                  }}</text></view>\r\n                  <view class=\"pd-param-item\"><text class=\"key\" selectable=\"true\">åç§°</text><text class=\"val\" selectable=\"true\">{{ product.title }}</text>\r\n                  </view>\r\n                  <view class=\"pd-param-item\"><text class=\"key\" selectable=\"true\">è§„æ ¼</text><text class=\"val\" selectable=\"true\">é»˜è®¤è§„æ ¼</text></view>\r\n                  <view class=\"pd-param-item\"><text class=\"key\" selectable=\"true\">äº§åœ°</text><text class=\"val\" selectable=\"true\">{{ product.shipping_origin ?\r\n                    product.shipping_origin.replace(/çœ|å¸‚/g, '') : 'â€”' }}</text></view>\r\n                  <view class=\"pd-param-item\"><text class=\"key\" selectable=\"true\">å•ä½</text><text class=\"val\" selectable=\"true\">ä»¶</text></view>\r\n                  <!-- <view class=\"pd-param-item\"><text class=\"key\">ä»·æ ¼</text><text class=\"val\">Â¥{{ product.price.toFixed(2)\r\n                  }}</text></view> -->\r\n                  <view class=\"pd-param-item\"><text class=\"key\" selectable=\"true\">å‘è´§</text><text class=\"val\" selectable=\"true\">{{\r\n                    product.shipping_time_hours ? (product.shipping_time_hours + 'å°æ—¶') : 'å¾…å®š' }}</text></view>\r\n                  <!-- <view class=\"pd-param-item\"><text class=\"key\">å”®å</text><text class=\"val\">{{\r\n                    product.support_no_reason_return_7d ? 'ä¸ƒå¤©æ— ç†ç”±' : 'æ— ' }}</text></view> -->\r\n                </view>\r\n              </view>\r\n\r\n              <view class=\"pd-card pd-detail\">\r\n                <text class=\"pd-section-title\" selectable=\"true\">å›¾æ–‡è¯¦æƒ…</text>\r\n                <image v-for=\"(src, i) in product.details_images\" :key=\"'d' + i\" class=\"pd-detail-img\" :src=\"src\"\r\n                  mode=\"widthFix\" @click=\"previewDetailImage(src)\" />\r\n              </view>\r\n            </view>\r\n\r\n            <!-- å³ä¾§ï¼šä¿æŒç°æœ‰ä¿¡æ¯ä¸æŒ‰é’®ï¼Œä¸åšå…¶å®ƒæ”¹åŠ¨ -->\r\n            <view class=\"pd-right\">\r\n              <view class=\"pd-info\">\r\n                <view class=\"pd-title-row\">\r\n                  <text class=\"pd-title\" selectable=\"true\">{{ product.title }}</text>\r\n                  <text class=\"fav-star\" :class=\"{ active: isFavorite }\" @click=\"favProduct\">{{ isFavorite ? 'â˜…' : 'â˜†' }}</text>\r\n                </view>\r\n                <view class=\"pd-meta\">\r\n                  <text selectable=\"true\">{{ product.is_free_shipping ? 'åŒ…é‚®' : 'ä¸åŒ…é‚®' }} ï½œ {{ product.shipping_time_hours ?\r\n                    (product.shipping_time_hours + 'å°æ—¶å†…å‘è´§') : 'å‘è´§æ—¶é—´å¾…å®š' }} ï½œ {{ product.support_no_reason_return_7d ?\r\n                      'ä¸ƒå¤©æ— ç†ç”±' : 'ä¸æ”¯æŒä¸ƒå¤©æ— ç†ç”±' }}</text>\r\n                </view>\r\n                <view class=\"pd-price-row\">\r\n                  <text class=\"pd-price\" selectable=\"true\">{{ displayTopPriceWithSymbol }}</text>\r\n                  <text class=\"pd-coupon\" selectable=\"true\">åˆ¸åæ›´ä½</text>\r\n                </view>\r\n\r\n\r\n                <view>\r\n                  <text class=\"pd-section-title\" selectable=\"true\">è§„æ ¼æ˜ç»†</text>\r\n                  <view v-if=\"specsLoading\"><text class=\"pd-meta\">åŠ è½½ä¸­...</text></view>\r\n                  <view v-else-if=\"specs && specs.length\" class=\"specs-list\">\r\n                    <view class=\"spec-item\" v-for=\"(it, i) in specs\" :key=\"'h5sp' + i\"\r\n                      :class=\"{ active: selectedSpecIndex === i, disabled: isSpecDisabled(it) }\" @click=\"onClickSpec(it, i)\">\r\n                      <!-- <image class=\"spec-thumb\" :src=\"it.image_url || '/static/logo.png'\" mode=\"aspectFill\" /> -->\r\n                      <view class=\"spec-info\">\r\n                        <text class=\"spec-name\" selectable=\"true\">{{ it.name }}</text>\r\n                        <view class=\"spec-price-row\">\r\n                          <text class=\"spec-price\" selectable=\"true\">{{ formatPriceWithSymbol(it.price) }}</text>\r\n                          <text v-if=\"Number(it.original_price) > 0\" class=\"spec-oprice\">Â¥{{\r\n                            Number(it.original_price).toFixed(2) }}</text>\r\n                        </view>\r\n                        <text class=\"spec-unit\" selectable=\"true\">å•ä½ï¼š{{ it.unit || 'â€”' }}</text>\r\n                      </view>\r\n                      <view v-if=\"String(it.product_type || '').toLowerCase() === 'stagnant' && Number(it.inventory) === 0\" class=\"spec-mask\">\r\n                        <image class=\"spec-mask-ico\" src=\"/static/no.png\" mode=\"aspectFit\" />\r\n                      </view>\r\n                    </view>\r\n                  </view>\r\n                  <view v-else><text class=\"pd-meta\">æš‚æ— è§„æ ¼æ•°æ®</text></view>\r\n                </view>\r\n\r\n                <view class=\"pd-address\">\r\n                  <text class=\"pd-section-title\" selectable=\"true\">æ”¶è´§åœ°å€</text>\r\n                  <view class=\"address-card\">\r\n                    <view v-if=\"selectedAddress\" class=\"addr-body\">\r\n                      <text class=\"addr-line\" selectable=\"true\">{{ selectedAddress.receiver }} {{ selectedAddress.phone }}</text>\r\n                      <text class=\"addr-line\" selectable=\"true\">{{ selectedAddress.province }} {{ selectedAddress.city }} {{\r\n                        selectedAddress.district }} {{ selectedAddress.detail_address }}</text>\r\n                    </view>\r\n                    <view v-else class=\"addr-empty\" selectable=\"true\">æœªé€‰æ‹©æ”¶è´§åœ°å€</view>\r\n                    <view class=\"addr-actions\">\r\n                      <button class=\"addr-btn\" @click=\"openH5AddressSheet\">é€‰æ‹©åœ°å€</button>\r\n                    </view>\r\n                  </view>\r\n                </view>\r\n\r\n                <view class=\"pd-form\">\r\n                  <view class=\"pd-field inline\">\r\n                    <text class=\"pd-section-title\" selectable=\"true\">æˆ¿é—´</text>\r\n                    <view id=\"og-room-select\" class=\"picker-display\" @click=\"openRoomSheet\">{{ roomName || 'è¯·é€‰æ‹©æˆ¿é—´' }}</view>\r\n                  </view>\r\n                  <!-- <view class=\"pd-field inline\">\r\n              <text class=\"label\">è‰²æ¸©</text>\r\n              <input class=\"pd-input\" v-model=\"specTemp\" placeholder=\"å¦‚ 3000K / 4000K\" />\r\n            </view> -->\r\n                  <view class=\"pd-field inline\" v-if=\"selectedSpec && selectedSpec.has_length === 1\">\r\n                    <text class=\"label\">é•¿åº¦</text>\r\n                    <input class=\"pd-input\" v-model=\"specLength\" placeholder=\"å¡«å†™æ•°å­—\" />\r\n                    <text class=\"unit-tip\">{{ lengthUnitText }}</text>\r\n                  </view>\r\n                  <view class=\"pd-field inline\">\r\n                    <text class=\"label\">å¤‡æ³¨</text>\r\n                    <input class=\"pd-input\" v-model=\"h5OrderNote\" placeholder=\"å¡«å†™å¤‡æ³¨\" />\r\n                  </view>\r\n                </view>\r\n\r\n                <view class=\"pd-actions-row\">\r\n                  <!-- <text class=\"label\" selectable=\"true\">æ•°é‡</text> -->\r\n                  <view class=\"qty-box-large\">\r\n                    <view class=\"qty-btn\" @click=\"decQty\">-</view>\r\n                    <input class=\"qty-input\" v-model=\"qty\" type=\"number\" placeholder=\"æ•°é‡\" @blur=\"normalizeQty\" />\r\n                    <view class=\"qty-btn\" @click=\"incQty\">+</view>\r\n                  </view>\r\n                  <button class=\"btn-action btn-cart\" @click=\"addToCartWithQty\">åŠ å…¥è´­ç‰©è½¦</button>\r\n                  <button class=\"btn-action btn-buy\" @click=\"buyNow\">ç«‹å³è´­ä¹°</button>\r\n                </view>\r\n              </view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n      <FloatingNav :hoverReveal=\"true\" />\r\n      <!-- #endif -->\r\n\r\n      <!-- #ifdef MP-WEIXIN -->\r\n      <!-- èƒŒæ™¯å›¾ç§»é™¤ -->\r\n      <!-- #endif -->\r\n\r\n      <!-- #ifndef H5 -->\r\n      <swiper class=\"cover\" indicator-dots :current=\"current\" :autoplay=\"false\" circular interval=\"3000\" @change=\"onSwiperChange\">\r\n        <swiper-item v-for=\"(item, index) in images\" :key=\"index\">\r\n          <video\r\n            v-if=\"isVideo(item)\"\r\n            :id=\"index === current ? 'mp-video' : ('mp-video-' + index)\"\r\n            :src=\"item\"\r\n            controls\r\n            style=\"width: 100%; height: 100%;\"\r\n            object-fit=\"contain\"\r\n            :autoplay=\"false\"\r\n            @play=\"pauseCarousel\"\r\n            @ended=\"onVideoEnded\"\r\n          ></video>\r\n          <image v-else :src=\"item\" mode=\"aspectFill\" style=\"width: 100%; height: 100%;\" @click=\"previewMpImage(item)\" />\r\n        </swiper-item>\r\n      </swiper>\r\n      <view class=\"info mp-info-spacing\">\r\n        <view class=\"mp-title-row\">\r\n          <text class=\"title\" selectable=\"true\">{{ product.title }}</text>\r\n          <text class=\"fav-star\" :class=\"{ active: isFavorite }\" @click=\"favProduct\">{{ isFavorite ? 'â˜…' : 'â˜†' }}</text>\r\n        </view>\r\n        <view class=\"mp-price-row\">\r\n          <text class=\"price\" selectable=\"true\">{{ formatPriceWithSymbol(product.price) }}</text>\r\n          <text class=\"sales\" selectable=\"true\">é”€é‡ {{ product.sales }}</text>\r\n        </view>\r\n      </view>\r\n      <!-- MP ç«¯å‚æ•°ä¿¡æ¯ä¸å›¾æ–‡è¯¦æƒ… -->\r\n      <view class=\"mp-section mp-section-spacing\">\r\n        <text class=\"mp-title\" selectable=\"true\">å‚æ•°ä¿¡æ¯</text>\r\n        <view class=\"mp-param-grid\">\r\n          <view class=\"mp-param-item\"><text class=\"key\" selectable=\"true\">å‹å·</text><text class=\"val\" selectable=\"true\">{{ product.id || 'é»˜è®¤æ¬¾' }}</text>\r\n          </view>\r\n          <view class=\"mp-param-item\"><text class=\"key\" selectable=\"true\">åç§°</text><text class=\"val\" selectable=\"true\">{{ product.title }}</text></view>\r\n          <view class=\"mp-param-item\"><text class=\"key\" selectable=\"true\">è§„æ ¼</text><text class=\"val\" selectable=\"true\">é»˜è®¤è§„æ ¼</text></view>\r\n          <view class=\"mp-param-row-inline\">\r\n            <view class=\"mp-param-item inline\"><text class=\"key\" selectable=\"true\">äº§åœ°</text><text class=\"val\" selectable=\"true\">{{ product.shipping_origin ?\r\n              product.shipping_origin.replace(/çœ|å¸‚/g, '') :\r\n              'â€”' }}</text></view>\r\n            <view class=\"mp-param-item inline\"><text class=\"key\" selectable=\"true\">å•ä½</text><text class=\"val\" selectable=\"true\">ä»¶</text></view>\r\n            <view class=\"mp-param-item inline\"><text class=\"key\" selectable=\"true\">å•ä½ä»·æ ¼</text><text class=\"val\" selectable=\"true\">Â¥{{\r\n              product.price.toFixed(2)\r\n            }}</text></view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n      <view class=\"mp-section\">\r\n        <text class=\"mp-title\" selectable=\"true\">å›¾æ–‡è¯¦æƒ…</text>\r\n        <image v-for=\"(src, i) in product.details_images\" :key=\"'md' + i\" class=\"mp-detail-img\" :src=\"src\"\r\n          mode=\"widthFix\" @click=\"previewDetailImage(src)\" />\r\n      </view>\r\n      <view class=\"footer\">\r\n        <!-- #ifdef MP-WEIXIN -->\r\n        <button id=\"og-product-add\" class=\"btn-cart\" @click=\"openSpecSheet\">åŠ å…¥è´­ç‰©è½¦</button>\r\n        <!-- #endif -->\r\n        <!-- #ifndef MP-WEIXIN -->\r\n        <button id=\"og-product-add\" class=\"btn-cart\" @click=\"addToCart\">åŠ å…¥è´­ç‰©è½¦</button>\r\n        <!-- #endif -->\r\n      </view>\r\n\r\n      <!-- #ifdef MP-WEIXIN -->\r\n      <view v-if=\"mpSheet\" class=\"mp-mask\" @click=\"closeSpecSheet\" catchtouchmove=\"true\"\r\n        @touchmove.stop.prevent=\"() => { }\">\r\n        <view class=\"mp-sheet\" @click.stop>\r\n          <view class=\"mp-title\" selectable=\"true\">å¡«å†™è§„æ ¼</view>\r\n          <scroll-view scroll-y class=\"mp-scroll-view\">\r\n            <view class=\"mp-address-bar\" @click=\"openMpAddressSheet\">\r\n              <view class=\"bar-left\">\r\n                <text class=\"addr-icon\">ğŸ“</text>\r\n                <view class=\"bar-info\">\r\n                  <text v-if=\"selectedAddress\" class=\"bar-line\">{{ selectedAddress.receiver }} {{ selectedAddress.phone\r\n                  }}</text>\r\n                  <text v-if=\"selectedAddress\" class=\"bar-line\">{{ selectedAddress.province }} {{ selectedAddress.city\r\n                  }} {{ selectedAddress.district }} {{ selectedAddress.detail_address }}</text>\r\n                  <text v-else class=\"bar-line\">è¯·é€‰æ‹©æ”¶è´§åœ°å€</text>\r\n                </view>\r\n              </view>\r\n              <button size=\"mini\" class=\"bar-btn\">é€‰æ‹©æ”¶è´§åœ°å€</button>\r\n            </view>\r\n            <!-- è§„æ ¼æ˜ç»†ï¼ˆé€‚é… data.childrenï¼‰ï¼Œå‚è€ƒæ·˜å®/äº¬ä¸œæ ·å¼ -->\r\n            <view class=\"mp-title\" selectable=\"true\">è§„æ ¼æ˜ç»†</view>\r\n            <view v-if=\"specsLoading\" class=\"mp-param-grid\">\r\n              <view class=\"mp-param-item\"><text class=\"key\">åŠ è½½ä¸­...</text><text class=\"val\"></text></view>\r\n            </view>\r\n            <view v-else-if=\"specs && specs.length\" class=\"specs-list\">\r\n              <view class=\"spec-item\" v-for=\"(it, i) in (isSpecsCollapsed ? specs.slice(0, 2) : specs)\"\r\n                :key=\"'mpsp' + i\" :class=\"{ active: selectedSpecIndex === i, disabled: isSpecDisabled(it) }\" @click=\"onClickSpec(it, i)\">\r\n                <!-- <image class=\"spec-thumb\" :src=\"it.image_url || '/static/logo.png'\" mode=\"aspectFill\" /> -->\r\n                <view class=\"spec-info\">\r\n                  <text class=\"spec-name\" selectable=\"true\">{{ it.name }}</text>\r\n                  <view class=\"spec-price-row\">\r\n                    <text class=\"spec-price\" selectable=\"true\">{{ formatPriceWithSymbol(it.price) }}</text>\r\n                    <text v-if=\"Number(it.original_price) > 0\" class=\"spec-oprice\">Â¥{{\r\n                      Number(it.original_price).toFixed(2) }}</text>\r\n                  </view>\r\n                  <text class=\"spec-unit\" selectable=\"true\">å•ä½ï¼š{{ it.unit || 'â€”' }}</text>\r\n                </view>\r\n                <view v-if=\"String(it.product_type || '').toLowerCase() === 'stagnant' && Number(it.inventory) === 0\" class=\"spec-mask\">\r\n                  <image class=\"spec-mask-ico\" src=\"/static/no.png\" mode=\"aspectFit\" />\r\n                </view>\r\n              </view>\r\n              <!-- å±•å¼€/æ”¶èµ·æŒ‰é’® -->\r\n              <view v-if=\"specs.length >= 3\" class=\"specs-toggle\" @click=\"isSpecsCollapsed = !isSpecsCollapsed\">\r\n                <text>{{ isSpecsCollapsed ? 'å±•å¼€æ›´å¤š' : 'æ”¶èµ·' }}</text>\r\n                <text class=\"toggle-icon\">{{ isSpecsCollapsed ? 'â–¼' : 'â–²' }}</text>\r\n              </view>\r\n            </view>\r\n            <view v-else class=\"mp-param-grid\">\r\n              <view class=\"mp-param-item\"><text class=\"key\">æš‚æ— è§„æ ¼æ•°æ®</text><text class=\"val\">â€”</text></view>\r\n            </view>\r\n\r\n            <view class=\"mp-field\"><text class=\"label\">æˆ¿é—´</text>\r\n              <view id=\"og-mp-room-select\" class=\"mp-input\" @click=\"openMpRoomSheet\">{{ mpRoom || 'è¯·é€‰æ‹©æˆ¿é—´' }}</view>\r\n            </view>\r\n            <!-- <view class=\"mp-field\"><text class=\"label\">è‰²æ¸©</text><input class=\"mp-input\" v-model=\"mpTemp\"\r\n              placeholder=\"å¦‚ 3000K\" /></view> -->\r\n            <view class=\"mp-field\" v-if=\"selectedSpec && selectedSpec.has_length === 1\">\r\n              <text class=\"label\">é•¿åº¦</text>\r\n              <input class=\"mp-input\" v-model=\"mpLength\" placeholder=\"å¡«å†™æ•°å­—\" />\r\n              <text v-if=\"selectedSpec.length_unit\" class=\"unit-tip\">{{ selectedSpec.length_unit }}</text>\r\n            </view>\r\n            <view class=\"mp-field\">\r\n              <text class=\"label\">å¤‡æ³¨</text>\r\n              <input class=\"mp-input\" v-model=\"mpOrderNote\" placeholder=\"å¡«å†™å¤‡æ³¨\" />\r\n            </view>\r\n            <view class=\"mp-field\">\r\n              <view class=\"qty-stepper\">\r\n                <button class=\"step\" @click=\"mpQty = Math.max(1, Number(mpQty) - 1)\">-</button>\r\n                <input class=\"count-input\" v-model=\"mpQty\" type=\"number\" placeholder=\"å¡«å†™æ•°é‡\" @blur=\"normalizeMpQty\" />\r\n                <button class=\"step\" @click=\"mpQty = Math.max(1, Number(mpQty) + 1)\">+</button>\r\n              </view>\r\n            </view>\r\n          </scroll-view>\r\n          <view class=\"mp-actions\">\r\n            <button class=\"mp-btn ghost\" @click=\"closeSpecSheet\">å–æ¶ˆ</button>\r\n            <button class=\"mp-btn primary\" @click=\"confirmSpecToCart\">ç¡®å®šåŠ å…¥</button>\r\n          </view>\r\n        </view>\r\n      </view>\r\n      <!-- MP Room Selection Modal -->\r\n      <!-- #endif -->\r\n      <!-- #endif -->\r\n    </block>\r\n    <RoomSelector :visible=\"roomSelectorVisible\" :rooms=\"selectorRooms\" :type=\"selectorType\"\r\n      :selectedName=\"selectorSelectedName\" @close=\"closeRoomSheet\" @select=\"onRoomSelect\" @create=\"onRoomCreate\"\r\n      @createAddress=\"onCreateAddress\" />\r\n  </view>\r\n  <OnboardingGuide\r\n    v-if=\"showOnboarding\"\r\n    :steps=\"onboardingSteps\"\r\n    :targets=\"onboardingRects\"\r\n    :initialIndex=\"onboardingIndex\"\r\n    @advance=\"handleOnboardingNext\"\r\n    @back=\"handleOnboardingPrev\"\r\n    @close=\"closeOnboarding\"\r\n  />\r\n  <LoginPrompt :visible=\"showLoginModal\" @close=\"closeLoginModal\" @confirm=\"goLogin\" />\r\n</template>\r\n\r\n<script>\r\nimport { getProductDetail, getProductSpecs, getRooms, createRoom, addCartItem, getCartItems, createOrderByIds, getAddresses, addAddress, createDirectOrder, addFavorite, deleteFavorite } from '../../api/index.js'\r\nimport RoomSelector from '../../components/RoomSelector.vue'\r\nimport FloatingNav from '@/components/FloatingNav.vue'\r\nimport Skeleton from '@/components/Skeleton.vue'\r\nimport OnboardingGuide from '@/components/OnboardingGuide.vue'\r\nimport LoginPrompt from '@/components/LoginPrompt.vue'\r\n\r\nexport default {\r\n  components: { RoomSelector, FloatingNav, Skeleton, OnboardingGuide, LoginPrompt },\r\n  data() { return { hls: null, product: null, shareProductId: '', current: 0, qty: 1, specTemp: '', specLength: '', roomName: '', roomId: '', roomsRaw: [], mpSheet: false, mpRoomSheet: false, mpTemp: '', mpLength: '', mpRoom: '', mpQty: 1, mpOrderNote: '', specs: [], specsLoading: false, roomSheet: false, roomsList: [], roomInput: '', selectedSpecIndex: -1, isSpecsCollapsed: true, lockScroll: false, lockScrollTop: 0, roomSelectorVisible: false, roomSelectorMode: 'h5', addresses: [], selectedAddress: null, h5OrderNote: '', isFavorite: false, swiperTimer: null, carouselInterval: 3000, lockCarousel: false, showOnboarding: false, onboardingRects: [], onboardingSteps: [], onboardingIndex: 0, showLoginModal: false } },\r\n  onLoad(query) {\r\n    const id = decodeURIComponent(query?.id || '')\r\n    this.shareProductId = id\r\n    if (!id) { this.product = { id: '', title: 'å•†å“', price: 0, sales: 0, image: '/static/logo.png', images: ['/static/logo.png'] }; return }\r\n    getProductDetail({ available_product_id: id })\r\n      .then((res) => {\r\n        const d = res?.data || {}\r\n        const clean = (u) => typeof u === 'string' ? u.replace(/`/g, '').trim() : ''\r\n        const arr = (x) => Array.isArray(x) ? x.map(clean).filter(Boolean) : []\r\n        const main = arr(d.main_image)\r\n        const videos = arr(d.video_url)\r\n        const detailImgs = arr(d.images)\r\n        const price = Number(d.price ?? 0) || 0\r\n        const base = {\r\n          id: d.available_product_id || id,\r\n          title: d.name || ('å•†å“ ' + id),\r\n          price,\r\n          sales: 0,\r\n          type: d.type || d.product_type || '',\r\n          comment: d.comment || '',\r\n          shipping_origin: clean(d.shipping_origin) || '',\r\n          main_media: [...main, ...videos].length ? [...main, ...videos] : ['/static/logo.png'],\r\n          details_images: detailImgs,\r\n          shipping_time_hours: d.shipping_time_hours || 0,\r\n          support_no_reason_return_7d: d.support_no_reason_return_7d || 0,\r\n          is_free_shipping: d.is_free_shipping || 0,\r\n          image: main[0] || '/static/logo.png',\r\n          images: [...main, ...videos].length ? [...main, ...videos] : ['/static/logo.png']\r\n        }\r\n        this.product = base\r\n        this.isFavorite = (String(d.is_favorite) === '1') || (d.is_favorite === 1) || (d.is_favorite === true)\r\n        this.fetchSpecs(base.id)\r\n        this.resetCarouselTimer()\r\n        this.$nextTick(() => {\r\n          const src = this.currentImage\r\n          if (this.isVideo(src)) {\r\n            this.lockCarousel = true\r\n            this.stopCarousel()\r\n            try {\r\n              const ctx1 = uni.createVideoContext('pd-video', this)\r\n              const ctx2 = uni.createVideoContext('mp-video', this)\r\n              if (ctx1 && typeof ctx1.play === 'function') ctx1.play()\r\n              else if (ctx2 && typeof ctx2.play === 'function') ctx2.play()\r\n            } catch (e) {}\r\n          }\r\n        })\r\n      })\r\n      .catch(() => {\r\n        // æ¥å£å¤±è´¥æ—¶ä¿åº•å±•ç¤º\r\n        this.product = { id, title: 'å•†å“ ' + id, price: 0, sales: 0, shipping_origin: '', image: '/static/logo.png', images: ['/static/logo.png'] }\r\n        this.fetchSpecs(id)\r\n        this.resetCarouselTimer()\r\n        this.$nextTick(() => {\r\n          const src = this.currentImage\r\n          if (this.isVideo(src)) {\r\n            this.lockCarousel = true\r\n            this.stopCarousel()\r\n            try {\r\n              const ctx1 = uni.createVideoContext('pd-video', this)\r\n              const ctx2 = uni.createVideoContext('mp-video', this)\r\n              if (ctx1 && typeof ctx1.play === 'function') ctx1.play()\r\n              else if (ctx2 && typeof ctx2.play === 'function') ctx2.play()\r\n            } catch (e) {}\r\n          }\r\n        })\r\n      })\r\n  },\r\n  onShow() {\r\n    try {\r\n      const uniAny = uni\r\n      if (uniAny && typeof uniAny.showShareMenu === 'function') {\r\n        uniAny.showShareMenu({ withShareTicket: true, menus: ['shareAppMessage', 'shareTimeline'] })\r\n        return\r\n      }\r\n    } catch (e) {}\r\n    try {\r\n      const wxAny = typeof wx !== 'undefined' ? wx : null\r\n      if (wxAny && typeof wxAny.showShareMenu === 'function') {\r\n        wxAny.showShareMenu({ withShareTicket: true, menus: ['shareAppMessage', 'shareTimeline'] })\r\n      }\r\n    } catch (e) {}\r\n  },\r\n  created() {\r\n    try {\r\n      const h = () => { this.showLoginModal = true }\r\n      this._globalLoginHandler = h\r\n      uni.$on('global-login-prompt', h)\r\n    } catch (e) {}\r\n  },\r\n  onUnload() {\r\n    try {\r\n      if (this._globalLoginHandler) uni.$off('global-login-prompt', this._globalLoginHandler)\r\n      this._globalLoginHandler = null\r\n    } catch (e) {}\r\n  },\r\n  onShareAppMessage() {\r\n    let imageUrl = '/static/logo.png'\r\n    try { imageUrl = uni.getStorageSync('share_image_url') || imageUrl } catch (e) {}\r\n    return { title: 'è¯ºç±³ç¯å…‰å®šåˆ¶', path: '/pages/home/index', imageUrl }\r\n  },\r\n  onShareTimeline() {\r\n    let imageUrl = '/static/logo.png'\r\n    try { imageUrl = uni.getStorageSync('share_image_url') || imageUrl } catch (e) {}\r\n    return { title: 'è¯ºç±³ç¯å…‰å®šåˆ¶', query: '', imageUrl }\r\n  },\r\n  computed: {\r\n    selectorType() {\r\n      return this.roomSelectorMode === 'addr' ? 'addr' : 'room'\r\n    },\r\n    isStagnantProduct() {\r\n      const t = String(this.product?.type || this.product?.product_type || this.product?.category || '').toLowerCase()\r\n      if (!t) {\r\n        const c = String((this.product && this.product.comment) || '').toLowerCase()\r\n        return c.includes('stagnant') || c.includes('å‘†æ»')\r\n      }\r\n      return t.includes('stagnant') || t.includes('å‘†æ»')\r\n    },\r\n    images() {\r\n      const imgs = (this.product && this.product.main_media) || []\r\n      return imgs.length ? imgs : [this.product?.image || '/static/logo.png']\r\n    },\r\n    currentImage() {\r\n      const arr = this.images\r\n      return arr[this.current] || arr[0]\r\n    },\r\n    videoSrc() {\r\n      const src = this.currentImage\r\n      if (!this.isVideo(src)) return ''\r\n      if (src.includes('.m3u8')) return ''\r\n      const hasQuery = src.includes('?')\r\n      const t = Date.now()\r\n      return hasQuery ? (src + '&t=' + t) : (src + '?t=' + t)\r\n    },\r\n    selectedSpec() {\r\n      return (this.selectedSpecIndex >= 0 && this.specs[this.selectedSpecIndex]) ? this.specs[this.selectedSpecIndex] : null\r\n    },\r\n    addressRooms() {\r\n      return (this.addresses || []).map(a => ({ name: `${a.receiver} ${a.phone} ${[a.province, a.city, a.district, a.detail_address].filter(Boolean).join(' ')}`.trim(), raw: a }))\r\n    },\r\n    selectorRooms() {\r\n      return this.roomSelectorMode === 'addr' ? this.addressRooms : this.roomsRaw\r\n    },\r\n    selectorSelectedName() {\r\n      if (this.roomSelectorMode === 'mp') return this.mpRoom || ''\r\n      if (this.roomSelectorMode === 'h5') return this.roomName || ''\r\n      const a = this.selectedAddress\r\n      return a ? `${a.receiver} ${a.phone} ${[a.province, a.city, a.district, a.detail_address].filter(Boolean).join(' ')}`.trim() : ''\r\n    },\r\n    mpAddressDisplay() {\r\n      const a = this.selectedAddress\r\n      return a ? `${a.receiver} ${a.phone} ${[a.province, a.city, a.district, a.detail_address].filter(Boolean).join(' ')}`.trim() : ''\r\n    },\r\n    lengthUnitText() {\r\n      try {\r\n        const u = String(this.selectedSpec?.length_unit || '').toLowerCase()\r\n        if (u.includes('mm')) return 'mm'\r\n        if (u.includes('cm')) return 'cm'\r\n        if (u.includes('dm')) return 'dm'\r\n        if (u.includes('m')) return 'm'\r\n        return 'm'\r\n      } catch (e) { return 'm' }\r\n    },\r\n    displayTopPrice() {\r\n      const sel = this.selectedSpec\r\n      const rawBase = sel ? sel.price : this.product?.price\r\n      if (rawBase === '-' || rawBase === 'â€”') return '-'\r\n      const basePerM = Number(rawBase || 0) || 0\r\n      if (sel && sel.has_length === 1) {\r\n        const rawStr = (this.specLength || '').replace(/[^0-9.]/g, '')\r\n        const raw = rawStr ? Number(rawStr) : 0\r\n        if (raw > 0) {\r\n          const meters = this.toMeters(raw, this.lengthUnitText)\r\n          return (basePerM * meters).toFixed(2)\r\n        }\r\n        return `${basePerM.toFixed(2)}/m`\r\n      }\r\n      return basePerM.toFixed(2)\r\n    },\r\n    displayTopPriceWithSymbol() {\r\n      const s = this.displayTopPrice\r\n      if (s === '-') return '-'\r\n      return 'Â¥' + s\r\n    }\r\n  },\r\n  watch: {\r\n    currentImage: {\r\n      handler(val) { this.initHls(val) },\r\n      immediate: true\r\n    }\r\n    ,\r\n    current(val) {\r\n      const src = (this.images || [])[val]\r\n      if (this.isVideo(src)) {\r\n        this.$nextTick(() => {\r\n          try {\r\n            const ctx1 = uni.createVideoContext('pd-video', this)\r\n            const ctx2 = uni.createVideoContext('mp-video', this)\r\n            if (ctx1 && typeof ctx1.play === 'function') ctx1.play()\r\n            else if (ctx2 && typeof ctx2.play === 'function') ctx2.play()\r\n          } catch (e) { }\r\n        })\r\n        this.lockCarousel = true\r\n      } else {\r\n        this.lockCarousel = false\r\n        this.resetCarouselTimer()\r\n      }\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    if (this.hls) {\r\n      this.hls.destroy()\r\n      this.hls = null\r\n    }\r\n    this.stopCarousel()\r\n  },\r\n  onShow() {\r\n    this.loadAddresses()\r\n    try {\r\n      const cont = !!uni.getStorageSync('onboarding_continue')\r\n      const sel = uni.getStorageSync('onboarding_target_selector') || ''\r\n      const idx = Number(uni.getStorageSync('onboarding_index') || 0)\r\n      const stepsStored = uni.getStorageSync('onboarding_steps') || []\r\n      if (cont && sel) {\r\n        if (Array.isArray(stepsStored) && stepsStored.length) this.onboardingSteps = stepsStored\r\n        const safeIdx = Math.max(0, Math.min(idx, this.onboardingSteps.length - 1))\r\n        this.onboardingIndex = safeIdx\r\n        this.$nextTick(() => {\r\n          let isH5 = false\r\n          try { isH5 = typeof window !== 'undefined' } catch (e) { isH5 = false }\r\n          if (sel === '#og-room-modal' || sel === '#og-room-modal-list') {\r\n            if (isH5) this.openRoomSheet()\r\n            else this.openMpRoomSheet()\r\n            setTimeout(() => { this.tryShowOnboarding('#og-room-modal-list', 10) }, 220)\r\n          } else {\r\n            this.tryShowOnboarding(sel, 8)\r\n          }\r\n        })\r\n      }\r\n    } catch (e) {}\r\n  },\r\n  methods: {\r\n    tryShowOnboarding(sel, tries) {\r\n      const max = Math.max(1, Number(tries || 6))\r\n      const attempt = (left) => {\r\n        let isH5 = false\r\n        try { isH5 = typeof window !== 'undefined' } catch (e) { isH5 = false }\r\n        if (isH5) {\r\n          const el = typeof document !== 'undefined' ? document.querySelector(sel) : null\r\n          if (el) {\r\n            this.refreshOnboardingRect(sel)\r\n            return\r\n          }\r\n        } else {\r\n          const q = uni.createSelectorQuery().in(this)\r\n          q.select(sel).boundingClientRect()\r\n          q.exec(res => {\r\n            const r = (res || [])[0]\r\n            if (r) {\r\n              this.refreshOnboardingRect(sel)\r\n              return\r\n            }\r\n          })\r\n        }\r\n        if (!this.showOnboarding) this.showOnboarding = true\r\n        if (left > 0) { setTimeout(() => attempt(left - 1), 160) }\r\n      }\r\n      attempt(max)\r\n    },\r\n    goBack() {\r\n      if (typeof window !== 'undefined' && window.history && window.history.length > 1) { window.history.back(); return }\r\n      if (uni && uni.switchTab) { uni.switchTab({ url: '/pages/home/index' }); return }\r\n      if (uni && uni.navigateTo) { uni.navigateTo({ url: '/pages/home/index' }); return }\r\n    },\r\n    initHls(src) {\r\n      // #ifdef H5\r\n      if (this.hls) {\r\n        this.hls.destroy()\r\n        this.hls = null\r\n      }\r\n      if (!src || !this.isVideo(src)) return\r\n      if (!src.includes('.m3u8')) return\r\n\r\n      this.$nextTick(() => {\r\n        let el = document.querySelector('#pd-video video') || document.querySelector('#pd-video')\r\n        if (el && el.tagName !== 'VIDEO') el = el.querySelector('video')\r\n        if (!el) return\r\n        try { el.setAttribute('crossorigin', 'anonymous') } catch (e) { }\r\n\r\n        if (window.Hls && Hls.isSupported()) {\r\n          this.hls = new Hls()\r\n          const hasQuery = src.includes('?')\r\n          const bust = hasQuery ? (src + '&t=' + Date.now()) : (src + '?t=' + Date.now())\r\n          this.hls.loadSource(bust)\r\n          this.hls.attachMedia(el)\r\n          this.hls.on(Hls.Events.ERROR, (event, data) => {\r\n            if (data && data.fatal) {\r\n              try { this.hls.destroy() } catch (e) { }\r\n              this.hls = null\r\n              try { uni.showToast({ title: 'è§†é¢‘èµ„æºæœªæ‰¾åˆ°', icon: 'none' }) } catch (e) { }\r\n              const imgs = (this.images || []).filter(u => !this.isVideo(u))\r\n              if (imgs.length) {\r\n                const idx = (this.images || []).findIndex(u => u === imgs[0])\r\n                this.current = idx >= 0 ? idx : 0\r\n              } else {\r\n                this.current = 0\r\n              }\r\n            }\r\n          })\r\n        } else if (el && el.canPlayType && el.canPlayType('application/vnd.apple.mpegurl')) {\r\n          const hasQuery = src.includes('?')\r\n          el.src = hasQuery ? (src + '&t=' + Date.now()) : (src + '?t=' + Date.now())\r\n        }\r\n      })\r\n      // #endif\r\n    },\r\n    isVideo(src) {\r\n      if (!src) return false\r\n      return src.includes('.mp4') || src.includes('.m3u8')\r\n    },\r\n    onSwiperChange(e) {\r\n      try {\r\n        const idx = (e && e.detail && typeof e.detail.current === 'number') ? e.detail.current : 0\r\n        this.current = idx\r\n        const src = (this.images || [])[idx]\r\n        if (this.isVideo(src)) {\r\n          this.lockCarousel = true\r\n          this.stopCarousel()\r\n          this.$nextTick(() => {\r\n            try {\r\n              const ctx1 = uni.createVideoContext('pd-video', this)\r\n              const ctx2 = uni.createVideoContext('mp-video', this)\r\n              if (ctx1 && typeof ctx1.play === 'function') ctx1.play()\r\n              else if (ctx2 && typeof ctx2.play === 'function') ctx2.play()\r\n            } catch (e) { }\r\n          })\r\n        } else {\r\n          this.lockCarousel = false\r\n          this.resetCarouselTimer()\r\n        }\r\n      } catch (e) {}\r\n    },\r\n    pauseCarousel() {\r\n      this.lockCarousel = true\r\n      this.stopCarousel()\r\n    },\r\n    onVideoEnded() {\r\n      this.lockCarousel = false\r\n      const n = (this.images || []).length || 1\r\n      setTimeout(() => {\r\n        this.current = (this.current + 1) % n\r\n        this.resetCarouselTimer()\r\n      }, 1000)\r\n    },\r\n    startCarousel() {\r\n      if (this.swiperTimer) return\r\n      const interval = Number(this.carouselInterval) || 3000\r\n      this.swiperTimer = setInterval(() => {\r\n        try {\r\n          if (this.lockCarousel) return\r\n          const n = (this.images || []).length || 1\r\n          this.current = (this.current + 1) % n\r\n        } catch (e) {}\r\n      }, interval)\r\n    },\r\n    stopCarousel() {\r\n      try {\r\n        if (this.swiperTimer) { clearInterval(this.swiperTimer); this.swiperTimer = null }\r\n      } catch (e) {}\r\n    },\r\n    resetCarouselTimer() {\r\n      this.stopCarousel()\r\n      this.startCarousel()\r\n    },\r\n    refreshOnboardingRect(sel) {\r\n      let isH5 = false\r\n      try { isH5 = typeof window !== 'undefined' } catch (e) { isH5 = false }\r\n      const total = this.onboardingSteps.length || 0\r\n      const arr = new Array(total).fill(null)\r\n      if (isH5) {\r\n        const el = typeof document !== 'undefined' ? document.querySelector(sel) : null\r\n        if (el) {\r\n          const r = el.getBoundingClientRect()\r\n          arr[this.onboardingIndex] = { left: r.left, top: r.top, width: r.width, height: r.height }\r\n          this.onboardingRects = arr\r\n          this.showOnboarding = true\r\n        }\r\n      } else {\r\n        const q = uni.createSelectorQuery().in(this)\r\n        q.select(sel).boundingClientRect()\r\n        q.exec(res => {\r\n          const r = (res || [])[0]\r\n          if (r) {\r\n            arr[this.onboardingIndex] = { left: r.left, top: r.top, width: r.width, height: r.height }\r\n            this.onboardingRects = arr\r\n            this.showOnboarding = true\r\n          }\r\n        })\r\n      }\r\n    },\r\n    handleOnboardingNext(nextIndex) {\r\n      const idx = Number(nextIndex || 0)\r\n      this.onboardingIndex = idx\r\n      try {\r\n        uni.setStorageSync('onboarding_index', idx)\r\n        if (Array.isArray(this.onboardingSteps) && this.onboardingSteps.length) {\r\n          uni.setStorageSync('onboarding_steps', this.onboardingSteps)\r\n        }\r\n      } catch (e) {}\r\n      try {\r\n        uni.setStorageSync('onboarding_continue', true)\r\n        const isH5 = typeof window !== 'undefined'\r\n        if (isH5) {\r\n          if (idx <= 4) {\r\n            const map = ['#og-search', '#og-cate', '#og-banner', '#og-guess', '#og-quick']\r\n            const sel = map[idx] || '#og-search'\r\n            uni.setStorageSync('onboarding_target_selector', sel)\r\n            if (uni.switchTab) uni.switchTab({ url: '/pages/home/index' })\r\n            else uni.navigateTo({ url: '/pages/home/index' })\r\n          } else if (idx === 5) {\r\n            this.$nextTick(() => { this.refreshOnboardingRect('#og-product-add') })\r\n          } else if (idx === 6) {\r\n            this.openRoomSheet()\r\n            setTimeout(() => { this.refreshOnboardingRect('#og-room-modal-list') }, 220)\r\n          } else if (idx === 7) {\r\n            uni.setStorageSync('onboarding_target_selector', '#og-order-tabs')\r\n            uni.setStorageSync('onboarding_step_text', 'è®¢å•æ ‡ç­¾åˆ‡æ¢ä¸æŸ¥çœ‹')\r\n            uni.navigateTo({ url: '/pages/order/index' })\r\n          } else if (idx === 8) {\r\n            uni.setStorageSync('onboarding_target_selector', '#og-profile-info')\r\n            uni.setStorageSync('onboarding_step_text', 'ä¸ªäººä¿¡æ¯ç®¡ç†')\r\n            if (uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\r\n            else uni.navigateTo({ url: '/pages/profile/index' })\r\n          } else if (idx === 9) {\r\n            uni.setStorageSync('onboarding_target_selector', '#og-profile-menu')\r\n            uni.setStorageSync('onboarding_step_text', 'åŠŸèƒ½åŒº')\r\n            if (uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\r\n            else uni.navigateTo({ url: '/pages/profile/index' })\r\n          } else if (idx === 10) {\r\n            uni.setStorageSync('onboarding_target_selector', '#og-profile-addr')\r\n            uni.setStorageSync('onboarding_step_text', 'æ”¶è´§åœ°å€ç®¡ç†')\r\n            if (uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\r\n            else uni.navigateTo({ url: '/pages/profile/index' })\r\n          }\r\n        } else {\r\n          if (idx <= 3) {\r\n            const map = ['#og-search', '#og-mp-cate', '#og-banner', '#og-mp-guess']\r\n            const sel = map[idx] || '#og-search'\r\n            uni.setStorageSync('onboarding_target_selector', sel)\r\n            if (uni.switchTab) uni.switchTab({ url: '/pages/home/index' })\r\n            else uni.navigateTo({ url: '/pages/home/index' })\r\n          } else if (idx === 4) {\r\n            this.$nextTick(() => { this.refreshOnboardingRect('#og-product-add') })\r\n          } else if (idx === 5) {\r\n            this.openMpRoomSheet()\r\n            setTimeout(() => { this.refreshOnboardingRect('#og-room-modal-list') }, 220)\r\n          } else if (idx === 6) {\r\n            uni.setStorageSync('onboarding_target_selector', '#og-order-tabs')\r\n            uni.setStorageSync('onboarding_step_text', 'è®¢å•æ ‡ç­¾åˆ‡æ¢ä¸æŸ¥çœ‹')\r\n            uni.navigateTo({ url: '/pages/order/index' })\r\n          } else if (idx === 7) {\r\n            uni.setStorageSync('onboarding_target_selector', '#og-profile-info')\r\n            uni.setStorageSync('onboarding_step_text', 'ä¸ªäººä¿¡æ¯ç®¡ç†')\r\n            if (uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\r\n            else uni.navigateTo({ url: '/pages/profile/index' })\r\n          } else if (idx === 8) {\r\n            uni.setStorageSync('onboarding_target_selector', '#og-profile-menu')\r\n            uni.setStorageSync('onboarding_step_text', 'åŠŸèƒ½åŒº')\r\n            if (uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\r\n            else uni.navigateTo({ url: '/pages/profile/index' })\r\n          } else if (idx === 9) {\r\n            uni.setStorageSync('onboarding_target_selector', '#og-profile-addr')\r\n            uni.setStorageSync('onboarding_step_text', 'æ”¶è´§åœ°å€ç®¡ç†')\r\n            if (uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\r\n            else uni.navigateTo({ url: '/pages/profile/index' })\r\n          }\r\n        }\r\n      } catch (e) {}\r\n    },\r\n    handleOnboardingPrev(prevIndex) {\r\n      const idx = Number(prevIndex || 0)\r\n      if (idx < 0) return\r\n      this.onboardingIndex = idx\r\n      try {\r\n        uni.setStorageSync('onboarding_index', idx)\r\n        uni.setStorageSync('onboarding_continue', true)\r\n      } catch (e) {}\r\n      const isH5 = typeof window !== 'undefined'\r\n      if (isH5) {\r\n        if (idx <= 4) {\r\n          const map = ['#og-search', '#og-cate', '#og-banner', '#og-guess', '#og-quick']\r\n          const sel = map[idx] || '#og-search'\r\n          uni.setStorageSync('onboarding_target_selector', sel)\r\n          if (uni.switchTab) uni.switchTab({ url: '/pages/home/index' })\r\n          else uni.navigateTo({ url: '/pages/home/index' })\r\n          return\r\n        }\r\n        if (idx === 5) {\r\n          this.$nextTick(() => { this.refreshOnboardingRect('#og-product-add') })\r\n          return\r\n        }\r\n        if (idx === 6) {\r\n          this.openRoomSheet()\r\n          setTimeout(() => { this.refreshOnboardingRect('#og-room-modal-list') }, 220)\r\n          return\r\n        }\r\n        if (idx === 7) {\r\n          uni.setStorageSync('onboarding_target_selector', '#og-order-tabs')\r\n          uni.navigateTo({ url: '/pages/order/index' })\r\n          return\r\n        }\r\n        if (idx === 8) {\r\n          uni.setStorageSync('onboarding_target_selector', '#og-profile-info')\r\n          if (uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\r\n          else uni.navigateTo({ url: '/pages/profile/index' })\r\n          return\r\n        }\r\n        if (idx === 9) {\r\n          uni.setStorageSync('onboarding_target_selector', '#og-profile-menu')\r\n          if (uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\r\n          else uni.navigateTo({ url: '/pages/profile/index' })\r\n          return\r\n        }\r\n        if (idx === 10) {\r\n          uni.setStorageSync('onboarding_target_selector', '#og-profile-addr')\r\n          if (uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\r\n          else uni.navigateTo({ url: '/pages/profile/index' })\r\n          return\r\n        }\r\n      } else {\r\n        if (idx <= 3) {\r\n          const map = ['#og-search', '#og-mp-cate', '#og-banner', '#og-mp-guess']\r\n          const sel = map[idx] || '#og-search'\r\n          uni.setStorageSync('onboarding_target_selector', sel)\r\n          if (uni.switchTab) uni.switchTab({ url: '/pages/home/index' })\r\n          else uni.navigateTo({ url: '/pages/home/index' })\r\n          return\r\n        }\r\n        if (idx === 4) {\r\n          this.$nextTick(() => { this.refreshOnboardingRect('#og-product-add') })\r\n          return\r\n        }\r\n        if (idx === 5) {\r\n          this.openMpRoomSheet()\r\n          setTimeout(() => { this.refreshOnboardingRect('#og-room-modal-list') }, 220)\r\n          return\r\n        }\r\n        if (idx === 6) {\r\n          uni.setStorageSync('onboarding_target_selector', '#og-order-tabs')\r\n          uni.navigateTo({ url: '/pages/order/index' })\r\n          return\r\n        }\r\n        if (idx === 7) {\r\n          uni.setStorageSync('onboarding_target_selector', '#og-profile-info')\r\n          if (uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\r\n          else uni.navigateTo({ url: '/pages/profile/index' })\r\n          return\r\n        }\r\n        if (idx === 8) {\r\n          uni.setStorageSync('onboarding_target_selector', '#og-profile-menu')\r\n          if (uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\r\n          else uni.navigateTo({ url: '/pages/profile/index' })\r\n          return\r\n        }\r\n        if (idx === 9) {\r\n          uni.setStorageSync('onboarding_target_selector', '#og-profile-addr')\r\n          if (uni.switchTab) uni.switchTab({ url: '/pages/profile/index' })\r\n          else uni.navigateTo({ url: '/pages/profile/index' })\r\n          return\r\n        }\r\n      }\r\n    },\r\n    closeOnboarding() {\r\n      this.showOnboarding = false\r\n      try {\r\n        uni.removeStorageSync('onboarding_continue')\r\n        uni.removeStorageSync('onboarding_target_selector')\r\n        uni.removeStorageSync('onboarding_step_text')\r\n        uni.removeStorageSync('onboarding_steps')\r\n        uni.removeStorageSync('onboarding_index')\r\n        uni.reLaunch({ url: '/pages/home/index' })\r\n      } catch (e) {}\r\n    },\r\n    // è·å–è§„æ ¼æ˜ç»†ï¼ˆæŒ‰äº§å“IDï¼‰ï¼Œé€‚é…è¿”å› data.children\r\n    fetchSpecs(availId) {\r\n      if (!availId) return\r\n      this.specsLoading = true\r\n      const clean = (u) => typeof u === 'string' ? u.replace(/`/g, '').trim() : ''\r\n      getProductSpecs({ available_product_id: availId })\r\n        .then((res) => {\r\n          if (res && res.message && res.message.includes('åº“å­˜')) uni.showToast({ title: res.message, icon: 'none' })\r\n          const children = (res && res.data && Array.isArray(res.data.children)) ? res.data.children : (Array.isArray(res?.children) ? res.children : [])\r\n          this.specs = (children || []).map((it) => ({\r\n            product_id: it.product_id || '',\r\n            name: it.name || '',\r\n            unit: it.unit || '',\r\n            length_unit: it.length_unit || '',\r\n            price: (it.price === undefined || it.price === null || it.price === '') ? '-' : it.price,\r\n            original_price: (it.original_price === undefined || it.original_price === null || it.original_price === '') ? 0 : (Number(it.original_price) || 0),\r\n            image_url: clean(it.image_url) || '',\r\n            inventory: it.inventory || 0,\r\n            has_length: it.has_length || 0,\r\n            specification: it.specification || '',\r\n            product_type: it.product_type || it.type || '',\r\n            message: it.message || '',\r\n            product_category: it.product_category || '',\r\n            color: it.color || '',\r\n            model: it.model || '',\r\n            color_temperature: it.color_temperature || '',\r\n            has_custom_params: it.has_custom_params || 0,\r\n            custom_param1_name: it.custom_param1_name || '',\r\n            custom_param2_name: it.custom_param2_name || '',\r\n            custom_param1_value: it.custom_param1_value || '',\r\n            custom_param2_value: it.custom_param2_value || ''\r\n          }))\r\n        })\r\n        .catch(() => { this.specs = [] })\r\n        .finally(() => {\r\n          this.specsLoading = false\r\n          const idx = this.firstSelectableSpecIndex()\r\n          this.selectedSpecIndex = idx\r\n        })\r\n    },\r\n    selectSpec(index) {\r\n      if (this.selectedSpecIndex === index) return\r\n      this.selectedSpecIndex = index\r\n    },\r\n    isSpecDisabled(it) {\r\n      try {\r\n        const t = String(it?.product_type || '').toLowerCase()\r\n        if (t === 'stagnant' && Number(it?.inventory) === 0) return true\r\n        return false\r\n      } catch (e) { return false }\r\n    },\r\n    onClickSpec(it, i) {\r\n      if (this.isSpecDisabled(it)) return\r\n      this.selectSpec(i)\r\n    },\r\n    firstSelectableSpecIndex() {\r\n      try {\r\n        const arr = Array.isArray(this.specs) ? this.specs : []\r\n        for (let i = 0; i < arr.length; i++) {\r\n          if (!this.isSpecDisabled(arr[i])) return i\r\n        }\r\n        return -1\r\n      } catch (e) { return -1 }\r\n    },\r\n    previewCurrentImage() {\r\n      try {\r\n        const arr = (this.images || []).filter(u => !this.isVideo(u))\r\n        const cur = this.currentImage\r\n        const idx = arr.findIndex(u => u === cur)\r\n        const current = idx >= 0 ? arr[idx] : (arr[0] || '')\r\n        if (!current) return\r\n        uni.previewImage({ urls: arr.length ? arr : [current], current })\r\n      } catch (e) {}\r\n    },\r\n    previewDetailImage(src) {\r\n      try {\r\n        const arr = (this.product?.details_images || []).filter(u => typeof u === 'string')\r\n        const current = arr.includes(src) ? src : (arr[0] || '')\r\n        if (!current) return\r\n        uni.previewImage({ urls: arr.length ? arr : [current], current })\r\n      } catch (e) {}\r\n    },\r\n    previewMpImage(item) {\r\n      try {\r\n        if (this.isVideo(item)) return\r\n        const arr = (this.images || []).filter(u => !this.isVideo(u))\r\n        const current = arr.includes(item) ? item : (arr[0] || '')\r\n        if (!current) return\r\n        uni.previewImage({ urls: arr.length ? arr : [current], current })\r\n      } catch (e) {}\r\n    },\r\n    ensureLoggedIn() {\r\n      try {\r\n        const u = uni.getStorageSync('user') || null\r\n        const exp = uni.getStorageSync('token_expiration') || 0\r\n        const ok = !!u && (!exp || Date.now() < exp)\r\n        if (ok) return true\r\n        this.showLoginModal = true\r\n        return false\r\n      } catch (e) { return false }\r\n    },\r\n    closeLoginModal() { this.showLoginModal = false },\r\n    goLogin() { this.showLoginModal = false; uni.navigateTo({ url: '/pages/login/index' }) },\r\n    addToCart() {\r\n      if (!this.ensureLoggedIn()) return\r\n      const spec = (this.selectedSpecIndex >= 0 && this.specs[this.selectedSpecIndex]) ? this.specs[this.selectedSpecIndex] : null\r\n      const pid = spec ? spec.product_id : (this.product?.id || '')\r\n      addCartItem({ product_id: pid, quantity: 1 })\r\n        .then((res) => {\r\n          if (res && res.success) uni.showToast({ title: 'å·²åŠ å…¥è´­ç‰©è½¦', icon: 'success' })\r\n          else {\r\n            const tip = typeof res?.data === 'string' ? res.data : (res?.data?.reason || '')\r\n            const msg = tip || res?.message || 'åŠ å…¥å¤±è´¥'\r\n            uni.showToast({ title: msg, icon: 'none' })\r\n          }\r\n        })\r\n        .catch(() => { uni.showToast({ title: 'åŠ å…¥è´­ç‰©è½¦å¤±è´¥', icon: 'none' }) })\r\n    },\r\n    incQty() { this.qty = Math.max(1, Number(this.qty || 0) + 1) },\r\n    decQty() { this.qty = Math.max(1, Number(this.qty || 0) - 1) },\r\n    normalizeQty() {\r\n      const n = Number(this.qty)\r\n      this.qty = isNaN(n) ? 1 : Math.max(1, Math.floor(n))\r\n    },\r\n    addToCartWithQty() {\r\n      if (!this.ensureLoggedIn()) return\r\n      const chosen = (this.roomName || '').trim()\r\n      if (!chosen) { uni.showToast({ title: 'è¯·å…ˆå¡«å†™æˆ¿é—´å', icon: 'none' }); return }\r\n      const lengthNum = (this.specLength || '').replace(/[^0-9.]/g, '')\r\n      const lengthVal = lengthNum ? Number(lengthNum) : undefined\r\n      const needLength = this.selectedSpec && this.selectedSpec.has_length === 1\r\n      if (needLength && (!lengthVal || Number(lengthVal) <= 0)) {\r\n        uni.showToast({ title: 'è¯·å¡«å†™é•¿åº¦', icon: 'none' })\r\n        return\r\n      }\r\n      if (!this.qty || this.qty <= 0) {\r\n        uni.showToast({ title: 'è¯·å¡«å†™æ•°é‡', icon: 'none' })\r\n        return\r\n      }\r\n\r\n      const spec = (this.selectedSpecIndex >= 0 && this.specs[this.selectedSpecIndex]) ? this.specs[this.selectedSpecIndex] : null\r\n      if (spec && spec.specification && lengthVal) {\r\n        const max = parseFloat(spec.specification)\r\n        if (!isNaN(max) && lengthVal > max) {\r\n          uni.showModal({ title: 'æç¤º', content: 'é•¿åº¦ä¸èƒ½è¶…è¿‡ ' + spec.specification, showCancel: false })\r\n          return\r\n        }\r\n      }\r\n\r\n      const pid = spec ? spec.product_id : (this.product?.id || '')\r\n      const q = Math.max(1, Number(this.qty || 1))\r\n      addCartItem({ room_id: this.roomId, product_id: pid, length: lengthNum, quantity: q, color: this.specTemp || '', note: this.h5OrderNote || '' })\r\n        .then((res) => {\r\n          if (res && res.success) uni.showToast({ title: `å·²åŠ å…¥æˆ¿é—´ï¼š${chosen}`, icon: 'success' })\r\n          else {\r\n            const tip = typeof res?.data === 'string' ? res.data : (res?.data?.reason || '')\r\n            const msg = tip || res?.message || 'åŠ å…¥å¤±è´¥'\r\n            uni.showToast({ title: msg, icon: 'none' })\r\n          }\r\n        })\r\n        .catch(() => { uni.showToast({ title: 'åŠ å…¥è´­ç‰©è½¦å¤±è´¥', icon: 'none' }) })\r\n    },\r\n    buyNow() {\r\n      if (!this.ensureLoggedIn()) return\r\n      try {\r\n        const spec = this.selectedSpec\r\n        const pid = spec ? (spec.product_id || this.product?.id || '') : (this.product?.id || '')\r\n        const addrId = this.selectedAddress?.id || ''\r\n        const roomName = (this.roomName || '').trim()\r\n        if (!roomName) {\r\n          uni.showToast({ title: 'è¯·å¡«å†™æˆ¿é—´å', icon: 'none' })\r\n          return\r\n        }\r\n        const needLength = spec && spec.has_length === 1\r\n        const rawLen = (this.specLength || '').replace(/[^0-9.]/g, '')\r\n        const lenNum = rawLen ? Number(rawLen) : 0\r\n        if (needLength && (!lenNum || lenNum <= 0)) {\r\n          uni.showToast({ title: 'è¯·å¡«å†™é•¿åº¦', icon: 'none' })\r\n          return\r\n        }\r\n        if (!addrId) {\r\n          uni.showToast({ title: 'è¯·å…ˆé€‰æ‹©æ”¶è´§åœ°å€', icon: 'none' })\r\n          return\r\n        }\r\n        const roomId = this.roomId || ''\r\n        const qty = this.qty || 1\r\n        const note = this.h5OrderNote || ''\r\n        const lenMeters = !needLength ? '' : lenNum\r\n\r\n        const u = uni.getStorageSync('user') || null\r\n        const token = (u && (u.token || (u.data && u.data.token))) || ''\r\n\r\n        uni.showLoading({ title: 'ä¸‹å•ä¸­' })\r\n        createDirectOrder({ product_id: pid, address_id: addrId, note, length: lenMeters, quantity: qty, room_id: roomId, token })\r\n          .then((data) => {\r\n            uni.hideLoading()\r\n            if (data && data.success) {\r\n              uni.showToast({ title: 'ä¸‹å•æˆåŠŸ', icon: 'success' })\r\n              const orderId = (data && data.data && (data.data.order_id || data.data.id)) || ''\r\n              if (orderId) { uni.navigateTo({ url: '/pages/order/index?id=' + orderId }) }\r\n            } else {\r\n              const tip = typeof data?.data === 'string' ? data.data : (data?.data?.reason || '')\r\n              const msg = tip || (data && data.message) || 'ä¸‹å•å¤±è´¥'\r\n              uni.showToast({ title: msg, icon: 'none' })\r\n            }\r\n          })\r\n          .catch(() => { uni.hideLoading(); uni.showToast({ title: 'ç½‘ç»œé”™è¯¯', icon: 'none' }) })\r\n      } catch (e) { uni.showToast({ title: 'ä¸‹å•å¤±è´¥', icon: 'none' }) }\r\n    },\r\n    // MP-WEIXIN è§„æ ¼å¡«å†™\r\n    openSpecSheet() {\r\n      this.mpSheet = true\r\n      const pid = this.product?.id || ''\r\n      this.fetchSpecs(pid)\r\n      this.lockScroll = false\r\n    },\r\n    closeSpecSheet() { this.mpSheet = false; this.lockScroll = false },\r\n    // H5 æˆ¿é—´é€‰æ‹©å¼¹çª—\r\n    openRoomSheet() {\r\n      this.roomSelectorMode = 'h5'\r\n      this.roomSelectorVisible = true\r\n      this.fetchRooms()\r\n    },\r\n    closeRoomSheet() { this.roomSelectorVisible = false },\r\n    openH5AddressSheet() {\r\n      this.roomSelectorMode = 'addr'\r\n      this.roomSelectorVisible = true\r\n      this.loadAddresses()\r\n    },\r\n\r\n    fetchRooms() {\r\n      getRooms()\r\n        .then((res) => {\r\n          const raw = Array.isArray(res?.data?.items) ? res.data.items\r\n            : (Array.isArray(res?.items) ? res.items\r\n              : (Array.isArray(res?.data?.children) ? res.data.children\r\n                : (Array.isArray(res?.data?.list) ? res.data.list\r\n                  : (Array.isArray(res?.data) ? res.data : []))))\r\n          this.roomsRaw = (raw || []).map((it) => (typeof it === 'string') ? { id: '', name: it } : { id: (it?.id || it?.room_id || ''), name: (it?.name || it?.room_name || '') })\r\n          this.roomsList = this.roomsRaw.map(it => it.name).filter((x) => !!x)\r\n        })\r\n        .catch(() => { this.roomsList = [] })\r\n    },\r\n\r\n    loadAddresses() {\r\n      getAddresses().then(res => {\r\n        const raw = Array.isArray(res?.data?.items) ? res.data.items : (Array.isArray(res?.items) ? res.items : [])\r\n        this.addresses = raw.map(a => ({\r\n          id: a.addresses_id || a.id || '',\r\n          receiver: a.receiver || '',\r\n          phone: a.phone || '',\r\n          province: a.province || '',\r\n          city: a.city || '',\r\n          district: a.district || '',\r\n          detail_address: a.detail_address || '',\r\n          is_default: a.is_default === 1\r\n        }))\r\n        const cached = uni.getStorageSync('selected_address_id') || ''\r\n        let pick = this.addresses.find(x => x.id === cached) || this.addresses.find(x => x.is_default) || this.addresses[0]\r\n        this.selectedAddress = pick || null\r\n        if (this.roomSelectorMode === 'addr' && this.roomSelectorVisible && this.addresses.length === 0) {\r\n          try { uni.showToast({ title: 'æš‚æ— æ”¶è´§åœ°å€ï¼Œå»åˆ›å»ºå§', icon: 'none' }) } catch (e) { }\r\n        }\r\n      }).catch(() => { this.addresses = []; this.selectedAddress = null })\r\n    },\r\n\r\n    onRoomSelect(room) {\r\n      if (this.roomSelectorMode === 'addr') {\r\n        if (room && room.raw) {\r\n          this.selectedAddress = room.raw\r\n          try { uni.setStorageSync('selected_address_id', this.selectedAddress.id) } catch (e) { }\r\n        }\r\n      } else if (this.roomSelectorMode === 'mp') {\r\n        this.mpRoom = room.name\r\n      } else {\r\n        this.roomName = room.name\r\n        this.roomId = room.id\r\n      }\r\n      this.roomSelectorVisible = false\r\n    },\r\n\r\n    onRoomCreate(name) {\r\n      if (!name) return\r\n      createRoom({ name })\r\n        .then((res) => {\r\n          uni.showToast({ title: 'æˆ¿é—´å·²åˆ›å»º', icon: 'success' })\r\n          const rid = (res && res.data && (res.data.room_id || res.data.id)) || (res && (res.room_id || res.id)) || ''\r\n          if (this.roomSelectorMode === 'mp') {\r\n            this.mpRoom = name\r\n            if (rid) {\r\n              const exist = (this.roomsRaw || []).find(r => r.id === rid)\r\n              if (!exist) this.roomsRaw = [{ id: rid, name }, ...this.roomsRaw]\r\n            }\r\n          } else {\r\n            this.roomName = name\r\n            this.roomId = rid || this.roomId\r\n            if (rid) {\r\n              const exist = (this.roomsRaw || []).find(r => r.id === rid)\r\n              if (!exist) this.roomsRaw = [{ id: rid, name }, ...this.roomsRaw]\r\n            }\r\n          }\r\n          this.roomSelectorVisible = false\r\n          if (!rid) this.fetchRooms()\r\n        })\r\n        .catch(() => {\r\n          uni.showToast({ title: 'åˆ›å»ºæˆ¿é—´å¤±è´¥', icon: 'none' })\r\n        })\r\n    },\r\n\r\n    onCreateAddress(payload) {\r\n      const u = uni.getStorageSync('user')\r\n      const token = (u && (u.token || (u.data && u.data.token))) || ''\r\n      const data = { receiver: payload.receiver, phone: payload.phone, province: payload.province, city: payload.city, district: payload.district, detail_address: payload.detail_address, is_default: payload.is_default }\r\n      addAddress({ ...data, token }).then(res => {\r\n        if (res && res.success) {\r\n          const id = (res && res.data && (res.data.addresses_id || res.data.id)) || ''\r\n          const item = { id, receiver: data.receiver, phone: data.phone, province: data.province, city: data.city, district: data.district, detail_address: data.detail_address, is_default: data.is_default === 1 }\r\n          this.addresses = [item, ...this.addresses]\r\n          this.selectedAddress = item\r\n          try { uni.setStorageSync('selected_address_id', id) } catch (e) { }\r\n          uni.showToast({ title: 'å·²ä¿å­˜', icon: 'success' })\r\n          this.roomSelectorVisible = false\r\n        } else {\r\n          const tip = typeof res?.data === 'string' ? res.data : (res?.data?.reason || '')\r\n          const msg = tip || (res && res.message) || 'ä¿å­˜å¤±è´¥'\r\n          uni.showToast({ title: msg, icon: 'none' })\r\n        }\r\n      }).catch(() => {\r\n        uni.showToast({ title: 'ä¿å­˜å¤±è´¥', icon: 'none' })\r\n      })\r\n    },\r\n\r\n    confirmSpecToCart() {\r\n      const needLength = this.selectedSpec && this.selectedSpec.has_length === 1\r\n      if (!this.mpRoom || (needLength && !this.mpLength) || !this.mpQty) {\r\n        uni.showToast({ title: 'è¯·å¡«å†™æˆ¿é—´åã€é•¿åº¦ã€æ•°é‡', icon: 'none' })\r\n        return\r\n      }\r\n      const chosen = (this.mpRoom || '').trim()\r\n      const found = (this.roomsRaw || []).find(it => it.name === chosen)\r\n      const rid = found ? found.id : ''\r\n\r\n      const lengthNum = (this.mpLength || '').replace(/[^0-9.]/g, '')\r\n      const lengthVal = lengthNum ? Number(lengthNum) : undefined\r\n      const spec = (this.selectedSpecIndex >= 0 && this.specs[this.selectedSpecIndex]) ? this.specs[this.selectedSpecIndex] : null\r\n\r\n      if (spec && spec.specification && lengthVal) {\r\n        const max = parseFloat(spec.specification)\r\n        if (!isNaN(max) && lengthVal > max) {\r\n          uni.showModal({ title: 'æç¤º', content: 'é•¿åº¦ä¸èƒ½è¶…è¿‡ ' + spec.specification, showCancel: false })\r\n          return\r\n        }\r\n      }\r\n\r\n      const pid = spec ? spec.product_id : (this.product?.id || '')\r\n      const mq = Math.max(1, Number(this.mpQty || 1))\r\n      addCartItem({ room_id: rid, product_id: pid, length: lengthVal, quantity: mq, color: this.mpTemp || '', note: this.mpOrderNote || '' })\r\n        .then((res) => {\r\n          if (res && res.success) {\r\n            this.mpSheet = false\r\n            uni.showToast({ title: `å·²åŠ å…¥æˆ¿é—´ï¼š${chosen}`, icon: 'success' })\r\n          } else {\r\n            const tip = typeof res?.data === 'string' ? res.data : (res?.data?.reason || '')\r\n            const msg = tip || res?.message || 'åŠ å…¥å¤±è´¥'\r\n            uni.showToast({ title: msg, icon: 'none' })\r\n          }\r\n        })\r\n        .catch(() => { uni.showToast({ title: 'åŠ å…¥è´­ç‰©è½¦å¤±è´¥', icon: 'none' }) })\r\n    },\r\n    normalizeMpQty() {\r\n      const n = Number(this.mpQty)\r\n      this.mpQty = isNaN(n) ? 1 : Math.max(1, Math.floor(n))\r\n    },\r\n    // MP Room Sheet Methods\r\n    openMpRoomSheet() {\r\n      this.roomSelectorMode = 'mp'\r\n      this.roomSelectorVisible = true\r\n      this.fetchRooms()\r\n    },\r\n    openMpAddressSheet() {\r\n      this.roomSelectorMode = 'addr'\r\n      this.roomSelectorVisible = true\r\n      this.loadAddresses()\r\n    },\r\n    closeMpRoomSheet() { this.roomSelectorVisible = false; this.lockScroll = false },\r\n    formatPriceWithSymbol(val) {\r\n      try {\r\n        if (val === '-' || val === 'â€”') return '-'\r\n        const n = Number(val)\r\n        if (isNaN(n)) return '-'\r\n        return 'Â¥' + n.toFixed(2)\r\n      } catch (e) { return '-' }\r\n    },\r\n    displaySpecPrice(it) {\r\n      if (!it) return 0\r\n      const base = Number(it.price || 0) || 0\r\n      if (it.has_length !== 1) return base\r\n      const spec = String(it.specification || '').toLowerCase()\r\n      const unit = this.parseLengthUnit(it.length_unit || it.unit, spec)\r\n      const mult = this.unitMultiplier(unit)\r\n      return base * mult\r\n    },\r\n    parseLengthUnit(unit, spec) {\r\n      const u = String(unit || '').toLowerCase()\r\n      const s = String(spec || '').toLowerCase()\r\n      if (u.includes('mm') || /(^|[^a-z])mm([^a-z]|$)/.test(s)) return 'mm'\r\n      if (u.includes('cm') || /(^|[^a-z])cm([^a-z]|$)/.test(s)) return 'cm'\r\n      if (u.includes('dm') || /(^|[^a-z])dm([^a-z]|$)/.test(s)) return 'dm'\r\n      if (u.includes('m') || /(^|[^a-z])m([^a-z]|$)/.test(s)) return 'm'\r\n      return 'm'\r\n    },\r\n    unitMultiplier(unit) {\r\n      if (unit === 'mm') return 1000\r\n      if (unit === 'cm') return 100\r\n      if (unit === 'dm') return 10\r\n      return 1\r\n    },\r\n    toMeters(len, unit) {\r\n      const u = unit || 'm'\r\n      if (u === 'mm') return Number(len) / 1000\r\n      if (u === 'cm') return Number(len) / 100\r\n      if (u === 'dm') return Number(len) / 10\r\n      return Number(len)\r\n    },\r\n    favProduct() {\r\n      try {\r\n        const pid = this.product?.id || ''\r\n        const u = uni.getStorageSync('user') || null\r\n        const token = (u && (u.token || (u.data && u.data.token))) || ''\r\n        if (!pid) { uni.showToast({ title: 'å•†å“ä¿¡æ¯ç¼ºå¤±', icon: 'none' }); return }\r\n        if (!token) { uni.showToast({ title: 'è¯·å…ˆç™»å½•', icon: 'none' }); return }\r\n        if (!this.isFavorite) {\r\n          addFavorite({ product_id: pid, token }).then((res) => {\r\n            if (res && res.success) { this.isFavorite = true; uni.showToast({ title: 'å·²æ”¶è—', icon: 'success' }) }\r\n            else { uni.showToast({ title: res?.message || 'æ”¶è—å¤±è´¥', icon: 'none' }) }\r\n          }).catch(() => { uni.showToast({ title: 'æ”¶è—å¤±è´¥', icon: 'none' }) })\r\n        } else {\r\n          deleteFavorite({ product_id: pid, token }).then((res) => {\r\n            if (res && res.success) { this.isFavorite = false; uni.showToast({ title: 'å·²å–æ¶ˆæ”¶è—', icon: 'success' }) }\r\n            else { uni.showToast({ title: res?.message || 'å–æ¶ˆå¤±è´¥', icon: 'none' }) }\r\n          }).catch(() => { uni.showToast({ title: 'å–æ¶ˆå¤±è´¥', icon: 'none' }) })\r\n        }\r\n      } catch (e) { uni.showToast({ title: 'æ”¶è—å¤±è´¥', icon: 'none' }) }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.page {\r\n  background: #f7f7f7;\r\n  min-height: 100vh;\r\n  padding-bottom: 120rpx;\r\n}\r\n\r\n/* #ifdef MP-WEIXIN */\r\n.product-page { position: relative; z-index: 1; }\r\n/* èƒŒæ™¯å›¾æ ·å¼å·²ç§»é™¤ */\r\n/* #endif */\r\n\r\n.cover {\r\n  width: 100%;\r\n  height: 500rpx;\r\n  background: #f5f5f5;\r\n}\r\n\r\n.info {\r\n  background: #fff;\r\n  padding: 20rpx;\r\n}\r\n\r\n.title {\r\n  font-size: 32rpx;\r\n  display: block;\r\n}\r\n\r\n.pd-title-row {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  gap: 12rpx;\r\n}\r\n\r\n.mp-title-row {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  gap: 12rpx;\r\n}\r\n\r\n.fav-star {\r\n  font-size: 48rpx;\r\n  color: #ccc;\r\n}\r\n.fav-star.active {\r\n  /* background: #ffec99; */\r\n  color: #e3b609;\r\n  border-radius: 8rpx;\r\n  padding: 2rpx 8rpx;\r\n}\r\n\r\n.price {\r\n  color: #000;\r\n  font-size: 34rpx;\r\n  margin-top: 8rpx;\r\n  display: block;\r\n}\r\n\r\n.sales {\r\n  color: #999;\r\n  font-size: 26rpx;\r\n  margin-top: 8rpx;\r\n  display: block;\r\n}\r\n\r\n.footer {\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: #fff;\r\n  box-shadow: 0 -8rpx 20rpx rgba(0, 0, 0, .06);\r\n  padding: 20rpx;\r\n}\r\n\r\n.btn-cart {\r\n  width: 100%;\r\n  /* #ifndef H5 */\r\n  background: #000;\r\n  /* #endif */\r\n  /* #ifdef H5 */\r\n  background: #ff8c3a;\r\n  /* #endif */\r\n  color: #fff;\r\n  border-radius: 999rpx;\r\n  height: 80rpx;\r\n  line-height: 80rpx;\r\n  font-size: 30rpx;\r\n  font-weight: bold;\r\n}\r\n\r\n/* é€šç”¨ï¼šè§„æ ¼åˆ—è¡¨ï¼ˆH5 ä¸ MP å…±ç”¨ï¼‰ */\r\n.specs-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12rpx;\r\n}\r\n\r\n.login-mask {\r\n  position: fixed;\r\n  top: 0; left: 0; right: 0; bottom: 0;\r\n  background: rgba(0,0,0,0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 10000;\r\n}\r\n.login-modal {\r\n  width: 720rpx;\r\n  max-width: 90vw;\r\n  background: #fff;\r\n  border-radius: 24rpx;\r\n  padding: 48rpx 40rpx;\r\n  box-shadow: 0 20rpx 40rpx rgba(0,0,0,0.12);\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 32rpx;\r\n}\r\n.login-title {\r\n  font-size: 34rpx;\r\n  font-weight: 700;\r\n  color: #333;\r\n  text-align: center;\r\n}\r\n.login-desc {\r\n  font-size: 28rpx;\r\n  color: #666;\r\n  text-align: center;\r\n}\r\n.login-actions {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 24rpx;\r\n}\r\n.btn-pill {\r\n  min-width: 240rpx;\r\n  height: 72rpx;\r\n  line-height: 72rpx;\r\n  padding: 0 40rpx;\r\n  border-radius: 999rpx;\r\n  text-align: center;\r\n  font-size: 28rpx;\r\n  font-weight: 600;\r\n}\r\n.btn-pill.confirm {\r\n  background: #000;\r\n  color: #fff;\r\n  box-shadow: 0 8rpx 20rpx rgba(0,0,0,0.15);\r\n}\r\n.btn-pill.cancel {\r\n  background: #fff;\r\n  color: #999;\r\n  border: 2rpx solid #e5e5e5;\r\n}\r\n\r\n.spec-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12rpx;\r\n  padding: 12rpx;\r\n  border: 1rpx solid #eee;\r\n  border-radius: 12rpx;\r\n  /* background: #fafafa; */\r\n  transition: all .2s;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.spec-item.active {\r\n  border-color: #8d8a8a;\r\n  /* background: #fff5f0; */\r\n}\r\n\r\n.spec-item.disabled {\r\n  cursor: not-allowed;\r\n}\r\n\r\n.spec-mask {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0,0,0,0.15);\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: flex-end;\r\n  padding: 12rpx;\r\n  border-radius: 12rpx;\r\n}\r\n\r\n.spec-mask-ico {\r\n  width: 140rpx;\r\n  height: 140rpx;\r\n}\r\n.spec-thumb {\r\n  width: 120rpx;\r\n  height: 120rpx;\r\n  border-radius: 10rpx;\r\n  background: #f5f5f5;\r\n}\r\n\r\n.spec-info {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 6rpx;\r\n}\r\n\r\n.spec-name {\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  line-height: 1.4;\r\n}\r\n\r\n.spec-price-row {\r\n  display: flex;\r\n  align-items: baseline;\r\n  gap: 10rpx;\r\n}\r\n\r\n.spec-price {\r\n  color: #000;\r\n  font-size: 32rpx;\r\n  font-weight: 700;\r\n}\r\n\r\n.spec-oprice {\r\n  color: #999;\r\n  font-size: 24rpx;\r\n  text-decoration: line-through;\r\n}\r\n\r\n.spec-unit {\r\n  color: #666;\r\n  font-size: 24rpx;\r\n}\r\n\r\n.specs-toggle {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 16rpx;\r\n  font-size: 24rpx;\r\n  color: #666;\r\n  background: #fafafa;\r\n  border-radius: 0 0 12rpx 12rpx;\r\n}\r\n\r\n.toggle-icon {\r\n  margin-left: 8rpx;\r\n  font-size: 20rpx;\r\n}\r\n\r\n.rooms-list {\r\n  margin-top: 12rpx;\r\n}\r\n\r\n.rooms-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(4, minmax(0, 1fr));\r\n  grid-gap: 12rpx;\r\n}\r\n\r\n.rooms-title {\r\n  color: #666;\r\n  font-size: 26rpx;\r\n  margin-bottom: 8rpx;\r\n}\r\n\r\n.room-item {\r\n  padding: 12rpx 14rpx;\r\n  border: 1rpx solid #eee;\r\n  border-radius: 10rpx;\r\n  background: #fafafa;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.room-name {\r\n  color: #333;\r\n  font-size: 28rpx;\r\n}\r\n\r\n/* #ifdef H5 */\r\n/* Hide scrollbars */\r\n.product-page ::-webkit-scrollbar {\r\n  display: none;\r\n  width: 0 !important;\r\n  height: 0 !important;\r\n  -webkit-appearance: none;\r\n  background: transparent;\r\n}\r\n\r\n.footer {\r\n  display: none;\r\n}\r\n\r\n/* H5 Card Layout */\r\n.h5-product-bg {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-image: url('/static/product_detail_background.jpg');\r\n  background-size: cover;\r\n  background-position: center;\r\n  z-index: 0;\r\n  overflow-y: auto;\r\n  padding: 40rpx;\r\n}\r\n\r\n.h5-topbar {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 2;\r\n  display: flex;\r\n  align-items: center;\r\n  height: 100rpx;\r\n  padding: 20rpx;\r\n}\r\n\r\n.back-btn {\r\n  height: 60rpx;\r\n  width: 60rpx;\r\n  line-height: 60rpx;\r\n  padding: 0;\r\n  border: none !important;\r\n  border-radius: 0;\r\n  background: transparent !important;\r\n  box-shadow: none !important;\r\n  outline: none;\r\n  color: #000;\r\n  font-size: 44rpx;\r\n  transition: background .2s, transform .2s, color .2s;\r\n}\r\n\r\n.back-btn::after {\r\n  border: none !important;\r\n}\r\n\r\n.back-btn:hover {\r\n  transform: translateY(0.3rpx);\r\n  font-weight: 500;\r\n}\r\n\r\n.h5-product-card {\r\n  max-width: 1400px;\r\n  margin: 0 auto;\r\n  /* background: rgba(255, 255, 255, 0.95); */\r\n  border-radius: 24rpx;\r\n  /* box-shadow: 0 20rpx 60rpx rgba(0, 0, 0, 0.1); */\r\n  overflow: hidden;\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\n.pd-grid {\r\n  display: grid;\r\n  grid-template-columns: 3fr 2fr;\r\n  grid-gap: 80rpx;\r\n  padding: 60rpx;\r\n  align-items: start;\r\n  margin-top: 100rpx;\r\n}\r\n\r\n/* New styles for inline params */\r\n.pd-param-item.inline-params {\r\n  display: contents;\r\n}\r\n\r\n.pd-param-item.inline-params .sub-item {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 10rpx;\r\n}\r\n\r\n/* Qty Stepper matching cart */\r\n.qty-box {\r\n  display: flex;\r\n  align-items: center;\r\n  background: #f7f7f7;\r\n  border-radius: 6rpx;\r\n  height: 60rpx;\r\n}\r\n\r\n.qty-btn {\r\n  width: 60rpx;\r\n  height: 60rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #333;\r\n  font-size: 36rpx;\r\n  cursor: pointer;\r\n}\r\n\r\n.qty-num {\r\n  padding: 0 12rpx;\r\n  font-size: 24rpx;\r\n  color: #333;\r\n}\r\n\r\n.pd-left {\r\n  height: 100%;\r\n  background: transparent;\r\n  /* border: 1rpx solid rgba(255,255,255,0.35); */\r\n  border-radius: 16rpx;\r\n  padding: 24rpx;\r\n  box-sizing: border-box;\r\n  /* box-shadow: 0 12rpx 40rpx rgba(0,0,0,0.08); */\r\n  -webkit-backdrop-filter: saturate(120%) blur(8px);\r\n  backdrop-filter: saturate(120%) blur(8px);\r\n}\r\n\r\n.pd-right {\r\n  height: 100%;\r\n  background: transparent;\r\n  border: 1rpx solid rgba(255, 255, 255, 0.35);\r\n  border-radius: 16rpx;\r\n  padding: 24rpx;\r\n  box-sizing: border-box;\r\n  box-shadow: 0 12rpx 40rpx rgba(0, 0, 0, 0.08);\r\n  -webkit-backdrop-filter: saturate(120%) blur(8px);\r\n  backdrop-filter: saturate(120%) blur(8px);\r\n}\r\n\r\n/* å³ä¾§å¡ç‰‡ç½®é¡¶ä¸”è‡ªé€‚åº”é«˜åº¦ï¼Œä»…å½±å“ H5 */\r\n.pd-right {\r\n  height: auto;\r\n  position: sticky;\r\n  margin-top: 80rpx;\r\n  align-self: start;\r\n}\r\n\r\n.pd-left {\r\n  overflow-y: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 50rpx;\r\n  padding-right: 6rpx;\r\n}\r\n\r\n.pd-gallery {\r\n  /* background: #fff; */\r\n  border-radius: 12rpx;\r\n  /* padding: 20rpx; */\r\n  position: relative;\r\n  border: 1rpx solid rgba(255, 255, 255, 0.35);\r\n  box-shadow: 0 12rpx 40rpx rgba(0, 0, 0, 0.08);\r\n}\r\n\r\n.pd-main {\r\n  width: 100%;\r\n  height: 520rpx;\r\n  border-radius: 8rpx;\r\n  background: #f5f5f5;\r\n}\r\n\r\n.pd-thumbs {\r\n  position: static;\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 12rpx;\r\n  /* margin-top: 12rpx; */\r\n  overflow-x: auto;\r\n  -ms-overflow-style: none;\r\n  scrollbar-width: none;\r\n  /* background: rgba(255,255,255,0.5); */\r\n  border-radius: 12rpx;\r\n  padding: 20rpx;\r\n  /* box-shadow: 0 8rpx 24rpx rgba(0,0,0,0.06); */\r\n}\r\n\r\n.pd-thumbs::-webkit-scrollbar {\r\n  width: 0;\r\n  height: 0;\r\n  display: none;\r\n}\r\n\r\n.pd-thumb {\r\n  width: 88rpx;\r\n  height: 88rpx;\r\n  border-radius: 8rpx;\r\n  background: #f5f5f5;\r\n  border: 1rpx solid #eee;\r\n}\r\n\r\n.pd-thumb.active {\r\n  outline: 3rpx solid #333;\r\n}\r\n\r\n.pd-card {\r\n  background: transparent;\r\n  border-radius: 12rpx;\r\n  padding: 20rpx;\r\n  border: 1rpx solid rgba(255, 255, 255, 0.35);\r\n  box-shadow: 0 12rpx 40rpx rgba(0, 0, 0, 0.08);\r\n  -webkit-backdrop-filter: saturate(120%) blur(8px);\r\n  backdrop-filter: saturate(120%) blur(8px);\r\n}\r\n\r\n.pd-section-title {\r\n  font-size: 28rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n  display: block;\r\n  margin-bottom: 12rpx;\r\n}\r\n\r\n.pd-param-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: 16rpx 40rpx;\r\n  /* background: #fafafa; */\r\n  border-radius: 10rpx;\r\n  padding: 20rpx;\r\n}\r\n\r\n.pd-param-item {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: flex-start;\r\n  justify-content: flex-start;\r\n  gap: 20rpx;\r\n  border: none;\r\n  padding: 4rpx 0;\r\n}\r\n\r\n.pd-param-item .key {\r\n  color: #999;\r\n  font-size: 24rpx;\r\n  min-width: 80rpx;\r\n}\r\n\r\n.pd-param-item .val {\r\n  color: #333;\r\n  font-size: 26rpx;\r\n  margin-top: 0rpx;\r\n  flex: 1;\r\n}\r\n.pd-param-grid, .pd-param-item .key, .pd-param-item .val, .mp-param-grid, .mp-param-item .key, .mp-param-item .val {\r\n  user-select: text;\r\n  -webkit-user-select: text;\r\n}\r\n.product-page, .product-page * {\r\n  user-select: text;\r\n  -webkit-user-select: text;\r\n}\r\n\r\n.pd-detail-img {\r\n  width: 100%;\r\n  border-radius: 8rpx;\r\n  background: #f5f5f5;\r\n  margin-top: 12rpx;\r\n}\r\n\r\n.pd-info {\r\n  background: transparent;\r\n  padding: 0;\r\n  box-shadow: none;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 18rpx;\r\n}\r\n\r\n.pd-address .addr-box {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  gap: 12rpx;\r\n  padding: 12rpx;\r\n  background: #fafafa;\r\n  border: 1rpx solid #eee;\r\n  border-radius: 10rpx;\r\n}\r\n\r\n.pd-address .addr-line {\r\n  display: block;\r\n  color: #333;\r\n  font-size: 24rpx;\r\n}\r\n\r\n.pd-address .addr-btn {\r\n  background: #f7f7f7;\r\n  color: #333;\r\n  border: 1rpx solid #e6e6e6;\r\n  border-radius: 8rpx;\r\n}\r\n\r\n/* H5 è§„æ ¼åˆ—è¡¨å·¦å›¾å³æ–‡æ’ç‰ˆï¼šä¸€è¡Œä¸¤åˆ— */\r\n.specs-list {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, minmax(0, 1fr));\r\n  grid-gap: 12rpx;\r\n}\r\n\r\n.spec-item {\r\n  flex-direction: row;\r\n  align-items: center;\r\n  box-shadow: 0 6rpx 16rpx rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.spec-thumb {\r\n  width: 120rpx;\r\n  height: 120rpx;\r\n}\r\n\r\n.spec-info {\r\n  flex: 1;\r\n}\r\n\r\n.spec-price-row {\r\n  justify-content: flex-start;\r\n  gap: 10rpx;\r\n}\r\n\r\n.pd-form {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16rpx;\r\n  margin-top: 16rpx;\r\n}\r\n\r\n.pd-field {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  gap: 8rpx;\r\n}\r\n\r\n.pd-field.inline {\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  gap: 20rpx;\r\n}\r\n\r\n/* .pd-param-grid { display: flex; align-items: center; gap: 20rpx; white-space: nowrap; overflow: hidden; } */\r\n.pd-param-item {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 8rpx;\r\n  white-space: nowrap;\r\n}\r\n\r\n.pd-param-item .key,\r\n.pd-param-item .val {\r\n  white-space: nowrap;\r\n}\r\n\r\n.pd-param-item.inline-params {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 16rpx;\r\n}\r\n\r\n.pd-param-item.inline-params .sub-item {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 8rpx;\r\n  white-space: nowrap;\r\n}\r\n\r\n.pd-param-item.inline-params .sub-item .val {\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  max-width: 40vw;\r\n}\r\n\r\n.picker-display {\r\n  flex: 1;\r\n  min-height: 64rpx;\r\n  line-height: 64rpx;\r\n  background: white;\r\n  border: 1rpx solid #e5e5e5;\r\n  border-radius: 10rpx;\r\n  padding: 0 14rpx;\r\n  color: #666;\r\n  max-width: 30%;\r\n}\r\n\r\n.pd-input {\r\n  width: 100%;\r\n  height: 64rpx;\r\n  line-height: 64rpx;\r\n  background: white;\r\n  border: 1rpx solid #e5e5e5;\r\n  border-radius: 10rpx;\r\n  padding: 0 14rpx;\r\n  max-width: 30%;\r\n}\r\n\r\n/* H5 å†…è”å­—æ®µè¾“å…¥å®½åº¦ç¼©å° */\r\n.pd-field.inline .pd-input,\r\n.pd-field.inline .picker-display {\r\n  flex: 1;\r\n  /* width: 60%; */\r\n}\r\n\r\n.unit-tip {\r\n  margin-left: 12rpx;\r\n  font-size: 24rpx;\r\n  color: #666;\r\n}\r\n\r\n.pd-title {\r\n  font-size: 40rpx;\r\n  color: #222;\r\n  font-weight: 700;\r\n  display: block;\r\n  padding: 10rpx;\r\n}\r\n\r\n.pd-price-row {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12rpx;\r\n  margin-top: 10rpx;\r\n}\r\n\r\n.pd-price {\r\n  color: #000;\r\n  font-size: 50rpx;\r\n  font-weight: 700;\r\n}\r\n\r\n.pd-coupon {\r\n  background: #18FAE0;\r\n  color: #000;\r\n  padding: 8rpx 12rpx;\r\n  border-radius: 6rpx;\r\n  font-size: 24rpx;\r\n}\r\n\r\n.pd-meta {\r\n  color: #777;\r\n  font-size: 24rpx;\r\n  /* margin-top: 12rpx; */\r\n}\r\n\r\n.pd-qty-row {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-top: 20rpx;\r\n  padding: 12rpx;\r\n  background: #fafafa;\r\n  border: 1rpx solid #eee;\r\n  border-radius: 10rpx;\r\n}\r\n\r\n.qty-wrapper {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.pd-qty-row .label {\r\n  color: #333;\r\n  margin-right: 16rpx;\r\n}\r\n\r\n.actions-wrapper {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12rpx;\r\n}\r\n\r\n.actions-wrapper .btn-buy {\r\n  width: auto;\r\n  min-width: 140rpx;\r\n  height: 60rpx;\r\n  line-height: 60rpx;\r\n  font-size: 26rpx;\r\n  background: linear-gradient(135deg, #ff6a00, #ff2d55);\r\n  color: #fff;\r\n  border-radius: 30rpx;\r\n  padding: 0 20rpx;\r\n  margin: 0;\r\n}\r\n\r\n.pd-info .actions-wrapper .btn-cart {\r\n  flex: none;\r\n  width: auto;\r\n  min-width: 140rpx;\r\n  height: 60rpx;\r\n  line-height: 60rpx;\r\n  font-size: 26rpx;\r\n  background: #ff8c3a;\r\n  color: #fff;\r\n  border-radius: 30rpx;\r\n  padding: 0 20rpx;\r\n  margin: 0;\r\n}\r\n\r\n/* H5 æˆ¿é—´é€‰æ‹©å¼¹çª— */\r\n.h5-mask {\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, .45);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 9999;\r\n}\r\n\r\n.h5-sheet {\r\n  width: 820rpx;\r\n  background: #fff;\r\n  border-radius: 16rpx;\r\n  padding: 24rpx;\r\n  box-shadow: 0 12rpx 28rpx rgba(0, 0, 0, 0.12);\r\n}\r\n\r\n.h5-title {\r\n  font-size: 32rpx;\r\n  font-weight: 700;\r\n  color: #333;\r\n  padding-bottom: 12rpx;\r\n  border-bottom: 1rpx solid #f0f0f0;\r\n  margin-bottom: 16rpx;\r\n}\r\n\r\n.h5-actions {\r\n  display: flex;\r\n  gap: 12rpx;\r\n  margin-top: 16rpx;\r\n}\r\n\r\n.h5-btn {\r\n  flex: 1;\r\n  height: 72rpx;\r\n  border-radius: 999rpx;\r\n  font-size: 28rpx;\r\n}\r\n\r\n.h5-btn.ghost {\r\n  background: #f7f7f7;\r\n  color: #333;\r\n  border: 1rpx solid #e6e6e6;\r\n}\r\n\r\n.h5-btn.primary {\r\n  background: linear-gradient(135deg, #ff6a00, #ff2d55);\r\n  color: #fff;\r\n  box-shadow: 0 6rpx 16rpx rgba(255, 106, 0, 0.35);\r\n}\r\n\r\n/* #endif */\r\n\r\n/* #ifdef MP-WEIXIN */\r\n.product-page.no-scroll {\r\n  height: 100vh;\r\n  overflow: hidden;\r\n}\r\n\r\n.mp-mask {\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, .55);\r\n  display: flex;\r\n  align-items: flex-end;\r\n  /* åº•éƒ¨å¼¹çª— */\r\n  justify-content: center;\r\n  z-index: 9999;\r\n}\r\n\r\n.mp-sheet {\r\n  width: 100vw;\r\n  max-width: none;\r\n  background: #fff;\r\n  border-top-left-radius: 24rpx;\r\n  border-top-right-radius: 24rpx;\r\n  padding: 24rpx;\r\n  box-shadow: 0 -8rpx 24rpx rgba(0, 0, 0, 0.08);\r\n  display: flex;\r\n  flex-direction: column;\r\n  max-height: 80vh;\r\n  overflow: hidden;\r\n  animation: mpSlideUp .22s ease-out;\r\n  padding-bottom: calc(24rpx + env(safe-area-inset-bottom));\r\n}\r\n\r\n.mp-scroll-view {\r\n  flex: 1;\r\n  min-height: 0;\r\n  margin-bottom: 16rpx;\r\n  height: 60vh;\r\n  overflow-y: scroll;\r\n  -ms-overflow-style: none;\r\n  scrollbar-width: none;\r\n}\r\n\r\n.mp-scroll-view::-webkit-scrollbar {\r\n  width: 0;\r\n  height: 0;\r\n  display: none;\r\n}\r\n\r\n.mp-title {\r\n  font-size: 32rpx;\r\n  font-weight: 700;\r\n  color: #333;\r\n}\r\n.count-input {\r\n  width: 72rpx;\r\n  height: 80rpx;\r\n  line-height: 80rpx;\r\n  border: none;\r\n  border-radius: 0;\r\n  text-align: center;\r\n  font-size: 30rpx;\r\n  background: transparent;\r\n  color: #333;\r\n  margin: 0 12rpx;\r\n}\r\n  /* padding-bottom: 12rpx;\r\n  border-bottom: 1rpx solid #f0f0f0;\r\n  margin-bottom: 20rpx;\r\n} */\r\n\r\n.mp-field {\r\n  display: flex;\r\n  align-items: center;\r\n  /* justify-content: space-between; */\r\n  gap: 12rpx;\r\n  margin: 16rpx 0;\r\n}\r\n\r\n.mp-input {\r\n  width: 60%;\r\n  height: 64rpx;\r\n  line-height: 64rpx;\r\n  background: #fff;\r\n  border: 1rpx solid #e6e6e6;\r\n  border-radius: 12rpx;\r\n  padding: 0 14rpx;\r\n}\r\n\r\n.mp-actions {\r\n  display: flex;\r\n  gap: 12rpx;\r\n  margin-top: auto;\r\n  /* å›ºå®šåœ¨åº•éƒ¨ */\r\n  padding-top: 16rpx;\r\n  border-top: 1rpx solid #f0f0f0;\r\n}\r\n\r\n.mp-btn {\r\n  flex: 1;\r\n  height: 72rpx;\r\n  border-radius: 999rpx;\r\n  font-size: 28rpx;\r\n}\r\n\r\n.mp-btn.ghost {\r\n  background: #f7f7f7;\r\n  color: #333;\r\n  border: 1rpx solid #e6e6e6;\r\n}\r\n\r\n.mp-btn.primary {\r\n  background: #000;\r\n  color: #fff;\r\n}\r\n\r\n/* ä½¿æ•°é‡æ­¥è¿›å™¨æ¨ªå‘æ’åˆ— */\r\n.mp-sheet .qty-stepper {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  background: #f7f7f7;\r\n  border-radius: 40rpx;\r\n  height: 80rpx;\r\n  padding: 0 4rpx;\r\n}\r\n\r\n/* æ·˜å®é£æ ¼ï¼šæ­¥è¿›å™¨åœ¨å¼¹çª—å†…çš„æ ·å¼é€‚é… */\r\n.mp-sheet .qty-stepper .step {\r\n  width: 64rpx;\r\n  height: 100%;\r\n  border-radius: 0;\r\n  background: transparent;\r\n  border: none;\r\n  color: #333;\r\n  font-size: 40rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n.mp-sheet .qty-stepper .step::after {\r\n  border: none;\r\n}\r\n\r\n/* Remove button border */\r\n\r\n.mp-sheet .qty-stepper .count {\r\n  width: 80rpx;\r\n  text-align: center;\r\n  font-size: 28rpx;\r\n  color: #333;\r\n}\r\n\r\n@keyframes mpSlideUp {\r\n  from {\r\n    transform: translateY(100%);\r\n  }\r\n\r\n  to {\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n/* å‚æ•°ä¸å›¾æ–‡è¯¦æƒ…æ ·å¼ */\r\n.mp-section {\r\n  background: #fff;\r\n  border-radius: 12rpx;\r\n  padding: 20rpx;\r\n  margin: 20rpx;\r\n}\r\n\r\n.mp-title {\r\n  font-size: 30rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin-bottom: 12rpx;\r\n}\r\n\r\n.mp-param-grid {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12rpx;\r\n  border-radius: 10rpx;\r\n  background: #fafafa;\r\n}\r\n\r\n.mp-param-item {\r\n  border: none;\r\n  padding: 10rpx;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.mp-param-item .key {\r\n  color: #666;\r\n  font-size: 24rpx;\r\n}\r\n\r\n.mp-param-item .val {\r\n  color: #333;\r\n  font-size: 26rpx;\r\n  margin-top: 0rpx;\r\n}\r\n\r\n.mp-detail-img {\r\n  width: 100%;\r\n  border-radius: 8rpx;\r\n  background: #f5f5f5;\r\n  margin-top: 12rpx;\r\n}\r\n\r\n/* #endif */\r\n\r\n/* MP Modifications */\r\n.mp-info-spacing {\r\n  padding: 20rpx 40rpx;\r\n}\r\n\r\n.mp-section-spacing {\r\n  padding: 20rpx 20rpx;\r\n}\r\n\r\n.mp-price-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-top: 12rpx;\r\n}\r\n\r\n.mp-param-row-inline {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  margin-top: 12rpx;\r\n  border-top: 1rpx solid #eee;\r\n  padding-top: 12rpx;\r\n}\r\n\r\n.mp-param-item.inline {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  border: none;\r\n  padding: 0 10rpx;\r\n  gap: 4rpx;\r\n}\r\n\r\n.mp-param-item.inline .key {\r\n  margin-bottom: 0;\r\n  white-space: nowrap;\r\n}\r\n\r\n.mp-param-item.inline .val {\r\n  margin-top: 0;\r\n  text-align: center;\r\n  white-space: nowrap;\r\n}\r\n\r\n/* #ifdef MP-WEIXIN */\r\n.mp-param-grid {\r\n  width: 100%;\r\n  margin: 0 auto;\r\n}\r\n\r\n.mp-param-item .key {\r\n  min-width: 120rpx;\r\n  display: inline-block;\r\n}\r\n\r\n.pd-section-title {\r\n  margin-bottom: 16rpx;\r\n}\r\n\r\n/* #endif */\r\n\r\n/* Address Card Style from Cart Page (H5) */\r\n.address-card {\r\n  position: relative;\r\n  /* background: #fff; */\r\n  border-radius: 16rpx;\r\n  padding: 20rpx;\r\n  padding-right: 180rpx;\r\n  /* box-shadow: 0 4rpx 16rpx rgba(0,0,0,.06); */\r\n  /* border: 1rpx solid #eee; */\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.address-card .addr-title {\r\n  font-weight: 600;\r\n  color: #333;\r\n  font-size: 28rpx;\r\n}\r\n\r\n.address-card .addr-body {\r\n  margin-top: 8rpx;\r\n  color: #555;\r\n  font-size: 24rpx;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 6rpx;\r\n}\r\n\r\n.address-card .addr-line {\r\n  font-size: 26rpx;\r\n  color: #333;\r\n}\r\n\r\n.address-card .addr-empty {\r\n  margin-top: 8rpx;\r\n  color: #999;\r\n  font-size: 24rpx;\r\n}\r\n\r\n.address-card .addr-actions {\r\n  position: absolute;\r\n  right: 20rpx;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  margin-top: 0;\r\n  display: flex;\r\n  gap: 12rpx;\r\n}\r\n\r\n.address-card .addr-btn {\r\n  background: #fff;\r\n  border: 1rpx solid #ddd;\r\n  color: #333;\r\n  border-radius: 999rpx;\r\n  font-size: 24rpx;\r\n  padding: 0 20rpx;\r\n  height: 50rpx;\r\n  line-height: 48rpx;\r\n}\r\n\r\n.address-card .addr-btn {\r\n  background: #fff;\r\n  border: 1rpx solid #ddd;\r\n  color: #333;\r\n  border-radius: 999rpx;\r\n  font-size: 30rpx;\r\n  padding: 0 40rpx;\r\n  height: 72rpx;\r\n  line-height: 70rpx;\r\n}\r\n\r\n.address-card {\r\n  padding-right: 220rpx;\r\n}\r\n\r\n/* MP Address Bar Style from Cart Page */\r\n.mp-address-bar {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 20rpx;\r\n  /* background: #fff; */\r\n  border: 1rpx solid #e6e6e6;\r\n  border-radius: 12rpx;\r\n  margin: 16rpx 0;\r\n}\r\n\r\n.bar-left {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12rpx;\r\n  flex: 1;\r\n  overflow: hidden;\r\n}\r\n\r\n.addr-icon {\r\n  font-size: 28rpx;\r\n  color: #000;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.bar-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-size: 24rpx;\r\n  color: #555;\r\n  flex: 1;\r\n  overflow: hidden;\r\n}\r\n\r\n.bar-line {\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.bar-btn {\r\n  background: #fff;\r\n  border: 1rpx solid #ddd;\r\n  color: #333;\r\n  border-radius: 999rpx;\r\n  margin: 0;\r\n  font-size: 24rpx;\r\n  padding: 0 24rpx;\r\n  height: 50rpx;\r\n  line-height: 48rpx;\r\n  flex-shrink: 0;\r\n}\r\n\r\n/* H5 Actions Row (3 buttons layout) */\r\n.pd-actions-row {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16rpx;\r\n  margin-top: 24rpx;\r\n}\r\n\r\n.qty-box-large {\r\n  width: 200rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  height: 80rpx;\r\n  background: #f7f7f7;\r\n  border-radius: 40rpx;\r\n  padding: 0 4rpx;\r\n}\r\n\r\n.qty-box-large .qty-btn {\r\n  width: 64rpx;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 40rpx;\r\n  color: #333;\r\n}\r\n\r\n.qty-box-large .qty-num {\r\n  font-size: 30rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n}\r\n.qty-box-large .qty-input {\r\n  width: 72rpx;\r\n  height: 100%;\r\n  border: none;\r\n  background: transparent;\r\n  text-align: center;\r\n  font-size: 30rpx;\r\n  color: #333;\r\n}\r\n\r\n.btn-action {\r\n  flex: 1;\r\n  height: 80rpx;\r\n  border-radius: 40rpx;\r\n  font-size: 28rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 0;\r\n  margin: 0;\r\n  font-weight: 600;\r\n}\r\n\r\n.btn-action.btn-cart {\r\n  background: #d9d9d9;\r\n  color: #333;\r\n}\r\n\r\n.btn-action.btn-buy {\r\n  background: #000;\r\n  color: #fff;\r\n}\r\n</style>\r\n","import MiniProgramPage from 'C:/Users/HP/Desktop/LiShop/LiShop/pages/product/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["getProductDetail","uni","wx","addCartItem","_a","getRooms","createRoom","addAddress"],"mappings":"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"}