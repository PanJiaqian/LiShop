{"version":3,"file":"BannerSwiper.js","sources":["components/BannerSwiper.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/QzovVXNlcnMvSFAvRGVza3RvcC9MaVNob3AvTGlTaG9wL2NvbXBvbmVudHMvQmFubmVyU3dpcGVyLnZ1ZQ"],"sourcesContent":["<template>\r\n  <view class=\"banner\">\r\n    <swiper\r\n      class=\"swiper\"\r\n      :indicator-dots=\"true\"\r\n      :autoplay=\"true\"\r\n      :interval=\"4000\"\r\n      :circular=\"true\"\r\n      @touchstart=\"onTouchStart\"\r\n      @touchmove=\"onTouchMove\"\r\n      @touchend=\"onTouchEnd\"\r\n      @mousedown=\"onMouseDown\"\r\n      @mousemove=\"onMouseMove\"\r\n      @mouseup=\"onMouseUp\"\r\n    >\r\n      <swiper-item v-for=\"(item, idx) in images\" :key=\"idx\" @click=\"onClick(item)\">\r\n        <image class=\"img\" :src=\"item.image || item\" mode=\"aspectFill\" />\r\n      </swiper-item>\r\n    </swiper>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'BannerSwiper',\r\n  props: {\r\n    images: { type: Array, default: () => ['/static/logo.png', '/static/logo.png'] }\r\n  },\r\n  data() {\r\n    return {\r\n      dragging: false,\r\n      justEndedSwipe: false,\r\n      startX: 0,\r\n      startY: 0,\r\n      threshold: 8\r\n    }\r\n  },\r\n  methods: {\r\n    getPoint(e) {\r\n      try {\r\n        if (e && e.touches && e.touches[0]) {\r\n          return { x: e.touches[0].clientX || e.touches[0].pageX || 0, y: e.touches[0].clientY || e.touches[0].pageY || 0 }\r\n        }\r\n        if (e && e.changedTouches && e.changedTouches[0]) {\r\n          return { x: e.changedTouches[0].clientX || e.changedTouches[0].pageX || 0, y: e.changedTouches[0].clientY || e.changedTouches[0].pageY || 0 }\r\n        }\r\n        return { x: e?.clientX || e?.pageX || 0, y: e?.clientY || e?.pageY || 0 }\r\n      } catch (err) {\r\n        return { x: 0, y: 0 }\r\n      }\r\n    },\r\n    onTouchStart(e) {\r\n      const p = this.getPoint(e)\r\n      this.startX = p.x\r\n      this.startY = p.y\r\n      this.dragging = false\r\n      this.justEndedSwipe = false\r\n    },\r\n    onTouchMove(e) {\r\n      const p = this.getPoint(e)\r\n      const dx = Math.abs((p.x || 0) - (this.startX || 0))\r\n      const dy = Math.abs((p.y || 0) - (this.startY || 0))\r\n      if (dx > this.threshold || dy > this.threshold) {\r\n        this.dragging = true\r\n      }\r\n    },\r\n    onTouchEnd() {\r\n      if (this.dragging) {\r\n        this.justEndedSwipe = true\r\n        setTimeout(() => { this.justEndedSwipe = false }, 300)\r\n      }\r\n    },\r\n    onMouseDown(e) {\r\n      const p = this.getPoint(e)\r\n      this.startX = p.x\r\n      this.startY = p.y\r\n      this.dragging = false\r\n      this.justEndedSwipe = false\r\n    },\r\n    onMouseMove(e) {\r\n      const p = this.getPoint(e)\r\n      const dx = Math.abs((p.x || 0) - (this.startX || 0))\r\n      const dy = Math.abs((p.y || 0) - (this.startY || 0))\r\n      if (dx > this.threshold || dy > this.threshold) {\r\n        this.dragging = true\r\n      }\r\n    },\r\n    onMouseUp() {\r\n      if (this.dragging) {\r\n        this.justEndedSwipe = true\r\n        setTimeout(() => { this.justEndedSwipe = false }, 300)\r\n      }\r\n    },\r\n    onClick(item) {\r\n      if (this.dragging || this.justEndedSwipe) return\r\n      const id = item.id || ''\r\n      if (id) {\r\n        uni.navigateTo({ url: '/pages/product/index?id=' + id })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.banner {\r\n  padding: 0 20rpx;\r\n}\r\n\r\n.swiper {\r\n  height: 280rpx;\r\n  border-radius: 16rpx;\r\n  overflow: hidden;\r\n}\r\n\r\n.img {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: block;\r\n}\r\n</style>\r\n","import Component from 'C:/Users/HP/Desktop/LiShop/LiShop/components/BannerSwiper.vue'\nwx.createComponent(Component)"],"names":["uni"],"mappings":"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"}